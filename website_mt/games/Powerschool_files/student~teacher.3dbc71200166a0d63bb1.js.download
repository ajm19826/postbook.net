(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},EhJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n("LvDl"),i=function(){var e=Object(r.useState)(null),t=e[0],n=e[1];return Object(r.useLayoutEffect)((function(){var e=o.debounce((function(){var e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);n(e)}),200,{leading:!0});return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t},a=function(){var e=i(),t=Object(r.useState)(!1),n=t[0],o=t[1];return Object(r.useLayoutEffect)((function(){null!==e&&o(e<=832)}),[e]),n}},FNTv:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n("3Gup"),o=n("kQqu"),i=n("Eb1a"),a=n("e0F+"),c=n("UrGj"),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},f=null;function d(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return f||(f=function(){return s(this,void 0,void 0,(function(){var e,t,n=this;return l(this,(function(r){switch(r.label){case 0:return[4,h()];case 1:e=r.sent();try{t=new o.WebsocketClient({userID:c.InitialData.userID,accountType:"district",host:e.iotHost,region:e.iotRegion,authorizerOptions:p(e),fetchNewAuthorizerOptions:function(){return s(n,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,h()];case 1:return[2,p(e.sent())]}}))}))},debug:!1})}catch(i){throw console.error(i),i}return[2,{websocketClient:t,topicBases:{notifications:e.notificationsTopicBase}}]}}))}))}()),[2,f]}))}))}function h(){return s(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,r.Fetch.get("/in/"+c.InitialData.districtShortname+"/api/general/websocketCredentials")];case 1:return[2,e.sent()]}}))}))}function p(e){return u(u({},e),{expireAt:new Date(1e3*e.expireAt)})}var b=n("yF3p"),v=n("Lje0"),w=n("oCVq"),y=i.default.dispatch;function g(e){var t=e.data.channelID;y(v.c.removeThread(t))}function m(e){var t=e.data,n=t.channelID;"readMessageCount"===t.updateType&&y(v.a.fetchChannelWithMessagesForUser(n,"direct"))}function D(e){var t=e.data,n=t.channelID,r=t.messageID;y(v.a.fetchChannelWithMessagesForUser(n,"direct",!1,r))}function I(e){var t=e.data,n=t.channelID,r=t.messageID;y(v.c.setMessageIsDeletedValue(n,r,!0))}function k(e){var t=e.data;switch(t.updateType){case"messagingDisabled":w.a.toggleMessagingForTeacher(t.userID,!1);break;case"messagingEnabled":w.a.toggleMessagingForTeacher(t.userID,!0);break;default:return}}var x=n("mWv4"),T=n("fVz/"),E=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function j(e){var t=e.data,n=t.url,r=t.appID,o=t.title,a=t.icon,c=t.teacherID;if(n){var u,s=i.default.getState(),l=i.selectors.district(s).shortname,f=!1,d=!1;if(r){var h=i.selectors.districtApps(s).find((function(e){return e.id===r}));f=null==h?void 0:h.isSavedPasswordsApp(),d=!!(null==h?void 0:h.hasCredentials)}if(f&&!d)u="/in/"+l+"/student/portal?appID="+r;else{var p=encodeURIComponent(n),b=encodeURIComponent(a||""),v=encodeURIComponent(o||"");u="/in/"+l+"/student/portal?&resourceURL="+p+"&iconUrl="+b+"&title="+v+"&teacherID="+c}S((function(){window.location.href=u}))}}function C(){var e=this;i.selectors.extensionInstalled(i.default.getState())&&Object(T.canSendExtensionMessage)()?S((function(){return E(e,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(t=M(),n=250,r=new Promise((function(e,t){return setTimeout(t,n)})),Promise.race([t,r]))];case 1:return e.sent(),[3,3];case 2:return e.sent(),console.log("Logging out of third party apps timed out"),[3,3];case 3:return window.location.href="/logout",[2]}var t,n,r}))}))})):S((function(){window.location.href="/logout"}))}function S(e){var t=Math.floor(5e3*Math.random());return setTimeout(e,t)}function M(){return E(this,void 0,void 0,(function(){return O(this,(function(e){return[2,new Promise((function(e){Object(T.sendExtensionMessage)({type:"logout_apps"},e)}))]}))}))}var U=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},L=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},F=function(){return function(e,t){return U(void 0,void 0,void 0,(function(){var n,c,u,s,l,f,h,p,v,w,y;return L(this,(function(T){switch(T.label){case 0:if(n=t(),c=i.selectors.notificationsClientLoading(n),u=i.selectors.notificationsClientLoaded(n),c||u)return[2];e(Object(r.asPending)(Object(b.a)())),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,d()];case 2:return y=T.sent(),s=y.websocketClient,l=y.topicBases,[3,4];case 3:return f=T.sent(),e(Object(r.asError)(Object(b.a)(f))),[2];case 4:return h=a.f(n),p=h.id,v=h.type,(w=new o.NotificationsWebsocketClient(s,{userID:p,accountType:"district",notificationsTopicBase:l.notifications,debug:!1})).subscribeToAppNotifications("portal"),function(e){e.setHandler("channelLeft",g),e.setHandler("channelMemberUpdated",m),e.setHandler("messageAdded",D),e.setHandler("messageDeleted",I),e.setHandler("userUpdated",k)}(w),v===x.UserType.STUDENT&&function(e){e.setHandler("teacherTools/launch",j),e.setHandler("teacherTools/logout",C)}(w),e(Object(b.a)(w)),[2]}}))}))}}},HEhQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("a5VM"),o=function(e){return Object(r.featureFlagEnabled)(e,"messaging-maintenance-mode")}}}]);