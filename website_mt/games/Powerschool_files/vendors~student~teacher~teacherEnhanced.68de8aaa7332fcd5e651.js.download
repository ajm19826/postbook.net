/*! For license information please see vendors~student~teacher~teacherEnhanced.68de8aaa7332fcd5e651.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"+Wds":function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},"+XMV":function(t,e,n){"use strict";t.exports=n("GOzd")()?String.prototype.contains:n("+Wds")},"+cGb":function(t,e){t.exports=function(t){var e=t._readableState;return e?e.objectMode?t.read():t.read(function(t){if(t.buffer.length)return t.buffer.head?t.buffer.head.data.length:t.buffer[0].length;return t.length}(e)):null}},"+xLd":function(t,e,n){(function(e,r){var i=n("43KI"),o=n("q1Jy"),s=n("P7XM"),a=n("+cGb"),c=e.from&&e.from!==Uint8Array.from?e.from([0]):new e([0]),u=function(t,e){t._corked?t.once("uncork",e):e()},l=function(t,e){return function(n){n?function(t,e){t._autoDestroy&&t.destroy(e)}(t,"premature close"===n.message?null:n):e&&!t._ended&&t.end()}},h=function(t,e,n){if(!(this instanceof h))return new h(t,e,n);i.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||!1!==n.autoDestroy,this._forwardDestroy=!n||!1!==n.destroy,this._forwardEnd=!n||!1!==n.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};s(h,i.Duplex),h.obj=function(t,e,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new h(t,e,n)},h.prototype.cork=function(){1==++this._corked&&this.emit("cork")},h.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},h.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var e=this,n=o(t,{writable:!0,readable:!1},l(this,this._forwardEnd)),i=function(){var t=e._ondrain;e._ondrain=null,t&&t()};this._unwrite&&r.nextTick(i),this._writable=t,this._writable.on("drain",i),this._unwrite=function(){e._writable.removeListener("drain",i),n()},this.uncork()}else this.end()},h.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e,n=this,r=o(t,{writable:!1,readable:!0},l(this)),s=function(){n._forward()},a=function(){n.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:(e=t,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(e)),this._readable2.on("readable",s),this._readable2.on("end",a),this._unread=function(){n._readable2.removeListener("readable",s),n._readable2.removeListener("end",a),r()},this._forward()}},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=a(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},h.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var e=this;r.nextTick((function(){e._destroy(t)}))}},h.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},h.prototype._write=function(t,e,n){return this.destroyed?n():this._corked?u(this,this._write.bind(this,t,e,n)):t===c?this._finish(n):this._writable?void(!1===this._writable.write(t)?this._ondrain=n:n()):n()},h.prototype._finish=function(t){var e=this;this.emit("preend"),u(this,(function(){var n,r;n=e._forwardEnd&&e._writable,r=function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),u(e,t)},n?n._writableState&&n._writableState.finished?r():n._writableState?n.end(r):(n.end(),r()):r()}))},h.prototype.end=function(t,e,n){return"function"==typeof t?this.end(null,null,t):"function"==typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this.write(c),i.Writable.prototype.end.call(this,n))},t.exports=h}).call(this,n("tjlA").Buffer,n("8oxB"))},"/1Vs":function(t,e,n){"use strict";t.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},"/LkU":function(t,e,n){"use strict";(function(e){var r=n("VT4K"),i=n("skmB"),o=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],s="browser"===e.title;function a(t,e){var n="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";!function(t){t.hostname||(t.hostname="localhost"),t.port||("wss"===t.protocol?t.port=443:t.port=80),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={}),s||"wss"!==t.protocol||o.forEach((function(e){t.hasOwnProperty(e)&&!t.wsOptions.hasOwnProperty(e)&&(t.wsOptions[e]=t[e])}))}(e);var i=function(t,e){var n=t.protocol+"://"+t.hostname+":"+t.port+t.path;return"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);return r(i,[n],e.wsOptions)}t.exports=s?function(t,e){if(e.hostname||(e.hostname=e.host),!e.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var n=i.parse(document.URL);e.hostname=n.hostname,e.port||(e.port=n.port)}return a(t,e)}:function(t,e){return a(t,e)}}).call(this,n("8oxB"))},"/jyY":function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){var n;function i(r){e.rejectUnauthorized&&t.emit("error",r),n.end()}return e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",e.rejectUnauthorized=!1!==e.rejectUnauthorized,delete e.path,(n=r.connect(e)).on("secureConnect",(function(){e.rejectUnauthorized&&!n.authorized?n.emit("error",new Error("TLS not authorized")):n.removeListener("error",i)})),n.on("error",i),n}},"1TtK":function(t,e,n){"use strict";var r=n("xfTp"),i=Math.max;t.exports=function(t){return i(0,r(t))}},"1jOq":function(t,e){t.exports=function t(e,n){if(e&&n)return t(e)(n);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){r[t]=e[t]})),r;function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(t){r[t]=i[t]})),r}}},"1m9z":function(t,e,n){"use strict";var r=n("sYVv"),i=n("IDEf"),o=n("lq5y");t.exports=function(t){var e=Object(o(t)),n=arguments[1],s=Object(arguments[2]);if(e!==t&&!n)return e;var a={};return n?r(n,(function(e){(s.ensure||e in t)&&(a[e]=t[e])})):i(a,t),a}},"33yf":function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("8oxB"))},"34ae":function(t,e,n){"use strict";(function(e,r){var i=n("fiWp"),o=n("6gh9"),s=n("q1Jy"),a=n("NAn0"),c=n("43KI").Writable,u=n("P7XM"),l=n("KaIO"),h=n("roTD"),f=n("U6jy"),p=e.setImmediate||function(t){r.nextTick(t)},d={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0};function g(t,e,n){t.emit("packetsend",e),!a.writeToStream(e,t.stream)&&n?t.stream.once("drain",n):n&&n()}function b(t,e,n){t.outgoingStore.put(e,(function(r){if(r)return n&&n(r);g(t,e,n)}))}function _(){}function y(t,e){var n,r=this;if(!(this instanceof y))return new y(t,e);for(n in this.options=e||{},d)void 0===this.options[n]?this.options[n]=d[n]:this.options[n]=e[n];this.options.clientId="string"==typeof this.options.clientId?this.options.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),this.streamBuilder=t,this.outgoingStore=this.options.outgoingStore||new o,this.incomingStore=this.options.incomingStore||new o,this.queueQoSZero=void 0===this.options.queueQoSZero||this.options.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this.on("connect",(function(){if(!this.disconnected){this.connected=!0;var t=this.outgoingStore.createStream();this.once("close",e),t.on("end",(function(){r.removeListener("close",e)})),t.on("error",(function(t){r.removeListener("close",e),r.emit("error",t)})),function e(){if(t){var n,i=t.read(1);i?r.disconnecting||r.reconnectTimer?t.destroy&&t.destroy():(n=r.outgoing[i.messageId],r.outgoing[i.messageId]=function(t,r){n&&n(t,r),e()},r._sendPacket(i)):t.once("readable",e)}}()}function e(){t.destroy(),t=null}})),this.on("close",(function(){this.connected=!1,clearTimeout(this.connackTimer)})),this.on("connect",this._setupPingTimer),this.on("connect",(function(){var t=this.queue;!function e(){var n,i=t.shift();i&&(n=i.packet,r._sendPacket(n,(function(t){i.cb&&i.cb(t),e()})))}()}));var s=!0;this.on("connect",(function(){!s&&this.options.clean&&Object.keys(this._resubscribeTopics).length>0&&(this.options.resubscribe?(this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics)):this._resubscribeTopics={}),s=!1})),this.on("close",(function(){null!==r.pingTimer&&(r.pingTimer.clear(),r.pingTimer=null)})),this.on("close",this._setupReconnect),i.EventEmitter.call(this),this._setupStream()}u(y,i.EventEmitter),y.prototype._setupStream=function(){var t,e=this,n=new c,i=a.parser(this.options),o=null,u=[];function l(){r.nextTick(h)}function h(){var t=u.shift(),n=o;t?e._handlePacket(t,l):(o=null,n())}this._clearReconnect(),this.stream=this.streamBuilder(this),i.on("packet",(function(t){u.push(t)})),n._write=function(t,e,n){o=n,i.parse(t),h()},this.stream.pipe(n),this.stream.on("error",_),s(this.stream,this.emit.bind(this,"close")),(t=Object.create(this.options)).cmd="connect",g(this,t),i.on("error",this.emit.bind(this,"error")),this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){e._cleanUp(!0)}),this.options.connectTimeout)},y.prototype._handlePacket=function(t,e){switch(this.emit("packetreceive",t),t.cmd){case"publish":this._handlePublish(t,e);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(t),e();break;case"pubrel":this._handlePubrel(t,e);break;case"connack":this._handleConnack(t),e();break;case"pingresp":this._handlePingresp(t),e()}},y.prototype._checkDisconnecting=function(t){return this.disconnecting&&(t?t(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},y.prototype.publish=function(t,e,n,r){var i;"function"==typeof n&&(r=n,n=null);if(n=f({qos:0,retain:!1,dup:!1},n),this._checkDisconnecting(r))return this;switch(i={cmd:"publish",topic:t,payload:e,qos:n.qos,retain:n.retain,messageId:this._nextId(),dup:n.dup},n.qos){case 1:case 2:this.outgoing[i.messageId]=r||_,this._sendPacket(i);break;default:this._sendPacket(i,r)}return this},y.prototype.subscribe=function(){var t,e,n=Array.prototype.slice.call(arguments),r=[],i=n.shift(),o=i.resubscribe,s=n.pop()||_,a=n.pop(),c=this;if(delete i.resubscribe,"string"==typeof i&&(i=[i]),"function"!=typeof s&&(a=s,s=_),null!==(e=h.validateTopics(i)))return p(s,new Error("Invalid topic "+e)),this;if(this._checkDisconnecting(s))return this;var u={qos:0};if(a=f(u,a),Array.isArray(i)?i.forEach((function(t){(c._resubscribeTopics[t]<a.qos||!c._resubscribeTopics.hasOwnProperty(t)||o)&&r.push({topic:t,qos:a.qos})})):Object.keys(i).forEach((function(t){(c._resubscribeTopics[t]<i[t]||!c._resubscribeTopics.hasOwnProperty(t)||o)&&r.push({topic:t,qos:i[t]})})),t={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:this._nextId()},r.length){if(this.options.resubscribe){var l=[];r.forEach((function(t){c.options.reconnectPeriod>0&&(c._resubscribeTopics[t.topic]=t.qos,l.push(t.topic))})),c.messageIdToTopic[t.messageId]=l}return this.outgoing[t.messageId]=function(t,e){if(!t)for(var n=e.granted,i=0;i<n.length;i+=1)r[i].qos=n[i];s(t,r)},this._sendPacket(t),this}s(null,[])},y.prototype.unsubscribe=function(t,e){var n={cmd:"unsubscribe",qos:1,messageId:this._nextId()},r=this;return e=e||_,this._checkDisconnecting(e)||("string"==typeof t?n.unsubscriptions=[t]:"object"==typeof t&&t.length&&(n.unsubscriptions=t),this.options.resubscribe&&n.unsubscriptions.forEach((function(t){delete r._resubscribeTopics[t]})),this.outgoing[n.messageId]=e,this._sendPacket(n)),this},y.prototype.end=function(t,e){var n=this;function r(){n.disconnected=!0,n.incomingStore.close((function(){n.outgoingStore.close((function(){e&&e.apply(null,arguments),n.emit("end")}))})),n._deferredReconnect&&n._deferredReconnect()}function i(){n._cleanUp(t,p.bind(null,r))}return"function"==typeof t&&(e=t,t=!1),this.disconnecting||(this._clearReconnect(),this.disconnecting=!0,!t&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,i,10)):i()),this},y.prototype.removeOutgoingMessage=function(t){var e=this.outgoing[t];return delete this.outgoing[t],this.outgoingStore.del({messageId:t},(function(){e(new Error("Message removed"))})),this},y.prototype.reconnect=function(t){var e=this,n=function(){t?(e.options.incomingStore=t.incomingStore,e.options.outgoingStore=t.outgoingStore):(e.options.incomingStore=null,e.options.outgoingStore=null),e.incomingStore=e.options.incomingStore||new o,e.outgoingStore=e.options.outgoingStore||new o,e.disconnecting=!1,e.disconnected=!1,e._deferredReconnect=null,e._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=n:n(),this},y.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},y.prototype._setupReconnect=function(){var t=this;!t.disconnecting&&!t.reconnectTimer&&t.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),t.reconnectTimer=setInterval((function(){t._reconnect()}),t.options.reconnectPeriod))},y.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},y.prototype._cleanUp=function(t,e){var n;e&&this.stream.on("close",e),t?(0===this.options.reconnectPeriod&&this.options.clean&&(n=this.outgoing)&&Object.keys(n).forEach((function(t){"function"==typeof n[t]&&(n[t](new Error("Connection closed")),delete n[t])})),this.stream.destroy()):this._sendPacket({cmd:"disconnect"},p.bind(null,this.stream.end.bind(this.stream))),this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),e&&!this.connected&&(this.stream.removeListener("close",e),e())},y.prototype._sendPacket=function(t,e){if(this.connected){switch(this._shiftPingInterval(),t.cmd){case"publish":break;case"pubrel":return void b(this,t,e);default:return void g(this,t,e)}switch(t.qos){case 2:case 1:b(this,t,e);break;case 0:default:g(this,t,e)}}else 0===(t.qos||0)&&this.queueQoSZero||"publish"!==t.cmd?this.queue.push({packet:t,cb:e}):t.qos>0?(e=this.outgoing[t.messageId],this.outgoingStore.put(t,(function(t){if(t)return e&&e(t)}))):e&&e(new Error("No connection to broker"))},y.prototype._setupPingTimer=function(){var t=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=l((function(){t._checkPing()}),1e3*this.options.keepalive))},y.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},y.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},y.prototype._handlePingresp=function(){this.pingResp=!0},y.prototype._handleConnack=function(t){var e=t.returnCode;if(clearTimeout(this.connackTimer),0===e)this.reconnecting=!1,this.emit("connect",t);else if(e>0){var n=new Error("Connection refused: "+["","Unacceptable protocol version","Identifier rejected","Server unavailable","Bad username or password","Not authorized"][e]);n.code=e,this.emit("error",n)}},y.prototype._handlePublish=function(t,e){e=void 0!==e?e:_;var n=t.topic.toString(),r=t.payload,i=t.qos,o=t.messageId,s=this;switch(i){case 2:this.incomingStore.put(t,(function(t){if(t)return e(t);s._sendPacket({cmd:"pubrec",messageId:o},e)}));break;case 1:this.emit("message",n,r,t),this.handleMessage(t,(function(t){if(t)return e(t);s._sendPacket({cmd:"puback",messageId:o},e)}));break;case 0:this.emit("message",n,r,t),this.handleMessage(t,e)}},y.prototype.handleMessage=function(t,e){e()},y.prototype._handleAck=function(t){var e=t.messageId,n=t.cmd,r=null,i=this.outgoing[e],o=this;if(i){switch(n){case"pubcomp":case"puback":delete this.outgoing[e],this.outgoingStore.del(t,i);break;case"pubrec":r={cmd:"pubrel",qos:2,messageId:e},this._sendPacket(r);break;case"suback":if(delete this.outgoing[e],1===t.granted.length&&0!=(128&t.granted[0])){var s=this.messageIdToTopic[e];s&&s.forEach((function(t){delete o._resubscribeTopics[t]}))}i(null,t);break;case"unsuback":delete this.outgoing[e],i(null);break;default:o.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}},y.prototype._handlePubrel=function(t,e){e=void 0!==e?e:_;var n=t.messageId,r=this,i={cmd:"pubcomp",messageId:n};r.incomingStore.get(t,(function(n,o){n||"pubrel"===o.cmd?r._sendPacket(i,e):(r.emit("message",o.topic,o.payload,o),r.incomingStore.put(t,(function(t){if(t)return e(t);r.handleMessage(o,(function(t){if(t)return e(t);r._sendPacket(i,e)}))})))}))},y.prototype._nextId=function(){var t=this.nextId++;return 65536===this.nextId&&(this.nextId=1),t},y.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},t.exports=y}).call(this,n("yLpj"),n("8oxB"))},"3BRs":function(t,e,n){"use strict";(function(e,r,i){var o=n("lm0R");function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var a,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=_;var u=n("Onz0");u.inherits=n("P7XM");var l={deprecate:n("t9FE")},h=n("QpuX"),f=n("hwdV").Buffer,p=i.Uint8Array||function(){};var d,g=n("RoFp");function b(){}function _(t,e){a=a||n("sZro"),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,u=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,i);else{var s=S(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?c(m,t,n,s,i):m(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(t){if(a=a||n("sZro"),!(d.call(y,this)||this instanceof a))return new y(t);this._writableState=new _(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function m(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,v(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(v(t,e,!1,e.objectMode?1:u.length,u,l,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var n=S(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(k,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(y,h),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===y&&(t&&t._writableState instanceof _)}})):d=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=t,f.isBuffer(r)||r instanceof p);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=b),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,t,n))&&(i.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,o);return c}(this,i,a,t,e,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n("8oxB"),n("URgk").setImmediate,n("yLpj"))},"43KI":function(t,e,n){(e=t.exports=n("rXFu")).Stream=e,e.Readable=e,e.Writable=n("3BRs"),e.Duplex=n("sZro"),e.Transform=n("J78i"),e.PassThrough=n("eA/Y")},"4D8k":function(t,e,n){"use strict";var r=n("9Qh4"),i=n("fEpb").Symbol;t.exports=function(t){return Object.defineProperties(t,{hasInstance:r("",i&&i.hasInstance||t("hasInstance")),isConcatSpreadable:r("",i&&i.isConcatSpreadable||t("isConcatSpreadable")),iterator:r("",i&&i.iterator||t("iterator")),match:r("",i&&i.match||t("match")),replace:r("",i&&i.replace||t("replace")),search:r("",i&&i.search||t("search")),species:r("",i&&i.species||t("species")),split:r("",i&&i.split||t("split")),toPrimitive:r("",i&&i.toPrimitive||t("toPrimitive")),toStringTag:r("",i&&i.toStringTag||t("toStringTag")),unscopables:r("",i&&i.unscopables||t("unscopables"))})}},"4JlD":function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(r(s))+n;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(r(t))})).join(e):a+encodeURIComponent(r(t[s]))})).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},"4PY8":function(t,e,n){"use strict";t.exports=n("nfBX")()?Object.setPrototypeOf:n("4ZyC")},"4ZyC":function(t,e,n){"use strict";var r,i=n("IWB/"),o=n("lq5y"),s=Object.prototype.isPrototypeOf,a=Object.defineProperty,c={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(t,e){if(o(t),null===e||i(e))return t;throw new TypeError("Prototype must be null or an object")},t.exports=function(t){var e,n;return t?(2===t.level?t.set?(n=t.set,e=function(t,e){return n.call(r(t,e),e),t}):e=function(t,e){return r(t,e).__proto__=e,t}:e=function t(e,n){var i;return r(e,n),(i=s.call(t.nullPolyfill,e))&&delete t.nullPolyfill.__proto__,null===n&&(n=t.nullPolyfill),e.__proto__=n,i&&a(t.nullPolyfill,"__proto__",c),e},Object.defineProperty(e,"level",{configurable:!1,enumerable:!1,writable:!1,value:t.level})):null}(function(){var t,e=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(t=r.set).call(e,n)}catch(i){}if(Object.getPrototypeOf(e)===n)return{set:t,level:2}}return e.__proto__=n,Object.getPrototypeOf(e)===n?{level:2}:((e={}).__proto__=n,Object.getPrototypeOf(e)===n&&{level:1})}()),n("ukuW")},"5/y7":function(t,e,n){"use strict";(function(e){var r=n("34ae"),i=n("6gh9"),o=n("skmB"),s=n("U6jy"),a={};function c(t,e){if("object"!=typeof t||e||(e=t,t=null),e=e||{},t){var n=o.parse(t,!0);if(null!=n.port&&(n.port=Number(n.port)),null===(e=s(n,e)).protocol)throw new Error("Missing protocol");e.protocol=e.protocol.replace(/:$/,"")}if(function(t){var e;t.auth&&((e=t.auth.match(/^(.+):(.+)$/))?(t.username=e[1],t.password=e[2]):t.username=t.auth)}(e),e.query&&"string"==typeof e.query.clientId&&(e.clientId=e.query.clientId),e.cert&&e.key){if(!e.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs"].indexOf(e.protocol))switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;default:throw new Error('Unknown protocol for secure connection: "'+e.protocol+'"!')}}if(!a[e.protocol]){var i=-1!==["mqtts","wss"].indexOf(e.protocol);e.protocol=["mqtt","mqtts","ws","wss","wx","wxs"].filter((function(t,e){return(!i||e%2!=0)&&"function"==typeof a[t]}))[0]}if(!1===e.clean&&!e.clientId)throw new Error("Missing clientId for unclean clients");return e.protocol&&(e.defaultProtocol=e.protocol),new r((function(t){return e.servers&&(t._reconnectCount&&t._reconnectCount!==e.servers.length||(t._reconnectCount=0),e.host=e.servers[t._reconnectCount].host,e.port=e.servers[t._reconnectCount].port,e.protocol=e.servers[t._reconnectCount].protocol?e.servers[t._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,t._reconnectCount++),a[e.protocol](t,e)}),e)}"browser"!==e.title?(a.mqtt=n("Be78"),a.tcp=n("Be78"),a.ssl=n("/jyY"),a.tls=n("/jyY"),a.mqtts=n("/jyY")):(a.wx=n("gxFv"),a.wxs=n("gxFv")),a.ws=n("/LkU"),a.wss=n("/LkU"),t.exports=c,t.exports.connect=c,t.exports.MqttClient=r,t.exports.Store=i}).call(this,n("8oxB"))},"52x2":function(t,e,n){"use strict";t.exports=function(){}},"6b34":function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===i}},"6gh9":function(t,e,n){"use strict";(function(e){var r=n("U6jy"),i=n("43KI").Readable,o={objectMode:!0},s={clean:!0},a=n("VGv9");function c(t){if(!(this instanceof c))return new c(t);this.options=t||{},this.options=r(s,t),this._inflights=new a}c.prototype.put=function(t,e){return this._inflights.set(t.messageId,t),e&&e(),this},c.prototype.createStream=function(){var t=new i(o),n=!1,r=[],s=0;return this._inflights.forEach((function(t,e){r.push(t)})),t._read=function(){!n&&s<r.length?this.push(r[s++]):this.push(null)},t.destroy=function(){if(!n){var t=this;n=!0,e.nextTick((function(){t.emit("close")}))}},t},c.prototype.del=function(t,e){return(t=this._inflights.get(t.messageId))?(this._inflights.delete(t.messageId),e(null,t)):e&&e(new Error("missing packet")),this},c.prototype.get=function(t,e){return(t=this._inflights.get(t.messageId))?e(null,t):e&&e(new Error("missing packet")),this},c.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},t.exports=c}).call(this,n("8oxB"))},"6uBi":function(t,e,n){"use strict";var r=n("k2qM"),i=n("Xt1Y"),o=Object.prototype.toString;t.exports=function(t){if(!r(t))return null;if(i(t)){var e=t.toString;if("function"!=typeof e)return null;if(e===o)return null}try{return""+t}catch(n){return null}}},"73r6":function(t,e,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},"7PmA":function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},"7VPu":function(t,e,n){var r;t.exports=(r=n("Ib8C"),n("lPiR"),n("WYAk"),r.HmacSHA256)},"86bp":function(t,e,n){"use strict";var r=n("YsTz"),i=Array.prototype.forEach,o=Object.create,s=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=o(null);return i.call(arguments,(function(t){r(t)&&s(Object(t),e)})),e}},"8Mu8":function(t,e,n){"use strict";var r=n("hwdV").Buffer,i={};function o(t){var e=r.allocUnsafe(2);return e.writeUInt8(t>>8,0),e.writeUInt8(255&t,1),e}t.exports={cache:i,generateCache:function(){for(var t=0;t<65536;t++)i[t]=o(t)},generateNumber:o}},"9Qh4":function(t,e,n){"use strict";var r=n("k2qM"),i=n("F5Mc"),o=n("IDEf"),s=n("86bp"),a=n("+XMV");(t.exports=function(t,e){var n,i,c,u,l;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],r(t)?(n=a.call(t,"c"),i=a.call(t,"e"),c=a.call(t,"w")):(n=c=!0,i=!1),l={value:e,configurable:n,enumerable:i,writable:c},u?o(s(u),l):l}).gs=function(t,e,n){var c,u,l,h;return"string"!=typeof t?(l=n,n=e,e=t,t=null):l=arguments[3],r(e)?i(e)?r(n)?i(n)||(l=n,n=void 0):n=void 0:(l=e,e=n=void 0):e=void 0,r(t)?(c=a.call(t,"c"),u=a.call(t,"e")):(c=!0,u=!1),h={get:e,set:n,configurable:c,enumerable:u},l?o(s(l),h):h}},"9g66":function(t,e,n){"use strict";var r=n("e989"),i=n("lq5y"),o=Math.max;t.exports=function(t,e){var n,s,a,c=o(arguments.length,2);for(t=Object(i(t)),a=function(r){try{t[r]=e[r]}catch(i){n||(n=i)}},s=1;s<c;++s)r(e=arguments[s]).forEach(a);if(void 0!==n)throw n;return t}},AHex:function(t,e,n){"use strict";var r=n("VT4K");t.exports=function(t,e){return r(e.url,["mqttv3.1"],e.websocketOptions)}},BDOJ:function(t,e,n){"use strict";var r=n("fiWp"),i=n("MCLT").inherits,o=n("MYcY"),s=n("vWpX");function a(t,e,n){var r="$aws/things/"+t+"/jobs/";return s(n)?n=e:r+=e.toString()+"/",r+=n}function c(t){if(!(this instanceof c))return new c(t);var e=this,n=[],r=o.DeviceClient(t);this._updateJobStatus=function(e,n,i,o,c){"function"==typeof o&&(c=o,o=void 0),s(t)||!0!==t.debug||console.log("updateJobStatus:",{thingName:e,jobId:n.id,status:i,statusDetails:o}),r.publish(a(e,n.id,"update"),JSON.stringify({status:i,statusDetails:o}),null,(function(t){s(t)&&(n.status={status:i,statusDetails:o}),s(c)||c(t)}))},this._buildJobObject=function(t,n){if(s(n)||s(n.jobId))return null;var r={};return r.id=n.jobId,r.document=n.jobDocument,r.operation=r.document.operation,r.status={status:n.status,statusDetails:n.statusDetails},r.inProgress=function(n,i){e._updateJobStatus(t,r,"IN_PROGRESS",n,i)},r.failed=function(n,i){e._updateJobStatus(t,r,"FAILED",n,i)},r.succeeded=function(n,i){e._updateJobStatus(t,r,"SUCCEEDED",n,i)},r},this._handleMessages=function(r,i){var o=r.split("/");if(function(t){return"$aws"===t[0]&&"things"===t[1]&&"jobs"===t[3]}(o)){var a=o[2],c=n.find((function(t){return t.thingName===a}));if(!s(c)){var u={};try{u=JSON.parse(i.toString())}catch(f){return void(!0===t.debug&&console.error("failed parsing JSON '"+i.toString()+"', "+f))}if(!(s(u.execution)||s(u.execution.jobId)||s(u.execution.jobDocument))){var l=u.execution.jobDocument.operation,h=c.operations.find((function(t){return s(l)?s(t.operationName):l===t.operationName}));s(h)&&(h=c.operations.find((function(t){return s(t.operationName)})),s(h))||h.callback(null,e._buildJobObject(a,u.execution))}}}else e.emit("message",r,i)},this.subscribeToJobs=function(e,i,o){s(o)&&(o=i,i=null),s(t)||!0!==t.debug||console.log("subscribeToJobs:",{thingName:e,operationName:i});var c=n.find((function(t){return t.thingName===e}));s(c)&&(c={thingName:e,operations:[]},n.push(c),r.subscribe([a(e,"$next/get/accepted"),a(e,"notify-next")],(function(t,e){s(t)||o(t)})));var u=c.operations.find((function(t){return s(i)?s(t.operationName):i===t.operationName}));s(u)?(u={operationName:i,callback:o},c.operations.push(u)):u.callback=o},this.unsubscribeFromJobs=function(e,i,o){s(o)&&(o=i,i=null),s(t)||!0!==t.debug||console.log("unsubscribeFromJobs:",{thingName:e,operationName:i});var c=n.findIndex((function(t){return t.thingName===e})),u=new Error("subscription not found for given thing");if(c<0)o(u);else{var l=n[c].operations.findIndex((function(t){return s(i)?s(t.operationName):i===t.operationName}));if(l<0)o(u);else{if(n[c].operations.splice(l,1),0===n[c].operations.length)return n.splice(c,1),void r.unsubscribe([a(e,"$next/get/accepted"),a(e,"notify-next")],o);o()}}},this.startJobNotifications=function(e,n){s(t)||!0!==t.debug||console.log("startJobNotifications:",{thingName:e}),r.publish(a(e,"$next","get"),"{}",n)},r.on("connect",(function(){e.emit("connect")})),r.on("close",(function(){e.emit("close")})),r.on("reconnect",(function(){e.emit("reconnect")})),r.on("offline",(function(){e.emit("offline")})),r.on("error",(function(t){e.emit("error",t)})),r.on("message",e._handleMessages),this.publish=r.publish,this.subscribe=r.subscribe,this.unsubscribe=r.unsubscribe,this.end=r.end,this.handleMessage=r.handleMessage,this.updateWebSocketCredentials=r.updateWebSocketCredentials,this.simulateNetworkFailure=r.simulateNetworkFailure}i(c,r.EventEmitter),t.exports=c},Be78:function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e){var n,i;return e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost",n=e.port,i=e.hostname,r.createConnection(n,i)}},BqIt:function(t,e,n){"use strict";var r,i=n("pnHa"),o=n("IDEf"),s=n("GpRL"),a=n("lq5y"),c=n("9Qh4"),u=n("mGv0"),l=n("HEoz"),h=Object.defineProperty,f=Object.defineProperties;t.exports=r=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:c("w",a(t)),__context__:c("w",e),__nextIndex__:c("w",0)}),e&&(s(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,o({_next:c((function(){var t;if(this.__list__)return this.__redo__&&void 0!==(t=this.__redo__.shift())?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:c((function(){return this._createResult(this._next())})),_createResult:c((function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}})),_resolve:c((function(t){return this.__list__[t]})),_unBind:c((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:c((function(){return"[object "+(this[l.toStringTag]||"Object")+"]"}))},u({_onAdd:c((function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(e,n){e>=t&&(this.__redo__[n]=++e)}),this),this.__redo__.push(t)):h(this,"__redo__",c("c",[t])))})),_onDelete:c((function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(t))&&this.__redo__.splice(e,1),this.__redo__.forEach((function(e,n){e>t&&(this.__redo__[n]=--e)}),this)))})),_onClear:c((function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0}))}))),h(r.prototype,l.iterator,c((function(){return this})))},CWBI:function(t,e,n){t.exports=n("sZro")},Cdli:function(t,e,n){"use strict";var r,i=n("4PY8"),o=n("9Qh4"),s=n("HEoz"),a=n("BqIt"),c=Object.defineProperty;r=t.exports=function(t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");t=String(t),a.call(this,t),c(this,"__length__",o("",t.length))},i&&i(r,a),delete r.prototype.constructor,r.prototype=Object.create(a.prototype,{_next:o((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:o((function(t){var e,n=this.__list__[t];return this.__nextIndex__===this.__length__?n:(e=n.charCodeAt(0))>=55296&&e<=56319?n+this.__list__[this.__nextIndex__++]:n}))}),c(r.prototype,s.toStringTag,o("c","String Iterator"))},CyQl:function(t,e,n){"use strict";var r,i=n("pnHa"),o=n("NSes"),s=n("4PY8"),a=n("GpRL"),c=n("lq5y"),u=n("9Qh4"),l=n("yfwS"),h=n("HEoz"),f=n("NHMy"),p=n("w1Ht"),d=n("EZVN"),g=n("t3nS"),b=Function.prototype.call,_=Object.defineProperties,y=Object.getPrototypeOf;t.exports=r=function(){var t,e,n,i=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return n=g&&s&&Map!==r?s(new Map,y(this)):this,null!=i&&f(i),_(n,{__mapKeysData__:u("c",t=[]),__mapValuesData__:u("c",e=[])}),i?(p(i,(function(n){var r=c(n)[0];n=n[1],-1===o.call(t,r)&&(t.push(r),e.push(n))}),n),n):n},g&&(s&&s(r,Map),r.prototype=Object.create(Map.prototype,{constructor:u(r)})),l(_(r.prototype,{clear:u((function(){this.__mapKeysData__.length&&(i.call(this.__mapKeysData__),i.call(this.__mapValuesData__),this.emit("_clear"))})),delete:u((function(t){var e=o.call(this.__mapKeysData__,t);return-1!==e&&(this.__mapKeysData__.splice(e,1),this.__mapValuesData__.splice(e,1),this.emit("_delete",e,t),!0)})),entries:u((function(){return new d(this,"key+value")})),forEach:u((function(t){var e,n,r=arguments[1];for(a(t),n=(e=this.entries())._next();void 0!==n;)b.call(t,r,this.__mapValuesData__[n],this.__mapKeysData__[n],this),n=e._next()})),get:u((function(t){var e=o.call(this.__mapKeysData__,t);if(-1!==e)return this.__mapValuesData__[e]})),has:u((function(t){return-1!==o.call(this.__mapKeysData__,t)})),keys:u((function(){return new d(this,"key")})),set:u((function(t,e){var n,r=o.call(this.__mapKeysData__,t);return-1===r&&(r=this.__mapKeysData__.push(t)-1,n=!0),this.__mapValuesData__[r]=e,n&&this.emit("_add",r,t),this})),size:u.gs((function(){return this.__mapKeysData__.length})),values:u((function(){return new d(this,"value")})),toString:u((function(){return"[object Map]"}))})),Object.defineProperty(r.prototype,h.iterator,u((function(){return this.entries()}))),Object.defineProperty(r.prototype,h.toStringTag,u("c","Map"))},ESbf:function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},EZVN:function(t,e,n){"use strict";var r,i=n("4PY8"),o=n("9Qh4"),s=n("BqIt"),a=n("HEoz").toStringTag,c=n("xoK8"),u=Object.defineProperties,l=s.prototype._unBind;r=t.exports=function(t,e){if(!(this instanceof r))return new r(t,e);s.call(this,t.__mapKeysData__,t),e&&c[e]||(e="key+value"),u(this,{__kind__:o("",e),__values__:o("w",t.__mapValuesData__)})},i&&i(r,s),r.prototype=Object.create(s.prototype,{constructor:o(r),_resolve:o((function(t){return"value"===this.__kind__?this.__values__[t]:"key"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__values__[t]]})),_unBind:o((function(){this.__values__=null,l.call(this)})),toString:o((function(){return"[object Map Iterator]"}))}),Object.defineProperty(r.prototype,a,o("c","Map Iterator"))},F5Mc:function(t,e,n){"use strict";var r=n("YyF0"),i=/^\s*class[\s{/}]/,o=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!i.test(o.call(t))}},FKvE:function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},"FM/B":function(t,e,n){"use strict";t.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},GOzd:function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},GYWy:function(t,e,n){(function(t,r){var i;!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function g(t){throw new RangeError(f[t])}function b(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function _(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+b((t=t.replace(h,".")).split("."),e).join(".")}function y(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function v(t){return b(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function m(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;for(t=n?p(t/700):t>>1,t+=p(t/e);t>455;r+=36)t=p(t/35);return p(r+36*t/(t+38))}function S(t){var e,n,r,i,o,s,a,u,l,h,f,d=[],b=t.length,_=0,y=128,m=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&g("not-basic"),d.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,s=1,a=36;i>=b&&g("invalid-input"),((u=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>p((c-_)/s))&&g("overflow"),_+=u*s,!(u<(l=a<=m?1:a>=m+26?26:a-m));a+=36)s>p(c/(h=36-l))&&g("overflow"),s*=h;m=w(_-o,e=d.length+1,0==o),p(_/e)>c-y&&g("overflow"),y+=p(_/e),_%=e,d.splice(_++,0,y)}return v(d)}function k(t){var e,n,r,i,o,s,a,u,l,h,f,b,_,v,S,k=[];for(b=(t=y(t)).length,e=128,n=0,o=72,s=0;s<b;++s)(f=t[s])<128&&k.push(d(f));for(r=i=k.length,i&&k.push("-");r<b;){for(a=c,s=0;s<b;++s)(f=t[s])>=e&&f<a&&(a=f);for(a-e>p((c-n)/(_=r+1))&&g("overflow"),n+=(a-e)*_,e=a,s=0;s<b;++s)if((f=t[s])<e&&++n>c&&g("overflow"),f==e){for(u=n,l=36;!(u<(h=l<=o?1:l>=o+26?26:l-o));l+=36)S=u-h,v=36-h,k.push(d(m(h+S%v,0))),u=p(S/v);k.push(d(m(u,0))),o=w(n,_,r==i),n=0,++r}++n,++e}return k.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:v},decode:S,encode:k,toASCII:function(t){return _(t,(function(t){return l.test(t)?"xn--"+k(t):t}))},toUnicode:function(t){return _(t,(function(t){return u.test(t)?S(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n("YuTi")(t),n("yLpj"))},GpRL:function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},H612:function(t,e,n){"use strict";var r=n("Uelk"),i=n("P7XM"),o=n("fiWp").EventEmitter,s=n("p8mi"),a=n("solC");function c(){if(!(this instanceof c))return new c;this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}i(c,o),c.prototype._resetState=function(){this.packet=new s,this.error=null,this._list=r(),this._stateCounter=0},c.prototype.parse=function(t){for(this.error&&this._resetState(),this._list.append(t);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},c.prototype._parseHeader=function(){var t=this._list.readUInt8(0);return this.packet.cmd=a.types[t>>a.CMD_SHIFT],this.packet.retain=0!=(t&a.RETAIN_MASK),this.packet.qos=t>>a.QOS_SHIFT&a.QOS_MASK,this.packet.dup=0!=(t&a.DUP_MASK),this._list.consume(1),!0},c.prototype._parseLength=function(){for(var t,e=0,n=1,r=0,i=!0;e<5&&(r+=n*((t=this._list.readUInt8(e++))&a.LENGTH_MASK),n*=128,0!=(t&a.LENGTH_FIN_MASK));)if(this._list.length<=e){i=!1;break}return i&&(this.packet.length=r,this._list.consume(e)),i},c.prototype._parsePayload=function(){var t=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseMessageId();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":case"disconnect":break;default:this._emitError(new Error("Not supported"))}t=!0}return t},c.prototype._parseConnect=function(){var t,e,n,r,i,o,s={},c=this.packet;if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==t&&"MQIsdp"!==t)return this._emitError(new Error("Invalid protocolId"));if(c.protocolId=t,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(c.protocolVersion=this._list.readUInt8(this._pos),3!==c.protocolVersion&&4!==c.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(s.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,s.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,s.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK,s.will&&(c.will={},c.will.retain=0!=(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),c.will.qos=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT),c.clean=0!=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK),this._pos++,c.keepalive=this._parseNum(),-1===c.keepalive)return this._emitError(new Error("Packet too short"));if(null===(e=this._parseString()))return this._emitError(new Error("Packet too short"));if(c.clientId=e,s.will){if(null===(n=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(c.will.topic=n,null===(r=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));c.will.payload=r}if(s.username){if(null===(o=this._parseString()))return this._emitError(new Error("Cannot parse username"));c.username=o}if(s.password){if(null===(i=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));c.password=i}return c},c.prototype._parseConnack=function(){var t=this.packet;return this._list.length<2?null:(t.sessionPresent=!!(this._list.readUInt8(this._pos++)&a.SESSIONPRESENT_MASK),t.returnCode=this._list.readUInt8(this._pos),-1===t.returnCode?this._emitError(new Error("Cannot parse return code")):void 0)},c.prototype._parsePublish=function(){var t=this.packet;if(t.topic=this._parseString(),null===t.topic)return this._emitError(new Error("Cannot parse topic"));t.qos>0&&!this._parseMessageId()||(t.payload=this._list.slice(this._pos,t.length))},c.prototype._parseSubscribe=function(){var t,e,n=this.packet;if(1!==n.qos)return this._emitError(new Error("Wrong subscribe header"));if(n.subscriptions=[],this._parseMessageId())for(;this._pos<n.length;){if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=n.length)return this._emitError(new Error("Malformed Subscribe Payload"));e=this._list.readUInt8(this._pos++),n.subscriptions.push({topic:t,qos:e})}},c.prototype._parseSuback=function(){if(this.packet.granted=[],this._parseMessageId())for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))},c.prototype._parseUnsubscribe=function(){var t=this.packet;if(t.unsubscriptions=[],this._parseMessageId())for(;this._pos<t.length;){var e;if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse topic"));t.unsubscriptions.push(e)}},c.prototype._parseUnsuback=function(){if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"))},c.prototype._parseMessageId=function(){var t=this.packet;return t.messageId=this._parseNum(),null!==t.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},c.prototype._parseString=function(t){var e,n=this._parseNum(),r=n+this._pos;return-1===n||r>this._list.length||r>this.packet.length?null:(e=this._list.toString("utf8",this._pos,r),this._pos+=n,e)},c.prototype._parseBuffer=function(){var t,e=this._parseNum(),n=e+this._pos;return-1===e||n>this._list.length||n>this.packet.length?null:(t=this._list.slice(this._pos,n),this._pos+=e,t)},c.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var t=this._list.readUInt16BE(this._pos);return this._pos+=2,t},c.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new s,!0},c.prototype._emitError=function(t){this.error=t,this.emit("error",t)},t.exports=c},HEoz:function(t,e,n){"use strict";t.exports=n("umFS")()?n("fEpb").Symbol:n("lO5s")},HgrX:function(t,e,n){"use strict";t.exports=function(t){try{return t.toString()}catch(e){try{return String(t)}catch(n){return null}}}},IDEf:function(t,e,n){"use strict";t.exports=n("FKvE")()?Object.assign:n("9g66")},"IWB/":function(t,e,n){"use strict";var r=n("YsTz"),i={function:!0,object:!0};t.exports=function(t){return r(t)&&i[typeof t]||!1}},Ib8C:function(t,e,n){var r;t.exports=(r=r||function(t,e){var n={},r=n.lib={},i=r.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},s=0;s<e;s+=4){var a=i(4294967296*(n||t.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new o.init(r,e)}}),s=n.enc={},a=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(n,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(n,e)}},u=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,a=i/(4*s),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,u=t.min(4*c,i);if(c){for(var l=0;l<c;l+=s)this._doProcessBlock(r,l);var h=r.splice(0,c);n.sigBytes-=u}return new o.init(h,u)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(r.Hasher=l.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}}),n.algo={});return n}(Math),r)},J78i:function(t,e,n){"use strict";t.exports=s;var r=n("sZro"),i=n("Onz0");function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n("P7XM"),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},Jb7g:function(t,e,n){"use strict";var r=n("9Qh4"),i=n("s4AO"),o=Object.create(null);t.exports=function(t){return Object.defineProperties(t,{for:r((function(e){return o[e]?o[e]:o[e]=t(String(e))})),keyFor:r((function(t){var e;for(e in i(t),o)if(o[e]===t)return e}))})}},JiqL:function(t,e,n){"use strict";var r=n("hNN4"),i=n("k2qM");t.exports=function(t){return i(t)?t:r(t,"Cannot use %v",arguments[1])}},KaIO:function(t,e,n){"use strict";function r(t,e,n){var r=this;this._callback=t,this._args=n,this._interval=setInterval(t,e,this._args),this.reschedule=function(t){t||(t=r._interval),r._interval&&clearInterval(r._interval),r._interval=setInterval(r._callback,t,r._args)},this.clear=function(){r._interval&&(clearInterval(r._interval),r._interval=void 0)},this.destroy=function(){r._interval&&clearInterval(r._interval),r._callback=void 0,r._interval=void 0,r._args=void 0}}t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var t;if(arguments.length>0){t=new Array(arguments.length-2);for(var e=0;e<t.length;e++)t[e]=arguments[e+2]}return new r(arguments[0],arguments[1],t)}},KbBO:function(t,e,n){"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}},MYcY:function(t,e,n){"use strict";(function(e){var r=n("fiWp"),i=n("MCLT").inherits,o=n("5/y7"),s=n("7VPu"),a=n("lPiR"),c=n("Pa35"),u=n("vWpX"),l=n("xPzZ"),h=n("33yf"),f=n("Po9p");function p(t){return t>9?t:"0"+t}function d(t,e,n,r,i,o,c,l,h,f,p,d,g,b){var _=t+"\n"+r+"\n"+i+"\n"+("host:"+n.toLowerCase()+"\n")+"\nhost\n"+a(f,{asBytes:!0});!0===g&&console.log("canonical request: "+_+"\n");var y=a(_,{asBytes:!0});!0===g&&console.log("hashed canonical request: "+y+"\n");var v="AWS4-HMAC-SHA256\n"+d+"\n"+p+"/"+l+"/"+h+"/aws4_request\n"+y;!0===g&&console.log("string to sign: "+v+"\n");var m=function(t,e,n,r){var i=s(e,"AWS4"+t,{asBytes:!0}),o=s(n,i,{asBytes:!0}),a=s(r,o,{asBytes:!0});return s("aws4_request",a,{asBytes:!0})}(c,p,l,h);!0===g&&console.log("signing key: "+m+"\n");var w=s(v,m,{asBytes:!0});!0===g&&console.log("signature: "+w+"\n");var S=i+"&X-Amz-Signature="+w;u(b)||(S+="&X-Amz-Security-Token="+encodeURIComponent(b));var k=e+n+r+"?"+S;return!0===g&&console.log("url: "+k+"\n"),k}function g(t,e,n,r){var i,o,s=(i=new Date).getUTCFullYear()+""+p(i.getUTCMonth()+1)+p(i.getUTCDate())+"T"+p(i.getUTCHours())+p(i.getUTCMinutes())+p(i.getUTCSeconds())+"Z",a=(o=s).substring(0,o.indexOf("T")),c="X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential="+e+"%2F"+a+"%2F"+t.region+"%2Fiotdevicegateway%2Faws4_request&X-Amz-Date="+s+"&X-Amz-SignedHeaders=host",l=t.host;return u(t.port)||443===t.port||(l=t.host+":"+t.port),d("GET","wss://",l,"/mqtt",c,0,n,t.region,"iotdevicegateway","",a,s,t.debug,r)}function b(t){var e=t.host;return u(t.port)||443===t.port||(e=t.host+":"+t.port),"wss://"+e+"/mqtt"+(t.customAuthQueryString||"")}function _(t){var e={},n={};return function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(this,t[n],parseInt(n,10))}(t.split(/\r?\n/),(function(t){var r=(t=t.split(/(^|\s)[;#]/)[0]).match(/^\s*\[([^\[\]]+)\]\s*$/);if(r)n=r[1];else if(n){var i=t.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);i&&(e[n]=e[n]||{},e[n][i[1]]=i[2])}})),e}function y(t){if(!(this instanceof y))return new y(t);var r=this,i=[],s=!0,a=0,p="oldest";i.length=0;var d=[];d.length=0;var v=[],m=!0;v.length=0;var w=[];w.length=0;var S,k,E,I,x,O="inactive",T=null,C=250,A=1e3,j=2e4,M=128e3,N=null,P="?SDK=JavaScript&Version="+n("RvDn").version;if(u(t)||0===Object.keys(t).length)throw new Error(c.INVALID_CONNECT_OPTIONS);if(u(t.keepalive)&&(t.keepalive=300),(u(t.enableMetrics)||!0===t.enableMetrics)&&(u(t.username)?t.username=P:t.username+=P),u(t.baseReconnectTimeMs)||(A=t.baseReconnectTimeMs),u(t.minimumConnectionTimeMs)||(j=t.minimumConnectionTimeMs),u(t.maximumReconnectTimeMs)||(M=t.maximumReconnectTimeMs),u(t.drainTimeMs)||(C=t.drainTimeMs),u(t.autoResubscribe)||(m=t.autoResubscribe),u(t.offlineQueueing)||(s=t.offlineQueueing),u(t.offlineQueueMaxSize)||(a=t.offlineQueueMaxSize),u(t.offlineQueueDropBehavior)||(p=t.offlineQueueDropBehavior),S=A,t.reconnectPeriod=S,t.fastDisconnectDetection=!0,t.resubscribe=!1,t.baseReconnectTimeMs<=0)throw new Error(c.INVALID_RECONNECT_TIMING);if(M<A)throw new Error(c.INVALID_RECONNECT_TIMING);if(j<A)throw new Error(c.INVALID_RECONNECT_TIMING);if("newest"!==p&&"oldest"!==p)throw new Error(c.INVALID_OFFLINE_QUEUEING_PARAMETERS);if(a<0)throw new Error(c.INVALID_OFFLINE_QUEUEING_PARAMETERS);if(u(t.protocol)&&(t.protocol="mqtts"),u(t.host))throw new Error(c.INVALID_CONNECT_OPTIONS);if(u(t.servername)&&(t.servername=t.host.split(":")[0]),"mqtts"===t.protocol)u(t.port)&&(t.port=8883),l(t);else if("wss"===t.protocol||"wss-custom-auth"===t.protocol){if("wss"===t.protocol){var L;if(k=u(t.accessKeyId)?e.env.AWS_ACCESS_KEY_ID:t.accessKeyId,E=u(t.secretKey)?e.env.AWS_SECRET_ACCESS_KEY:t.secretKey,I=u(t.sessionToken)?e.env.AWS_SESSION_TOKEN:t.sessionToken,u(k)||u(E))try{u(t.filename)?(x=e.env.HOME||e.env.USERPROFILE||(e.env.HOMEPATH?(e.env.HOMEDRIVE||"C:/")+e.env.HOMEPATH:null),L=h.join(x,".aws","credentials")):L=t.filename;var R=t.profile||e.env.AWS_PROFILE||"default",q=_(f.readFileSync(L,"utf-8"))[R];k=q.aws_access_key_id,E=q.aws_secret_access_key,I=q.aws_session_token}catch(Q){console.log(Q),console.log("Failed to read credentials from "+L)}if(u(k)||u(E))throw console.log("To connect via WebSocket/SigV4, AWS Access Key ID and AWS Secret Key must be passed either in options or as environment variables; see README.md"),new Error(c.INVALID_CONNECT_OPTIONS)}else if(u(t.customAuthHeaders)&&u(t.customAuthQueryString))throw console.log("To authenticate with a custom authorizer, you must provide the required HTTP headers or queryString; see README.md"),new Error(c.INVALID_CONNECT_OPTIONS);if(!u(t.host)&&u(t.region)){var D=/[a-zA-Z0-9]+\.iot\.([a-z]+-[a-z]+-[0-9]+)\.amazonaws\..+/.exec(t.host);if(null===D)throw console.log("Host endpoint is not valid"),new Error(c.INVALID_CONNECT_OPTIONS);t.region=D[1]}u(t.port)&&(t.port=443),u(t.websocketOptions)?t.websocketOptions={protocol:"mqttv3.1"}:t.websocketOptions.protocol="mqttv3.1","wss-custom-auth"===t.protocol&&(t.websocketOptions.headers=t.customAuthHeaders)}u(t)||!0!==t.debug||(console.log(t),console.log("attempting new mqtt connection..."));var B={};function U(t,e){0===v.filter((function(e){return e.topic===t})).length&&v.push({topic:t,options:e})}function W(t,e){var n=v.filter((function(e){return e.topic!==t}));v=n}function F(t,e,n){var r=null;!1!==m&&("subscribe"===t?r=U:"unsubscribe"===t&&(r=W),"[object Array]"===Object.prototype.toString.call(e)?e.forEach((function(t,e,i){r(t,n)})):r(e,n))}function z(){return"inactive"===O}B.mqtts=n("vI4x"),B.wss=n("AHex");var H=new o.MqttClient((function(e){var n,r=t.protocol;return"wss"===r?(n=""===k||""===E?"wss://no-credentials-available":g(t,k,E,I),!0===t.debug&&console.log("using websockets, will connect to '"+n+"'..."),t.url=n):"wss-custom-auth"===r&&(t.url=b(t),!0===t.debug&&console.log("using websockets custom auth, will connect to '"+t.url+"'..."),r="wss"),B[r](e,t)}),t);function K(){S=A,H.options.reconnectPeriod=S,N=null,O="stable"}function V(){var t=w.shift();if(u(t)){var e=d.shift();if(u(e)){var n=i.shift();u(n)||H.publish(n.topic,n.message,n.options,n.callback),0===i.length&&(clearInterval(T),T=null)}else F(e.type,e.topics,e.options),"subscribe"===e.type?u(e.callback)?H.subscribe(e.topics,e.options):H.subscribe(e.topics,e.options,e.callback):"unsubscribe"===e.type&&H.unsubscribe(e.topics,e.callback)}else u(t.callback)?H.subscribe(t.topic,t.options):H.subscribe(t.topic,t.options,t.callback)}H.on("connect",(function(t){null===N&&(N=setTimeout(K,j)),O="established",null===T&&(w=v.slice(0),T=setInterval(V,C)),r.emit("connect",t)})),H.on("close",(function(e){u(e)||r.emit("error",e),u(t)||!0!==t.debug||console.log("connection lost - will attempt reconnection in "+H.options.reconnectPeriod/1e3+" seconds..."),clearTimeout(N),N=null,clearInterval(T),T=null,O="inactive",r.emit("close")})),H.on("reconnect",(function(){S*=2,S=Math.min(M,S),H.options.reconnectPeriod=S,r.emit("reconnect")})),H.on("offline",(function(){r.emit("offline")})),H.on("error",(function(t){r.emit("error",t)})),H.on("packetsend",(function(t){r.emit("packetsend",t)})),H.on("packetreceive",(function(t){r.emit("packetreceive",t)})),H.on("message",(function(t,e,n){r.emit("message",t,e,n)})),this.publish=function(t,e,n,r){var o;!0!==s||!z()&&null===T?!0!==s&&z()||H.publish(t,e,n,r):(o=!0,a>0&&i.length>=a&&("oldest"===p?i.shift():o=!1),o&&i.push({topic:t,message:e,options:n,callback:r}))},this.subscribe=function(t,e,n){z()&&!1!==m?d.length<50?d.push({type:"subscribe",topics:t,options:e,callback:n}):r.emit("error",new Error("Maximum queued offline subscription reached")):(F("subscribe",t,e),u(n)?H.subscribe(t,e):H.subscribe(t,e,n))},this.unsubscribe=function(e,n){z()&&!1!==m?d.length<50&&d.push({type:"unsubscribe",topics:e,options:t,callback:n}):(F("unsubscribe",e),H.unsubscribe(e,n))},this.end=function(t,e){H.end(t,e)},this.handleMessage=H.handleMessage.bind(H),H.handleMessage=function(t,e){r.handleMessage(t,e)},this.updateWebSocketCredentials=function(t,e,n,r){k=t,E=e,I=n},this.getWebsocketHeaders=function(){return t.websocketOptions.headers},this.updateCustomAuthHeaders=function(e){t.websocketOptions.headers=e},this.updateCustomAuthQueryString=function(e){t.customAuthQueryString=e},this.simulateNetworkFailure=function(){H.stream.emit("error",new Error("simulated connection error")),H.stream.end()}}i(y,r.EventEmitter),t.exports=y,t.exports.DeviceClient=y,t.exports.prepareWebSocketUrl=g,t.exports.prepareWebSocketCustomAuthUrl=b}).call(this,n("8oxB"))},NAn0:function(t,e,n){"use strict";e.parser=n("H612"),e.generate=n("fw8W"),e.writeToStream=n("cTUk")},NHMy:function(t,e,n){"use strict";var r=n("keMp");t.exports=function(t){if(!r(t))throw new TypeError(t+" is not iterable");return t}},NSes:function(t,e,n){"use strict";var r=n("ck6w"),i=n("1TtK"),o=n("lq5y"),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,c=Math.abs,u=Math.floor;t.exports=function(t){var e,n,l,h;if(!r(t))return s.apply(this,arguments);for(n=i(o(this).length),l=arguments[1],e=l=isNaN(l)?0:l>=0?u(l):i(this.length)-u(c(l));e<n;++e)if(a.call(this,e)&&(h=this[e],r(h)))return e;return-1}},Onz0:function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n("tjlA").Buffer)},P7XM:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},Pa35:function(t,e,n){"use strict";t.exports={INVALID_CONNECT_OPTIONS:"Invalid connect options supplied.",INVALID_CLIENT_ID_OPTION:'Invalid "clientId" (mqtt client id) option supplied.',INVALID_RECONNECT_TIMING:"Invalid reconnect timing options supplied.",INVALID_OFFLINE_QUEUEING_PARAMETERS:"Invalid offline queueing options supplied."}},PhWD:function(t,e,n){"use strict";t.exports=function(){var t,e;if("function"!=typeof Map)return!1;try{t=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(n){return!1}return"[object Map]"===String(t)&&(3===t.size&&("function"==typeof t.clear&&("function"==typeof t.delete&&("function"==typeof t.entries&&("function"==typeof t.forEach&&("function"==typeof t.get&&("function"==typeof t.has&&("function"==typeof t.keys&&("function"==typeof t.set&&("function"==typeof t.values&&(!1===(e=t.entries().next()).done&&(!!e.value&&("raz"===e.value[0]&&"one"===e.value[1])))))))))))))}},Po9p:function(t,e){},QpuX:function(t,e,n){t.exports=n("fiWp").EventEmitter},RmV6:function(t,e,n){"use strict";var r=n("GpRL"),i=n("aFjk"),o=Function.prototype.call;t.exports=function(t,e){var n={},s=arguments[2];return r(e),i(t,(function(t,r,i,a){n[r]=o.call(e,s,t,r,i,a)})),n}},RoFp:function(t,e,n){"use strict";var r=n("lm0R");function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},RvDn:function(t){t.exports=JSON.parse('{"name":"@clever/aws-iot-device-sdk","description":"Clever fork of the AWS IoT Node.js SDK for Embedded Devices","version":"2.4.0","homepage":"https://github.com/Clever/aws-iot-device-sdk-js","main":"index.js","engines":{"node":">=4.0.0"},"repository":{"type":"git","url":"git://github.com/Clever/aws-iot-device-sdk-js"},"bugs":{"url":"http://github.com/Clever/aws-iot-device-sdk-js/issues"},"license":"Apache-2.0","keywords":["api","amazon","aws","iot","mqtt"],"dependencies":{"mqtt":"2.18.8","minimist":"1.2.5","websocket-stream":"^5.0.1","crypto-js":"3.1.6"},"devDependencies":{"gulp":"^4.0.0","gulp-concat":"^2.6.0","gulp-jscs":"^4.0.0","gulp-jshint":"^2.0.0","gulp-mocha":"^3.0.1","jshint":"^2.9.1","jshint-stylish":"^2.2.1","gulp-beautify":"^2.0.0","sinon":"^1.17.3","rewire":"^2.5.1"},"scripts":{"test":"node ./node_modules/gulp/bin/gulp.js test --verbose","browserize":"./scripts/browserize.sh","beautify":"node ./node_modules/gulp/bin/gulp.js beautify"}}')},SPiE:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebsocketClient=void 0;var o=n("aj6Q"),s=n("fiWp"),a=["connect","close","offline","reconnect","error","message"],c=function(){function t(t){var e=this;this.previouslyConnected=!1,this.updateCredentialsIfExpired=function(){return r(e,void 0,void 0,(function(){var t,e,n;return i(this,(function(r){switch(r.label){case 0:if(this.asyncAuthorizerOptions.loading)return[2];if(t=!1,e=this.asyncAuthorizerOptions.data,this.asyncAuthorizerOptions.hasError||!e?(this.debugLog("Current credentials in error state."),t=!0):(i=e,o=new Date(Date.now()+3e4),i.expireAt<o&&(this.debugLog("Current credentials expired."),t=!0)),!t)return[2];this.debugLog("Fetching new credentials."),this.asyncAuthorizerOptions={loading:!0,hasError:!1,data:null},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.fetchNewAuthorizerOptions()];case 2:return n=r.sent(),[3,4];case 3:return r.sent(),this.debugLog("Error fetching new credentials. Will retry on the next reconnect attempt."),this.asyncAuthorizerOptions={loading:!1,hasError:!0,data:null},[2];case 4:return this.asyncAuthorizerOptions={loading:!1,hasError:!1,data:n},this.updateAuthCredentials(n),this.debugLog("Credentials updated successfully - they should be used on the next reconnect attempt. New expiration time: "+n.expireAt.toString()),[2]}var i,o}))}))},this.ownEventEmitter=new s.EventEmitter,this.fetchNewAuthorizerOptions=t.fetchNewAuthorizerOptions,this.asyncAuthorizerOptions={data:t.authorizerOptions,loading:!1,hasError:!1},this.debug=Boolean(t.debug);var n={host:t.host,region:t.region,protocol:"wss-custom-auth",port:443,customAuthQueryString:u(t.authorizerOptions),debug:t.debug,clientId:t.userID+"_"+t.accountType+"/"+Math.random().toString(16).substr(2,8),enableMetrics:!1,clean:!1,baseReconnectTimeMs:4e3};this.awsIotClient=new o.device(n),this.awsIotClient.on("connect",(function(t){e.previouslyConnected&&!t.sessionPresent&&(e.debugLog("Persistent session expired. Emitting event."),e.ownEventEmitter.emit("persistentSessionExpired")),e.previouslyConnected=!0})),this.awsIotClient.on("offline",this.updateCredentialsIfExpired),this.awsIotClient.on("reconnect",this.updateCredentialsIfExpired),"undefined"!=typeof window&&void 0!==window.addEventListener&&window.addEventListener("online",this.updateCredentialsIfExpired)}return t.prototype.publish=function(t,e,n,r){this.awsIotClient.publish(t,e,n,r)},t.prototype.subscribe=function(t,e,n){this.awsIotClient.subscribe(t,e,n)},t.prototype.on=function(t,e){var n=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,t)}catch(r){console.error(r)}};return a.includes(t)?this.awsIotClient.on(t,n):this.ownEventEmitter.on(t,n),this},t.prototype.end=function(t,e){this.awsIotClient.end(t,e)},t.prototype.updateAuthCredentials=function(t){this.awsIotClient.updateCustomAuthQueryString(u(t))},t.prototype.debugLog=function(t){this.debug&&console.log(t)},t}();function u(t){return"?"+("x-amz-customauthorizer-name="+encodeURIComponent(t.authorizerName))+"&"+(t.tokenFieldName+"="+encodeURIComponent(t.token))+"&"+("x-amz-customauthorizer-signature="+encodeURIComponent(t.signature))}e.WebsocketClient=c},URgk:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},Uelk:function(t,e,n){var r=n("CWBI"),i=n("MCLT"),o=n("hwdV").Buffer;function s(t){if(!(this instanceof s))return new s(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)}))}else this.append(t);r.call(this)}i.inherits(s,r),s.prototype._offset=function(t){var e,n=0,r=0;if(0===t)return[0,0];for(;r<this._bufs.length;r++){if(t<(e=n+this._bufs[r].length)||r==this._bufs.length-1)return[r,t-n];n=e}},s.prototype.append=function(t){var e=0;if(o.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof s)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(o.from(t)));return this},s.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},s.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},s.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},s.prototype.end=function(t){r.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype.get=function(t){return this.slice(t,t+1)[0]},s.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},s.prototype.copy=function(t,e,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return t||o.alloc(0);if(r<=0)return t||o.alloc(0);var i,s,a=!!t,c=this._offset(n),u=r-n,l=u,h=a&&e||0,f=c[1];if(0===n&&r==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:o.concat(this._bufs,this.length);for(s=0;s<this._bufs.length;s++)this._bufs[s].copy(t,h),h+=this._bufs[s].length;return t}if(l<=this._bufs[c[0]].length-f)return a?this._bufs[c[0]].copy(t,e,f,f+l):this._bufs[c[0]].slice(f,f+l);for(a||(t=o.allocUnsafe(u)),s=c[0];s<this._bufs.length;s++){if(!(l>(i=this._bufs[s].length-f))){this._bufs[s].copy(t,h,f,f+l),h+=i;break}this._bufs[s].copy(t,h,f),h+=i,l-=i,f&&(f=0)}return t.length>h?t.slice(0,h):t},s.prototype.shallowSlice=function(t,e){t=t||0,e=e||this.length,t<0&&(t+=this.length),e<0&&(e+=this.length);var n=this._offset(t),r=this._offset(e),i=this._bufs.slice(n[0],r[0]+1);return 0==r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!=n[1]&&(i[0]=i[0].slice(n[1])),new s(i)},s.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},s.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},s.prototype.duplicate=function(){for(var t=0,e=new s;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},s.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in t)!function(e){s.prototype[e]=function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),t.exports=s},VGv9:function(t,e,n){"use strict";t.exports=n("PhWD")()?Map:n("CyQl")},VT4K:function(t,e,n){"use strict";(function(e,r){var i=n("43KI").Transform,o=n("+xLd"),s=n("tB7K"),a=n("hwdV").Buffer;t.exports=function(t,n,c){var u,l,h="browser"===e.title,f=!!r.WebSocket,p=h?function t(e,n,r){if(l.bufferedAmount>g)return void setTimeout(t,b,e,n,r);_&&"string"==typeof e&&(e=a.from(e,"utf8"));try{l.send(e)}catch(i){return r(i)}r()}:function(t,e,n){if(l.readyState!==l.OPEN)return void n();_&&"string"==typeof t&&(t=a.from(t,"utf8"));l.send(t,n)};n&&!Array.isArray(n)&&"object"==typeof n&&(c=n,n=null,("string"==typeof c.protocol||Array.isArray(c.protocol))&&(n=c.protocol));c||(c={});void 0===c.objectMode&&(c.objectMode=!(!0===c.binary||void 0===c.binary));var d=function(t,e,n){var r=new i({objectMode:t.objectMode});return r._write=e,r._flush=n,r}(c,p,(function(t){l.close(),t()}));c.objectMode||(d._writev=y);var g=c.browserBufferSize||524288,b=c.browserBufferTimeout||1e3;"object"==typeof t?l=t:(l=f&&h?new s(t,n):new s(t,n,c)).binaryType="arraybuffer";l.readyState===l.OPEN?u=d:(u=u=o(void 0,void 0,c),c.objectMode||(u._writev=y),l.onopen=function(){u.setReadable(d),u.setWritable(d),u.emit("connect")});u.socket=l,l.onclose=function(){u.end(),u.destroy()},l.onerror=function(t){u.destroy(t)},l.onmessage=function(t){var e=t.data;e=e instanceof ArrayBuffer?a.from(e):a.from(e,"utf8");d.push(e)},d.on("close",(function(){l.close()}));var _=!c.objectMode;function y(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"string"==typeof t[r].chunk?n[r]=a.from(t[r],"utf8"):n[r]=t[r].chunk;this._write(a.concat(n),"binary",e)}return u}}).call(this,n("8oxB"),n("yLpj"))},VmuJ:function(t,e,n){var r=n("1jOq");function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}t.exports=r(i),t.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},VsQa:function(t,e,n){"use strict";t.exports=function(t){return t!=t}},WYAk:function(t,e,n){var r,i,o,s;t.exports=(r=n("Ib8C"),o=(i=r).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),a=i.words,c=o.words,u=0;u<n;u++)a[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},Wlyd:function(t,e,n){"use strict";var r=Array.prototype.forEach,i=Object.create;t.exports=function(t){var e=i(null);return r.call(arguments,(function(t){e[t]=!0})),e}},Xhqo:function(t,e,n){"use strict";var r=n("hwdV").Buffer,i=n(5);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,i=a,e.copy(n,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},Xt1Y:function(t,e,n){"use strict";var r=n("k2qM"),i={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(i,typeof t)}},YBdB:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,c=1,u={},l=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[c]=i,r(c),c++},f.clearImmediate=p}function p(t){delete u[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("yLpj"),n("8oxB"))},YCR5:function(t,e,n){"use strict";var r,i=n("4PY8"),o=n("+XMV"),s=n("9Qh4"),a=n("HEoz"),c=n("BqIt"),u=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");c.call(this,t),e=e?o.call(e,"key+value")?"key+value":o.call(e,"key")?"key":"value":"value",u(this,"__kind__",s("",e))},i&&i(r,c),delete r.prototype.constructor,r.prototype=Object.create(c.prototype,{_resolve:s((function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t}))}),u(r.prototype,a.toStringTag,s("c","Array Iterator"))},YsTz:function(t,e,n){"use strict";var r=n("52x2")();t.exports=function(t){return t!==r&&null!==t}},YyF0:function(t,e,n){"use strict";var r=n("kBPl");t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(e){return!1}return!r(t)}},aFjk:function(t,e,n){"use strict";t.exports=n("zs8F")("forEach")},aSse:function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===i)||!1}},aj6Q:function(t,e,n){"use strict";t.exports.device=n("MYcY"),t.exports.thingShadow=n("j5xA"),t.exports.jobs=n("BDOJ")},c3ME:function(t,e,n){"use strict";var r=n("YsTz"),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},cEWz:function(t,e,n){"use strict";var r=Object.prototype.toString,i=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(t){return"function"==typeof t&&i(r.call(t))}},cTUk:function(t,e,n){"use strict";var r=n("solC"),i=n("hwdV").Buffer,o=i.allocUnsafe(0),s=i.from([0]),a=n("8Mu8"),c=n("lm0R").nextTick,u=a.cache,l=a.generateNumber,h=a.generateCache,f=v,p=!0;function d(t,e){switch(e.cork&&(e.cork(),c(g,e)),p&&(p=!1,h()),t.cmd){case"connect":return function(t,e){var n=t||{},o=n.protocolId||"MQTT",s=n.protocolVersion||4,a=n.will,c=n.clean,u=n.keepalive||0,l=n.clientId||"",h=n.username,p=n.password;void 0===c&&(c=!0);var d=0;if(!o||"string"!=typeof o&&!i.isBuffer(o))return e.emit("error",new Error("Invalid protocolId")),!1;d+=o.length+2;if(3!==s&&4!==s)return e.emit("error",new Error("Invalid protocol version")),!1;d+=1;if("string"!=typeof l&&!i.isBuffer(l)||!l&&4!==s||!l&&!c){if(s<4)return e.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*c==0)return e.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}else d+=l.length+2;if("number"!=typeof u||u<0||u>65535||u%1!=0)return e.emit("error",new Error("Invalid keepalive")),!1;d+=2;if(d+=1,a){if("object"!=typeof a)return e.emit("error",new Error("Invalid will")),!1;if(!a.topic||"string"!=typeof a.topic)return e.emit("error",new Error("Invalid will topic")),!1;if(d+=i.byteLength(a.topic)+2,a.payload&&a.payload){if(!(a.payload.length>=0))return e.emit("error",new Error("Invalid will payload")),!1;"string"==typeof a.payload?d+=i.byteLength(a.payload)+2:d+=a.payload.length+2}else d+=2}var g=!1;if(null!=h){if(!k(h))return e.emit("error",new Error("Invalid username")),!1;g=!0,d+=i.byteLength(h)+2}if(null!=p){if(!g)return e.emit("error",new Error("Username is required to use password")),!1;if(!k(p))return e.emit("error",new Error("Invalid password")),!1;d+=S(p)+2}e.write(r.CONNECT_HEADER),_(e,d),w(e,o),e.write(4===s?r.VERSION4:r.VERSION3);var b=0;b|=null!=h?r.USERNAME_MASK:0,b|=null!=p?r.PASSWORD_MASK:0,b|=a&&a.retain?r.WILL_RETAIN_MASK:0,b|=a&&a.qos?a.qos<<r.WILL_QOS_SHIFT:0,b|=a?r.WILL_FLAG_MASK:0,b|=c?r.CLEAN_SESSION_MASK:0,e.write(i.from([b])),f(e,u),w(e,l),a&&(y(e,a.topic),w(e,a.payload));null!=h&&w(e,h);null!=p&&w(e,p);return!0}(t,e);case"connack":return function(t,e){var n=(t||{}).returnCode;if("number"!=typeof n)return e.emit("error",new Error("Invalid return code")),!1;return e.write(r.CONNACK_HEADER),_(e,2),e.write(t.sessionPresent?r.SESSIONPRESENT_HEADER:s),e.write(i.from([n]))}(t,e);case"publish":return function(t,e){var n=t||{},s=n.qos||0,a=n.retain?r.RETAIN_MASK:0,c=n.topic,u=n.payload||o,l=n.messageId,h=0;if("string"==typeof c)h+=i.byteLength(c)+2;else{if(!i.isBuffer(c))return e.emit("error",new Error("Invalid topic")),!1;h+=c.length+2}i.isBuffer(u)?h+=u.length:h+=i.byteLength(u);if(s&&"number"!=typeof l)return e.emit("error",new Error("Invalid messageId")),!1;s&&(h+=2);e.write(r.PUBLISH_HEADER[s][t.dup?1:0][a?1:0]),_(e,h),f(e,S(c)),e.write(c),s>0&&f(e,l);return e.write(u)}(t,e);case"puback":case"pubrec":case"pubrel":case"pubcomp":case"unsuback":return function(t,e){var n=t||{},i=n.cmd||"puback",o=n.messageId,s=n.dup&&"pubrel"===i?r.DUP_MASK:0,a=0;"pubrel"===i&&(a=1);if("number"!=typeof o)return e.emit("error",new Error("Invalid messageId")),!1;return e.write(r.ACKS[i][a][s][0]),_(e,2),f(e,o)}(t,e);case"subscribe":return function(t,e){var n=t||{},o=n.dup?r.DUP_MASK:0,s=n.messageId,a=n.subscriptions,c=0;if("number"!=typeof s)return e.emit("error",new Error("Invalid messageId")),!1;c+=2;if("object"!=typeof a||!a.length)return e.emit("error",new Error("Invalid subscriptions")),!1;for(var u=0;u<a.length;u+=1){var l=a[u].topic,h=a[u].qos;if("string"!=typeof l)return e.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof h)return e.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;c+=i.byteLength(l)+2+1}e.write(r.SUBSCRIBE_HEADER[1][o?1:0][0]),_(e,c),f(e,s);for(var p=!0,d=0;d<a.length;d++){var g=a[d],b=g.topic,v=g.qos;y(e,b),p=e.write(r.QOS[v])}return p}(t,e);case"suback":return function(t,e){var n=t||{},o=n.messageId,s=n.granted,a=0;if("number"!=typeof o)return e.emit("error",new Error("Invalid messageId")),!1;a+=2;if("object"!=typeof s||!s.length)return e.emit("error",new Error("Invalid qos vector")),!1;for(var c=0;c<s.length;c+=1){if("number"!=typeof s[c])return e.emit("error",new Error("Invalid qos vector")),!1;a+=1}return e.write(r.SUBACK_HEADER),_(e,a),f(e,o),e.write(i.from(s))}(t,e);case"unsubscribe":return function(t,e){var n=t||{},o=n.messageId,s=n.dup?r.DUP_MASK:0,a=n.unsubscriptions,c=0;if("number"!=typeof o)return e.emit("error",new Error("Invalid messageId")),!1;c+=2;if("object"!=typeof a||!a.length)return e.emit("error",new Error("Invalid unsubscriptions")),!1;for(var u=0;u<a.length;u+=1){if("string"!=typeof a[u])return e.emit("error",new Error("Invalid unsubscriptions")),!1;c+=i.byteLength(a[u])+2}e.write(r.UNSUBSCRIBE_HEADER[1][s?1:0][0]),_(e,c),f(e,o);for(var l=!0,h=0;h<a.length;h++)l=y(e,a[h]);return l}(t,e);case"pingreq":case"pingresp":case"disconnect":return function(t,e){return e.write(r.EMPTY[t.cmd])}(t,e);default:return e.emit("error",new Error("Unknown command")),!1}}function g(t){t.uncork()}Object.defineProperty(d,"cacheNumbers",{get:function(){return f===v},set:function(t){t?(u&&0!==Object.keys(u).length||(p=!0),f=v):(p=!1,f=m)}});var b={};function _(t,e){var n=b[e];n||(n=function(t){var e=0,n=0,r=i.allocUnsafe(function(t){return t>=0&&t<128?1:t>=128&&t<16384?2:t>=16384&&t<2097152?3:t>=2097152&&t<268435456?4:0}(t));do{e=t%128|0,(t=t/128|0)>0&&(e|=128),r.writeUInt8(e,n++)}while(t>0);return r}(e),e<16384&&(b[e]=n)),t.write(n)}function y(t,e){var n=i.byteLength(e);f(t,n),t.write(e,"utf8")}function v(t,e){return t.write(u[e])}function m(t,e){return t.write(l(e))}function w(t,e){"string"==typeof e?y(t,e):e?(f(t,e.length),t.write(e)):f(t,0)}function S(t){return t?t instanceof i?t.length:i.byteLength(t):0}function k(t){return"string"==typeof t||t instanceof i}t.exports=d},ck6w:function(t,e,n){"use strict";t.exports=n("KbBO")()?Number.isNaN:n("VsQa")},ds4h:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},e989:function(t,e,n){"use strict";t.exports=n("7PmA")()?Object.keys:n("c3ME")},"eA/Y":function(t,e,n){"use strict";t.exports=o;var r=n("J78i"),i=n("Onz0");function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n("P7XM"),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},fEpb:function(t,e,n){"use strict";t.exports=n("/1Vs")()?globalThis:n("wsAV")},fXKp:function(t,e,n){"use strict";var r=n("hwdV").Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},fYgR:function(t,e,n){"use strict";var r=n("HgrX"),i=/[\n\r\u2028\u2029]/g;t.exports=function(t){var e=r(t);return null===e?"<Non-coercible to string value>":(e.length>100&&(e=e.slice(0,99)+"…"),e=e.replace(i,(function(t){switch(t){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},fciO:function(t,e,n){"use strict";var r=n("hNN4"),i=n("F5Mc");t.exports=function(t){return i(t)?t:r(t,"%v is not a plain function",arguments[1])}},fiWp:function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s,a;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):b(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function b(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=b(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,p(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},fw8W:function(t,e,n){"use strict";var r=n("hwdV").Buffer,i=n("cTUk"),o=n("fiWp").EventEmitter;function s(){this._array=new Array(20),this._i=0}n("P7XM")(s,o),s.prototype.write=function(t){return this._array[this._i++]=t,!0},s.prototype.concat=function(){var t,e,n=0,i=new Array(this._array.length),o=this._array,s=0;for(t=0;t<o.length&&void 0!==o[t];t++)"string"!=typeof o[t]?i[t]=o[t].length:i[t]=r.byteLength(o[t]),n+=i[t];for(e=r.allocUnsafe(n),t=0;t<o.length&&void 0!==o[t];t++)"string"!=typeof o[t]?(o[t].copy(e,s),s+=i[t]):(e.write(o[t],s),s+=i[t]);return e},t.exports=function(t){var e=new s;return i(t,e),e.concat()}},gxFv:function(t,e,n){"use strict";var r=!1,i=[];function o(t){r?wx.sendSocketMessage({data:t.buffer||t}):i.push(t)}var s=n("VT4K");function a(t,e){var n="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";!function(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}(e);var a=function(t,e){var n="wxs"===t.protocol?"wss":"ws",r=n+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(r=n+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(r=t.transformWsUrl(r,t,e)),r}(e,t);return s(function(t,e){var n={OPEN:1,CLOSING:2,CLOSED:3,readyState:r?1:0,send:o,close:wx.closeSocket,onopen:null,onmessage:null,onclose:null,onerror:null};return wx.connectSocket({url:t,protocols:e}),wx.onSocketOpen((function(t){n.readyState=n.OPEN,r=!0;for(var e=0;e<i.length;e++)o(i[e]);i=[],n.onopen&&n.onopen.apply(n,arguments)})),wx.onSocketMessage((function(t){n.onmessage&&n.onmessage.apply(n,arguments)})),wx.onSocketClose((function(){n.onclose&&n.onclose.apply(n,arguments),n.readyState=n.CLOSED,r=!1})),wx.onSocketError((function(){n.onerror&&n.onerror.apply(n,arguments),n.readyState=n.CLOSED,r=!1})),n}(a,[n]))}t.exports=function(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");return a(t,e)}},hNN4:function(t,e,n){"use strict";var r=n("k2qM"),i=n("Xt1Y"),o=n("6uBi"),s=n("fYgR"),a=function(t,e){return t.replace("%v",s(e))};t.exports=function(t,e,n){if(!i(n))throw new TypeError(a(e,t));if(!r(t)){if("default"in n)return n.default;if(n.isOptional)return null}var s=o(n.errorMessage);throw r(s)||(s=e),new TypeError(a(s,t))}},hwdV:function(t,e,n){var r=n("tjlA"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},ilDb:function(t,e,n){"use strict";var r=n("6b34"),i=n("aSse"),o=n("YCR5"),s=n("Cdli"),a=n("NHMy"),c=n("HEoz").iterator;t.exports=function(t){return"function"==typeof a(t)[c]?t[c]():r(t)?new o(t):i(t)?new s(t):new o(t)}},"j+X2":function(t,e,n){"use strict";var r=n("HEoz").iterator,i=n("6b34"),o=n("cEWz"),s=n("1TtK"),a=n("GpRL"),c=n("lq5y"),u=n("YsTz"),l=n("aSse"),h=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},d=Object.defineProperty;t.exports=function(t){var e,n,g,b,_,y,v,m,w,S,k=arguments[1],E=arguments[2];if(t=Object(c(t)),u(k)&&a(k),this&&this!==Array&&o(this))e=this;else{if(!k){if(i(t))return 1!==(_=t.length)?Array.apply(null,t):((b=new Array(1))[0]=t[0],b);if(h(t)){for(b=new Array(_=t.length),n=0;n<_;++n)b[n]=t[n];return b}}b=[]}if(!h(t))if(void 0!==(w=t[r])){for(v=a(w).call(t),e&&(b=new e),m=v.next(),n=0;!m.done;)S=k?f.call(k,E,m.value,n):m.value,e?(p.value=S,d(b,n,p)):b[n]=S,m=v.next(),++n;_=n}else if(l(t)){for(_=t.length,e&&(b=new e),n=0,g=0;n<_;++n)S=t[n],n+1<_&&(y=S.charCodeAt(0))>=55296&&y<=56319&&(S+=t[++n]),S=k?f.call(k,E,S,g):S,e?(p.value=S,d(b,g,p)):b[g]=S,++g;_=g}if(void 0===_)for(_=s(t.length),e&&(b=new e(_)),n=0;n<_;++n)S=k?f.call(k,E,t[n],n):t[n],e?(p.value=S,d(b,n,p)):b[n]=S;return e&&(p.value=null,b.length=_),b}},j5xA:function(t,e,n){"use strict";var r=n("fiWp"),i=n("MCLT").inherits,o=n("MYcY"),s=n("vWpX");function a(t,e,n){return s(n)?"$aws/things/"+t+"/shadow/"+e:"$aws/things/"+t+"/shadow/"+e+"/"+n}function c(t){return"$aws/things/"===t.substring(0,12)}function u(t,e){if(!(this instanceof u))return new u(t,e);var n=this,i=[{}],l=0,h=1e4,f=!0,p=o.DeviceClient(t);s(e)||s(e.operationTimeout)||(h=e.operationTimeout),this._handleSubscriptions=function(t,e,n,r){for(var o=[],c=0,u=e.length;c<u;c++)for(var l=0,h=e[c].operations.length;l<h;l++)for(var f=0,d=e[c].statii.length;f<d;f++)o.push(a(t,e[c].operations[l],e[c].statii[f]));!0===i[t].debug&&console.log(n+" on "+o);var g=[];g.push(o),"subscribe"===n?(g.push({qos:i[t].qos}),g.push((function(t,e){if(!s(r)){if(t)return void r(t);for(var n=[],i=0,o=e.length;i<o;i++)128===e[i].qos&&n.push(e[i]);if(n.length>0)return void r("Not all subscriptions were granted",n);r()}}))):s(r)||g.push(r),p[n].apply(p,g)},this._handleMessages=function(e,n,r,o){var a={};try{a=JSON.parse(o.toString())}catch(l){return void(!0===t.debug&&console.error("failed parsing JSON '"+o.toString()+"', "+l))}var c=a.clientToken,u=a.version;if(delete a.clientToken,!s(u)&&"rejected"!==r)if(s(i[e].version)||u>=i[e].version)i[e].version=u;else if("delete"!==n&&!0===i[e].discardStale)return void(!0===t.debug&&console.warn("out-of-date version '"+u+"' on '"+e+"' (local version '"+i[e].version+"')"));"delta"!==r?s(i[e].clientToken)||i[e].clientToken!==c?"accepted"===r&&"get"!==n&&this.emit("foreignStateChange",e,n,a):(clearTimeout(i[e].timeout),delete i[e].timeout,delete i[e].clientToken,i[e].pending=!1,!1===i[e].persistentSubscribe&&this._handleSubscriptions(e,[{operations:[n],statii:["accepted","rejected"]}],"unsubscribe"),this.emit("status",e,r,c,a)):this.emit("delta",e,a)},p.on("connect",(function(){n.emit("connect")})),p.on("close",(function(){n.emit("close")})),p.on("reconnect",(function(){n.emit("reconnect")})),p.on("offline",(function(){n.emit("offline")})),p.on("error",(function(t){n.emit("error",t)})),p.on("packetsend",(function(t){n.emit("packetsend",t)})),p.on("packetreceive",(function(t){n.emit("packetreceive",t)})),p.on("message",(function(t,e){if(!0===f){var r=t.split("/");!function(t,e){var n=!1;return"$aws"===t[0]&&("things"!==t[1]||"shadow"!==t[3]||"update"!==t[4]&&"get"!==t[4]&&"delete"!==t[4]||("subscribe"===e?"accepted"!==t[5]&&"rejected"!==t[5]&&"delta"!==t[5]||6!==t.length||(n=!0):5===t.length&&(n=!0))),n}(r,"subscribe")?n.emit("message",t,e):i.hasOwnProperty(r[2])&&n._handleMessages(r[2],r[4],r[5],e)}})),this._thingOperation=function(e,r,o){var c=null;if(i.hasOwnProperty(e))if(!1===i[e].pending){var u;if(i[e].pending=!0,s(o.clientToken)){var f=t.clientId.length;u=f>48?t.clientId.substr(f-48)+"-"+l++:t.clientId+"-"+l++}else u=o.clientToken;i[e].clientToken=u;var d=a(e,r);i[e].timeout=setTimeout((function(t,e){!1===i[t].persistentSubscribe&&n._handleSubscriptions(t,[{operations:[r],statii:["accepted","rejected"]}],"unsubscribe"),i[t].pending=!1,delete i[t].timeout,delete i[t].clientToken,n.emit("timeout",t,e)}),h,e,u),!1===i[e].persistentSubscribe?this._handleSubscriptions(e,[{operations:[r],statii:["accepted","rejected"]}],"subscribe",(function(t,n){s(t)&&s(n)?s(o)||(!s(i[e].version)&&i[e].enableVersioning&&(o.version=i[e].version),o.clientToken=u,p.publish(d,JSON.stringify(o),{qos:i[e].qos}),s(i[e])||!0!==i[e].debug||console.log("publishing '"+JSON.stringify(o)+" on '"+d+"'")):console.warn("failed subscription to accepted/rejected topics")})):(!s(i[e].version)&&i[e].enableVersioning&&(o.version=i[e].version),o.clientToken=u,p.publish(d,JSON.stringify(o),{qos:i[e].qos}),!0===i[e].debug&&console.log("publishing '"+JSON.stringify(o)+" on '"+d+"'")),c=u}else!0===t.debug&&console.error(r+" still in progress on thing: ",e);else!0===t.debug&&console.error("attempting to "+r+" unknown thing: ",e);return c},this.register=function(e,n,r){if(i.hasOwnProperty(e))!0===t.debug&&console.error("thing already registered: ",e);else{var o=!1,a=[];i[e]={persistentSubscribe:!0,debug:!1,discardStale:!0,enableVersioning:!0,qos:0,pending:!0},"function"==typeof n&&(r=n,n=null),s(n)||(s(n.ignoreDeltas)||(o=n.ignoreDeltas),s(n.persistentSubscribe)||(i[e].persistentSubscribe=n.persistentSubscribe),s(n.debug)||(i[e].debug=n.debug),s(n.discardStale)||(i[e].discardStale=n.discardStale),s(n.enableVersioning)||(i[e].enableVersioning=n.enableVersioning),s(n.qos)||(i[e].qos=n.qos)),!1===o&&a.push({operations:["update"],statii:["delta"]}),!0===i[e].persistentSubscribe&&a.push({operations:["update","get","delete"],statii:["accepted","rejected"]}),a.length>0?this._handleSubscriptions(e,a,"subscribe",(function(t,n){s(t)&&s(n)&&(i[e].pending=!1),s(r)||r(t,n)})):(i[e].pending=!1,s(r)||r())}},this.unregister=function(e){if(i.hasOwnProperty(e)){var n=[];n.push({operations:["update"],statii:["delta"]}),!0===i[e].persistentSubscribe&&n.push({operations:["update","get","delete"],statii:["accepted","rejected"]}),this._handleSubscriptions(e,n,"unsubscribe"),s(i[e].timeout)||clearTimeout(i[e].timeout),delete i[e]}else!0===t.debug&&console.error("attempting to unregister unknown thing: ",e)},this.update=function(t,e){var r=null;return s(e.version)?r=n._thingOperation(t,"update",e):console.error("message can't contain 'version' property"),r},this.get=function(t,e){var r={};return s(e)||(r.clientToken=e),n._thingOperation(t,"get",r)},this.delete=function(t,e){var r={};return s(e)||(r.clientToken=e),n._thingOperation(t,"delete",r)},this.publish=function(t,e,n,r){if(c(t))throw"cannot publish to reserved topic '"+t+"'";p.publish(t,e,n,r)},this.subscribe=function(t,e,n){var r=[];"string"==typeof t?r.push(t):"object"==typeof t&&t.length&&(r=t);for(var i=0;i<r.length;i++)if(c(r[i]))throw"cannot subscribe to topic array since one of them is a reserved topic '"+r[i]+"'";p.subscribe(r,e,n)},this.unsubscribe=function(t,e){var n=[];"string"==typeof t?n.push(t):"object"==typeof t&&t.length&&(n=t);for(var r=0;r<n.length;r++)if(c(n[r]))throw"cannot unsubscribe from topic array since one of them is a reserved topic '"+n[r]+"'";p.unsubscribe(n,e)},this.end=function(t,e){p.end(t,e)},this.updateWebSocketCredentials=function(t,e,n,r){p.updateWebSocketCredentials(t,e,n,r)},this.updateCustomAuthHeaders=function(t){p.updateCustomAuthHeaders(t)},this.setConnectionStatus=function(t){f=t},r.EventEmitter.call(this)}i(u,r.EventEmitter),t.exports=u},k2qM:function(t,e,n){"use strict";t.exports=function(t){return null!=t}},kBPl:function(t,e,n){"use strict";var r=n("Xt1Y");t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(e){return!1}}},kQqu:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n("SPiE"),e),i(n("tiNK"),e)},kd2E:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var h,f,p,d,g=t[l].replace(a,"%20"),b=g.indexOf(n);b>=0?(h=g.substr(0,b),f=g.substr(b+1)):(h=g,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),r(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},keMp:function(t,e,n){"use strict";var r=n("6b34"),i=n("YsTz"),o=n("aSse"),s=n("HEoz").iterator,a=Array.isArray;t.exports=function(t){return!!i(t)&&(!!a(t)||(!!o(t)||(!!r(t)||"function"==typeof t[s])))}},lO5s:function(t,e,n){"use strict";var r,i,o,s=n("9Qh4"),a=n("s4AO"),c=n("fEpb").Symbol,u=n("lk0t"),l=n("4D8k"),h=n("Jb7g"),f=Object.create,p=Object.defineProperties,d=Object.defineProperty;if("function"==typeof c)try{String(c()),o=!0}catch(g){}else c=null;i=function(t){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return r(t)},t.exports=r=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return o?c(e):(n=f(i.prototype),e=void 0===e?"":String(e),p(n,{__description__:s("",e),__name__:s("",u(e))}))},l(r),h(r),p(i.prototype,{constructor:s(r),toString:s("",(function(){return this.__name__}))}),p(r.prototype,{toString:s((function(){return"Symbol ("+a(this).__description__+")"})),valueOf:s((function(){return a(this)}))}),d(r.prototype,r.toPrimitive,s("",(function(){var t=a(this);return"symbol"==typeof t?t:t.toString()}))),d(r.prototype,r.toStringTag,s("c","Symbol")),d(i.prototype,r.toStringTag,s("c",r.prototype[r.toStringTag])),d(i.prototype,r.toPrimitive,s("c",r.prototype[r.toPrimitive]))},lPiR:function(t,e,n){var r;t.exports=(r=n("Ib8C"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,s=e.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],h=n[6],f=n[7],p=0;p<64;p++){if(p<16)u[p]=0|t[e+p];else{var d=u[p-15],g=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,b=u[p-2],_=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;u[p]=g+u[p-7]+_+u[p-16]}var y=r&i^r&o^i&o,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),m=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&h)+c[p]+u[p];f=h,h=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+(v+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},lk0t:function(t,e,n){"use strict";var r=n("9Qh4"),i=Object.create,o=Object.defineProperty,s=Object.prototype,a=i(null);t.exports=function(t){for(var e,n,i=0;a[t+(i||"")];)++i;return a[t+=i||""]=!0,o(s,e="@@"+t,r.gs(null,(function(t){n||(n=!0,o(this,e,r(t)),n=!1)}))),e}},lm0R:function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n("8oxB"))},lq5y:function(t,e,n){"use strict";var r=n("YsTz");t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},mGv0:function(t,e,n){"use strict";var r,i=n("k2qM"),o=n("JiqL"),s=n("fciO"),a=n("1m9z"),c=n("86bp"),u=n("RmV6"),l=Function.prototype.bind,h=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(t,e,n){var r,i=o(e)&&s(e.value);return delete(r=a(e)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,t)?i:(e.value=l.call(i,n.resolveContext?n.resolveContext(this):this),h(this,t,e),this[t])},r},t.exports=function(t){var e=c(arguments[1]);return i(e.resolveContext)&&s(e.resolveContext),u(t,(function(t,n){return r(n,t,e)}))}},nfBX:function(t,e,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,o={};t.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||r;return"function"==typeof t&&i(t(e(null),o))===o}},opf0:function(t,e,n){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},p8mi:function(t,e){t.exports=function(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}},pnHa:function(t,e,n){"use strict";var r=n("lq5y");t.exports=function(){return r(this).length=0,this}},q1Jy:function(t,e,n){var r=n("VmuJ"),i=function(){},o=function(t,e,n){if("function"==typeof e)return o(t,null,e);e||(e={}),n=r(n||i);var s=t._writableState,a=t._readableState,c=e.readable||!1!==e.readable&&t.readable,u=e.writable||!1!==e.writable&&t.writable,l=function(){t.writable||h()},h=function(){u=!1,c||n.call(t)},f=function(){c=!1,u||n.call(t)},p=function(e){n.call(t,e?new Error("exited with error code: "+e):null)},d=function(e){n.call(t,e)},g=function(){return(!c||a&&a.ended)&&(!u||s&&s.ended)?void 0:n.call(t,new Error("premature close"))},b=function(){t.req.on("finish",h)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?u&&!s&&(t.on("end",l),t.on("close",l)):(t.on("complete",h),t.on("abort",g),t.req?b():t.on("request",b)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",p),t.on("end",f),t.on("finish",h),!1!==e.error&&t.on("error",d),t.on("close",g),function(){t.removeListener("complete",h),t.removeListener("abort",g),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",h),t.removeListener("exit",p),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",g)}};t.exports=o},rXFu:function(t,e,n){"use strict";(function(e,r){var i=n("lm0R");t.exports=v;var o,s=n("49sm");v.ReadableState=y;n("fiWp").EventEmitter;var a=function(t,e){return t.listeners(e).length},c=n("QpuX"),u=n("hwdV").Buffer,l=e.Uint8Array||function(){};var h=n("Onz0");h.inherits=n("P7XM");var f=n(4),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,g=n("Xhqo"),b=n("RoFp");h.inherits(v,c);var _=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var r=e instanceof(o=o||n("sZro"));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n("fXKp").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||n("sZro"),!(this instanceof v))return new v(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function m(t,e,n,r,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,k(t)}(t,s)):(i||(o=function(t,e){var n;r=e,u.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):I(t,s)):w(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&k(t)),I(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=b.destroy,v.prototype._undestroy=b.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),m(this,t,e,!1,n)},v.prototype.unshift=function(t){return m(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return d||(d=n("fXKp").StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){p("emit readable"),t.emit("readable"),C(t)}function I(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(x,t,e))}function x(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function O(t){p("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),C(t),e.flowing&&!e.reading&&t.read(0)}function C(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function A(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function j(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(M,e,t))}function M(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}v.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):k(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&j(this),null;var r,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(n,e))),null===(r=t>0?A(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&j(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:v;function u(e,r){p("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),t.removeListener("close",_),t.removeListener("finish",y),t.removeListener("drain",h),t.removeListener("error",b),t.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",v),n.removeListener("data",g),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function l(){p("onend"),t.end()}o.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",u);var h=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,C(t))}}(n);t.on("drain",h);var f=!1;var d=!1;function g(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==N(o.pipes,t))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function b(e){p("onerror",e),v(),t.removeListener("error",b),0===a(t,"error")&&t.emit("error",e)}function _(){t.removeListener("finish",y),v()}function y(){p("onfinish"),t.removeListener("close",_),v()}function v(){p("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",b),t.once("close",_),t.once("finish",y),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=N(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},v.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):i.nextTick(O,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(T,t,e))}(this,t)),this},v.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<_.length;o++)t.on(_[o],this.emit.bind(this,_[o]));return this._read=function(e){p("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=A}).call(this,n("yLpj"),n("8oxB"))},roTD:function(t,e,n){"use strict";function r(t){for(var e=t.split("/"),n=0;n<e.length;n++)if("+"!==e[n]){if("#"===e[n])return n===e.length-1;if(-1!==e[n].indexOf("+")||-1!==e[n].indexOf("#"))return!1}return!0}t.exports={validateTopics:function(t){if(0===t.length)return"empty_topic_list";for(var e=0;e<t.length;e++)if(!r(t[e]))return t[e];return null}}},s4AO:function(t,e,n){"use strict";var r=n("ESbf");t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},s4NR:function(t,e,n){"use strict";e.decode=e.parse=n("kd2E"),e.encode=e.stringify=n("4JlD")},sYVv:function(t,e,n){"use strict";t.exports=n("FM/B")()?Array.from:n("j+X2")},sZro:function(t,e,n){"use strict";var r=n("lm0R"),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=n("Onz0");o.inherits=n("P7XM");var s=n("rXFu"),a=n("3BRs");o.inherits(h,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},skmB:function(t,e,n){"use strict";var r=n("GYWy"),i=n("ds4h");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=v,e.resolve=function(t,e){return v(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?v(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=v(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n("s4NR");function v(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var v=t=u.join(a);if(v=v.trim(),!n&&1===t.split("#").length){var m=c.exec(v);if(m)return this.path=v,this.href=v,this.pathname=m[1],m[2]?(this.search=m[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(v);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,v=v.substr(w.length)}if(n||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===v.substr(0,2);!k||w&&b[w]||(v=v.substr(2),this.slashes=!0)}if(!b[w]&&(k||w&&!_[w])){for(var E,I,x=-1,O=0;O<f.length;O++){-1!==(T=v.indexOf(f[O]))&&(-1===x||T<x)&&(x=T)}-1!==(I=-1===x?v.lastIndexOf("@"):v.lastIndexOf("@",x))&&(E=v.slice(0,I),v=v.slice(I+1),this.auth=decodeURIComponent(E)),x=-1;for(O=0;O<h.length;O++){var T;-1!==(T=v.indexOf(h[O]))&&(-1===x||T<x)&&(x=T)}-1===x&&(x=v.length),this.host=v.slice(0,x),v=v.slice(x),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),j=(O=0,A.length);O<j;O++){var M=A[O];if(M&&!M.match(p)){for(var N="",P=0,L=M.length;P<L;P++)M.charCodeAt(P)>127?N+="x":N+=M[P];if(!N.match(p)){var R=A.slice(0,O),q=A.slice(O+1),D=M.match(d);D&&(R.push(D[1]),q.unshift(D[2])),q.length&&(v="/"+q.join(".")+v),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!g[S])for(O=0,j=l.length;O<j;O++){var W=l[O];if(-1!==v.indexOf(W)){var F=encodeURIComponent(W);F===W&&(F=escape(W)),v=v.split(W).join(F)}}var z=v.indexOf("#");-1!==z&&(this.hash=v.substr(z),v=v.slice(0,z));var H=v.indexOf("?");if(-1!==H?(this.search=v.substr(H),this.query=v.substr(H+1),e&&(this.query=y.parse(this.query)),v=v.slice(0,H)):e&&(this.search="",this.query={}),v&&(this.pathname=v),_[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var K=this.search||"";this.path=B+K}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||_[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(v(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=t[l])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!_[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||b[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=m||v||n.host&&t.pathname,S=w,k=n.pathname&&n.pathname.split("/")||[],E=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!_[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===k[0])),m)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,k=d;else if(d.length)k||(k=[]),k.pop(),k=k.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)n.hostname=n.host=k.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var I=k.slice(-1)[0],x=(n.host||t.host||k.length>1)&&("."===I||".."===I)||""===I,O=0,T=k.length;T>=0;T--)"."===(I=k[T])?k.splice(T,1):".."===I?(k.splice(T,1),O++):O&&(k.splice(T,1),O--);if(!w&&!S)for(;O--;O)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),x&&"/"!==k.join("/").substr(-1)&&k.push("");var C,A=""===k[0]||k[0]&&"/"===k[0].charAt(0);E&&(n.hostname=n.host=A?"":k.length?k.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(w=w||n.host&&k.length)&&!A&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},solC:function(t,e,n){"use strict";var r=n("hwdV").Buffer,i=t.exports;for(var o in i.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"},i.codes={},i.types){var s=i.types[o];i.codes[s]=o}function a(t){return[0,1,2].map((function(e){return[0,1].map((function(n){return[0,1].map((function(o){var s=new r(1);return s.writeUInt8(i.codes[t]<<i.CMD_SHIFT|(n?i.DUP_MASK:0)|e<<i.QOS_SHIFT|o,0,!0),s}))}))}))}i.CMD_SHIFT=4,i.CMD_MASK=240,i.DUP_MASK=8,i.QOS_MASK=3,i.QOS_SHIFT=1,i.RETAIN_MASK=1,i.LENGTH_MASK=127,i.LENGTH_FIN_MASK=128,i.SESSIONPRESENT_MASK=1,i.SESSIONPRESENT_HEADER=r.from([i.SESSIONPRESENT_MASK]),i.CONNACK_HEADER=r.from([i.codes.connack<<i.CMD_SHIFT]),i.USERNAME_MASK=128,i.PASSWORD_MASK=64,i.WILL_RETAIN_MASK=32,i.WILL_QOS_MASK=24,i.WILL_QOS_SHIFT=3,i.WILL_FLAG_MASK=4,i.CLEAN_SESSION_MASK=2,i.CONNECT_HEADER=r.from([i.codes.connect<<i.CMD_SHIFT]),i.PUBLISH_HEADER=a("publish"),i.SUBSCRIBE_HEADER=a("subscribe"),i.UNSUBSCRIBE_HEADER=a("unsubscribe"),i.ACKS={unsuback:a("unsuback"),puback:a("puback"),pubcomp:a("pubcomp"),pubrel:a("pubrel"),pubrec:a("pubrec")},i.SUBACK_HEADER=r.from([i.codes.suback<<i.CMD_SHIFT]),i.VERSION3=r.from([3]),i.VERSION4=r.from([4]),i.QOS=[0,1,2].map((function(t){return r.from([t])})),i.EMPTY={pingreq:r.from([i.codes.pingreq<<4,0]),pingresp:r.from([i.codes.pingresp<<4,0]),disconnect:r.from([i.codes.disconnect<<4,0])}},t3nS:function(t,e,n){"use strict";t.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},t9FE:function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n("yLpj"))},tB7K:function(t,e){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:"undefined"!=typeof window&&(n=window.WebSocket||window.MozWebSocket),t.exports=n},tiNK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotificationsWebsocketClient=void 0;var r=function(){function t(t,e){var n=this;this.handlers={},this.websocketClient=t,this.options=e,this.websocketClient.on("message",(function(t,e){return n.handleMessage(t,e)}))}return t.prototype.subscribeToAppNotifications=function(t){var e=this,n=(Array.isArray(t)?t:[t]).map((function(t){return e.notificationsTopicForApp(t)}));this.websocketClient.subscribe(n,{qos:1})},t.prototype.setHandler=function(t,e){this.handlers[t]=e},t.prototype.notificationsTopicForApp=function(t){return this.options.notificationsTopicBase+"/"+this.options.userID+"_"+this.options.accountType+"/"+t},t.prototype.handleMessage=function(t,e){if(t.startsWith(this.options.notificationsTopicBase)){var n=e.toString(),r=JSON.parse(n);this.debugLog("Received message. Topic: "+t+", Payload: "+n);var i=r.type;if(!i||"string"!=typeof i)throw new Error('Invalid notification payload: "type" field is missing or not a string. Payload: '+n);this.handlers[i]?(this.debugLog("Sending to handler for type "+i),this.handlers[i](r)):this.debugLog("No handler set for type "+i)}},t.prototype.debugLog=function(t){this.options.debug&&console.log(t)},t}();e.NotificationsWebsocketClient=r},ukuW:function(t,e,n){"use strict";var r,i,o,s,a=Object.create;n("nfBX")()||(r=n("4ZyC")),t.exports=r?1!==r.level?a:(i={},o={},s={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(t){o[t]="__proto__"!==t?s:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(i,o),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(t,e){return a(null===t?i:t,e)}):a},umFS:function(t,e,n){"use strict";var r=n("fEpb"),i={object:!0,symbol:!0};t.exports=function(){var t,e=r.Symbol;if("function"!=typeof e)return!1;t=e("test symbol");try{String(t)}catch(n){return!1}return!!i[typeof e.iterator]&&(!!i[typeof e.toPrimitive]&&!!i[typeof e.toStringTag])}},uuZh:function(t,e,n){"use strict";t.exports=n("opf0")()?Math.sign:n("73r6")},vI4x:function(t,e,n){"use strict";var r=n("Po9p");t.exports=function(t,e){var n;function i(e){t.emit("error",e),n.end()}return(n=r.connect(e)).on("secureConnect",(function(){n.authorized?n.removeListener("error",i):n.emit("error",new Error("TLS not authorized"))})),n.on("error",i),n}},vWpX:function(t,e,n){"use strict";t.exports=function(t){return null==t}},w1Ht:function(t,e,n){"use strict";var r=n("6b34"),i=n("GpRL"),o=n("aSse"),s=n("ilDb"),a=Array.isArray,c=Function.prototype.call,u=Array.prototype.some;t.exports=function(t,e){var n,l,h,f,p,d,g,b,_=arguments[2];if(a(t)||r(t)?n="array":o(t)?n="string":t=s(t),i(e),h=function(){f=!0},"array"!==n)if("string"!==n)for(l=t.next();!l.done;){if(c.call(e,_,l.value,h),f)return;l=t.next()}else for(d=t.length,p=0;p<d&&(g=t[p],p+1<d&&(b=g.charCodeAt(0))>=55296&&b<=56319&&(g+=t[++p]),c.call(e,_,g,h),!f);++p);else u.call(t,(function(t){return c.call(e,_,t,h),f}))}},wr2X:function(t,e,n){"use strict";t.exports={NO_KEY_OPTION:'No "keyPath" or "privateKey" option supplied.',NO_CERT_OPTION:'No "certPath" or "clientCert" option supplied.',NO_CA_OPTION:'No "caPath" or "caCert" option supplied.',INVALID_KEY_PATH_OPTION:'Invalid "keyPath" option supplied.',INVALID_CERT_PATH_OPTION:'Invalid "certPath" option supplied.',INVALID_CA_PATH_OPTION:'Invalid "caPath" option supplied.',INVALID_CLIENT_CERT_OPTION:'Invalid "clientCert" option supplied.',INVALID_PRIVATE_KEY_OPTION:'Invalid "privateKey" option supplied.',INVALID_CA_CERT_OPTION:'Invalid "caCert" option supplied.'}},wsAV:function(t,e){var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},xPzZ:function(t,e,n){"use strict";(function(e){var r=n("Po9p"),i=n("vWpX"),o=n("wr2X");t.exports=function(t){if(i(t.keyPath)&&i(t.privateKey))throw new Error(o.NO_KEY_OPTION);if(i(t.certPath)&&i(t.clientCert))throw new Error(o.NO_CERT_OPTION);if(i(t.caPath)&&i(t.caCert))throw new Error(o.NO_CA_OPTION);if(!i(t.caCert))if(e.isBuffer(t.caCert))t.ca=t.caCert;else{if(!r.existsSync(t.caCert))throw new Error(o.INVALID_CA_CERT_OPTION);t.ca=r.readFileSync(t.caCert)}if(!i(t.privateKey))if(e.isBuffer(t.privateKey))t.key=t.privateKey;else{if(!r.existsSync(t.privateKey))throw new Error(o.INVALID_PRIVATE_KEY_OPTION);t.key=r.readFileSync(t.privateKey)}if(!i(t.clientCert))if(e.isBuffer(t.clientCert))t.cert=t.clientCert;else{if(!r.existsSync(t.clientCert))throw new Error(o.INVALID_CLIENT_CERT_OPTION);t.cert=r.readFileSync(t.clientCert)}if(r.existsSync(t.keyPath))t.key=r.readFileSync(t.keyPath);else if(!i(t.keyPath))throw new Error(o.INVALID_KEY_PATH_OPTION);if(r.existsSync(t.certPath))t.cert=r.readFileSync(t.certPath);else if(!i(t.certPath))throw new Error(o.INVALID_CERT_PATH_OPTION);if(r.existsSync(t.caPath))t.ca=r.readFileSync(t.caPath);else if(!i(t.caPath))throw new Error(o.INVALID_CA_PATH_OPTION);t.requestCert=!0,t.rejectUnauthorized=!0}}).call(this,n("tjlA").Buffer)},xfTp:function(t,e,n){"use strict";var r=n("uuZh"),i=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(i(t)):t}},xoK8:function(t,e,n){"use strict";t.exports=n("Wlyd")("key","value","key+value")},yfwS:function(t,e,n){"use strict";var r,i,o,s,a,c,u,l=n("9Qh4"),h=n("GpRL"),f=Function.prototype.apply,p=Function.prototype.call,d=Object.create,g=Object.defineProperty,b=Object.defineProperties,_=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};i=function(t,e){var n,i;return h(e),i=this,r.call(this,t,n=function(){o.call(i,t,n),f.call(e,this,arguments)}),n.__eeOnceListener__=e,this},a={on:r=function(t,e){var n;return h(e),_.call(this,"__ee__")?n=this.__ee__:(n=y.value=d(null),g(this,"__ee__",y),y.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:i,off:o=function(t,e){var n,r,i,o;if(h(e),!_.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(o=0;i=r[o];++o)i!==e&&i.__eeOnceListener__!==e||(2===r.length?n[t]=r[o?0:1]:r.splice(o,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:s=function(t){var e,n,r,i,o;if(_.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;r=i[e];++e)f.call(r,this,o)}else switch(arguments.length){case 1:p.call(i,this);break;case 2:p.call(i,this,arguments[1]);break;case 3:p.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];f.call(i,this,o)}}},c={on:l(r),once:l(i),off:l(o),emit:l(s)},u=b({},c),t.exports=e=function(t){return null==t?d(u):b(Object(t),c)},e.methods=a},zs8F:function(t,e,n){"use strict";var r=n("GpRL"),i=n("lq5y"),o=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,c=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,u){var l,h=arguments[2],f=arguments[3];return n=Object(i(n)),r(u),l=a(n),f&&l.sort("function"==typeof f?o.call(f,n):void 0),"function"!=typeof t&&(t=l[t]),s.call(t,l,(function(t,r){return c.call(n,t)?s.call(u,h,n[t],t,n,r):e}))}}}}]);