(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+/oS":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o,r=n("q1tI"),i=n("g7Gn"),s=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){return function(n){function o(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={error:null},e}return s(o,n),o.prototype.componentDidCatch=function(e){console.error(e),i.a(e)},o.getDerivedStateFromError=function(e){return{error:e}},o.prototype.render=function(){var n=this.state.error;return n?t?r.createElement(t,c({},this.props,{error:n})):null:r.createElement(e,c({},this.props))},o}(r.PureComponent)}},Fte8:function(e,t,n){var o=n("uM8F");"string"==typeof o&&(o=[[e.i,o,""]]);n("ZuTH")(o,{});o.locals&&(e.exports=o.locals)},TypO:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var o,r=n("q1tI"),i=n("/MKj"),s=n("Yd7d"),c=n("snIr"),a=n("5/BB"),l=n("+yny"),u=n("ezjE"),p=n("Eb1a"),f=n("OQi0"),d=n("giUB"),h=n("EAdc"),y=n("qPB3"),m=n("L8HH"),v=(n("Fte8"),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g="PortalHeaderSearch--AppResult",b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var n=t.props,o=n.app,r=n.extensionInstalled,i=n.onSelection,s=n.openCredentialsModal,c=n.user,a=n.spIosFeature,l=n.disableAppDuringDemoSesion,u=n.openUnavailableToDemoSessionModal;if(l)return e.preventDefault(),void u();Object(h.c)({app:o,e:e,extensionInstalled:r,openCredentialsModal:function(){return s(o.id)},user:c,spIosFeature:a}),i&&i()},t}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.isFocused,n=e.item,o=e.disableAppDuringDemoSesion,i=n.href;Object(m.a)()&&!i.includes("skip_loading")&&(i+="&skip_loading=true");var s="Single sign-on";return o&&(s+=" (No access)"),r.createElement(l.e,{className:g,href:i,isFocused:t,onClick:this.onClick,key:n.id},r.createElement(l.f,{title:r.createElement(f.b,{alignItems:d.a.CENTER},n.title),metadata:[{content:s,iconURL:n.icon,key:"resourceType",width:l.d.FULL}]}))},t}(r.PureComponent),C=Object(i.connect)((function(e,t){var n=Object(y.featureFlag)(e,"saved-passwords-ios");return{app:p.selectors.districtApp(e,t.item.id),extensionInstalled:p.selectors.extensionInstalled(e),user:p.selectors.user(e),userAgent:p.selectors.config(e).userAgent,spIosFeature:n.value,disableAppDuringDemoSesion:p.selectors.disableAppDuringDemoSesion(e,t.item.id)}}),{})(b),_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){var e=t.props.onSelection;e&&e()},t}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.isFocused,n=e.item;return r.createElement(l.e,{href:n.href,isFocused:t,onClick:this.onClick,key:n.id},r.createElement(l.f,{title:n.title,metadata:[{content:"Link",iconURL:n.icon,key:"resourceType",width:l.d.FULL}]}))},t}(r.PureComponent),S=n("Ty5D"),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var n=t.props,o=n.district,r=n.history,i=n.item,s=n.onSelection;e.preventDefault(),r.push("/in/"+o.shortname+"/student/teacher-pages/"+i.id),s&&s()},t}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.isFocused,n=e.item;return r.createElement(l.e,{href:n.href,isFocused:t,onClick:this.onClick,key:n.id},r.createElement(l.f,{title:n.title,metadata:[{content:"Teacher Page",iconURL:n.icon,key:"resourceType",width:l.d.FULL}]}))},t}(r.PureComponent),A=Object(S.withRouter)(Object(i.connect)((function(e){return{district:p.selectors.district(e)}}),{})(O)),T=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),D=function(){return(D=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={credentialsModalApp:"",showUnavailableToDemoSessionModal:!1},t.openCredentialsModal=function(e){t.setState({credentialsModalApp:e})},t.closeCredentialsModal=function(){t.setState({credentialsModalApp:""})},t.openUnavailableToDemoSessionModal=function(){t.setState({showUnavailableToDemoSessionModal:!0})},t.closeUnavailableToDemoSessionModal=function(){t.setState({showUnavailableToDemoSessionModal:!1})},t.onSelection=function(e,t){u.Events.enqueue("portal.search_bar.clicked",{title:e.item.title,id:e.item.id,type:e.item.type}),t()},t.processResults=function(e){return e.filter((function(e){return e.results.length>0})).map((function(e){return{collectionName:e.collectionName,results:e.results.slice(0,3)}})).sort((function(e,t){return e.results[0].score>t.results[0].score?1:-1}))},t.countResults=function(e){var n=t.processResults(e),o=0;return n.forEach((function(e){o+=e.results.length})),o},t.renderResults=function(e){var n=e.deactivate,o=e.focusIndex,i=e.results,s=t.processResults(i),c=0;return s.map((function(e){var i=e.collectionName,s=e.results,a=r.createElement(l.g,{heading:i,key:i},s.map((function(e,r){return t.renderResult(e,c+r===o,n)})));return c+=s.length,a}))},t.renderResult=function(e,n,o){var i,c=e.item,a=((i={})[s.LinkTypes.APP]=C,i[s.LinkTypes.EXTERNAL]=E,i[s.LinkTypes.TEACHER_PAGE]=A,i)[c.type];if(!a)return null;var l={onSelection:function(){return t.onSelection(e,o)},isFocused:n,item:c,key:c.id,openCredentialsModal:void 0,openUnavailableToDemoSessionModal:void 0};return a===C&&(l.openCredentialsModal=t.openCredentialsModal,l.openUnavailableToDemoSessionModal=t.openUnavailableToDemoSessionModal),r.createElement(a,D({},l))},t}return T(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.fetchDistrictApps,n=e.fetchDistrictCategories;t(),n()},t.prototype.constructCollections=function(){var e=this.props.districtPageSearchEntries;return[new l.c({name:"Resources",items:e.filter((function(e){return e.type!==s.LinkTypes.TEACHER_PAGE})),searchKeys:["title"]}),new l.c({name:"Teacher Pages",items:e.filter((function(e){return e.type===s.LinkTypes.TEACHER_PAGE&&"Untitled"!==e.title})),searchKeys:["title"]})]},t.prototype.renderCredentialsModal=function(){var e=this.props.districtAppsByID,t=this.state.credentialsModalApp;return t&&r.createElement(c.a,{app:e[t],onClose:this.closeCredentialsModal})},t.prototype.renderUnavailableToDemoSessionModal=function(){return this.state.showUnavailableToDemoSessionModal&&r.createElement(a.a,{onClose:this.closeUnavailableToDemoSessionModal})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.districtAppsLoading,o=e.districtCategoriesLoading;return r.createElement(r.Fragment,null,r.createElement(l.h,{ariaLabel:"Search",className:t,collections:this.constructCollections(),expansionDirection:l.b.LEFT,isLoading:n||o,resultsCountFn:this.countResults,subContainerClassName:this.props.subContainerClassName,placeholder:"Search",onActivateHook:function(){u.Events.enqueue("portal.search_bar.focus")}},this.renderResults),this.renderCredentialsModal(),this.renderUnavailableToDemoSessionModal())},t}(r.PureComponent),M={fetchDistrictApps:p.actions.fetchDistrictApps,fetchDistrictCategories:p.actions.fetchDistrictCategories},k=Object(i.connect)((function(e){return{districtAppsByID:p.selectors.districtAppsByID(e),districtAppsLoading:p.selectors.districtAppsLoading(e),districtCategoriesLoading:p.selectors.districtCategoriesLoading(e),districtPageSearchEntries:p.selectors.districtPageSearchEntries(e),numResources:p.selectors.districtPageResourceCount(e)}}),M)(P),j=function(e){return r.createElement(k,D({},e))}},uM8F:function(e,t,n){(e.exports=n("I1BE")()).push([e.i,".PortalHeaderSearch--AppResult--loadingText {\n  margin-left: 0.25rem;\n  font-size: 0.75rem;\n  color: #474c5e;\n}\n.PortalHeaderSearch--AppResult--spinner {\n  margin-left: 0.75rem;\n  height: 1rem;\n  width: 1rem;\n}\n.PortalHeaderSearch--AppResult--unclickable {\n  cursor: not-allowed;\n}\n",""])}}]);