var Sharing;(function(n){function e(n,t,i,u,e){if(e===void 0&&(e=0),i)if(n||f==null)if(u>0){var o=e>0?e:550;f=_w.open(t,"shareW","toolbar=yes, scrollbars=yes, resizable=yes, top=500, left=500, width="+o+", height="+u)}else f=_w.open(t,"shareW");else{_w.location.origin||(_w.location.origin=_w.location.protocol+"//"+_w.location.hostname+(_w.location.port?":"+_w.location.port:""));try{r.useLocationReplace?f.location.replace(t):f.location.href=t}catch(s){}f.postMessage({source:"sharing",url:t},_w.location.origin)}else _w.sj_lc(t)}function h(n){var t;return n&&_d.querySelector&&(t=Lib.CssClass.contains(n,p)?n:n.querySelector(kt)),t}function ut(n){var t;if(!n)return null;if(t=h(n),t){var i=t.getAttribute("data-ap"),w=i!=null&&i!==""?i:null,r=t.getAttribute("data-cs"),k=r!=null&&r!==""?r:null,u=t.getAttribute("data-fc"),rt=u!=null&&u!==""?JSON.parse(u):b,s=t.getAttribute(dt),ut=s&&JSON.parse(s),f=t.getAttribute(tt),ft=f!=null&&f!==""?f:null,e=t.getAttribute(g)||"",c=t.getAttribute(nt)||"",l=t.getAttribute(lt),a=t.getAttribute(at),et=l==null?e:l,ot=a==null?c:a,o=t.getAttribute(vt);o=o||e;var st=t.getAttribute("data-mw"),ht=parseInt(st),ct=t.getAttribute("data-mh"),kt=parseInt(ct),v=t.getAttribute(it),gt=!v?null:decodeURIComponent(v),y=t.getAttribute(yt),ni=!y?null:y,p=t.getAttribute(pt),ti=p!=null&&p.toLowerCase()==="true",ii=t.getAttribute(wt),ri=t.getAttribute(bt);return{shareKey:t.getAttribute("data-sk").toString(),hash:t.getAttribute(d).toString(),shareTitle:e,shareDescription:c,shareTwitterText:ft,shareEmailSubject:et,shareEmailBody:ot,shareIMText:o,shareHashtags:t.getAttribute("data-sh").toString(),disabledMethods:Number(t.getAttribute("data-dsm").toString()),cropSetting:k,formCodes:rt,shareUrlParameters:ut,additionalParametersFunction:w,maxWidth:ht,maxHeight:kt,urlOverride:gt,customScreenshotUrl:ni,skipScreenshot:ti,screenshotSelector:ii,sharingGuid:ri}}return ci}function li(n,t,i,r,u){var f=h(n);f&&((t||i)&&u&&(t&&f.setAttribute(g,t),i&&f.setAttribute(nt,i),f.setAttribute(d,u)),r&&f.setAttribute(tt,r))}function ai(n,t){var i=h(n);i&&t&&i.setAttribute(it,encodeURIComponent(t))}function vi(n,i,r){var u=function(n){!r||n[1]==null||r(n[1]);sj_evt.unbind(w,u)};sj_evt.bind(w,u);sj_evt.fire("ga_share",t[t.GetUrl],n,i)}function yi(n,t){a[n]?a[n].push(t):a[n]=[t]}function pi(n){var t=h(n);return t&&t.getAttribute(rt)=="1"}function wi(n){var t=h(n);t.setAttribute(rt,"1")}function ft(n,t,i){var r=a[t],u;if(r)for(u in r)r[u](n,i)}function bi(n,i){var f,u,e;if(!!i){f=t[i];for(u in n.formCodes)if(n.formCodes.hasOwnProperty(u)&&(e=t[u],e&f))return n.formCodes[u]}return r.defaultFormCode}function ki(n){var t={},e,f,o,u;if(!n||(t[ei]=n),i.sharingGuid&&(t[fi]=i.sharingGuid),i.shareTitle&&i.shareDescription&&i.hash&&(t[gt]=encodeURIComponent(Base64Encoder.stringToBase64(i.shareTitle)),t[ni]=encodeURIComponent(Base64Encoder.stringToBase64(i.shareDescription)),t[ri]=encodeURIComponent(i.hash)),i.customScreenshotUrl&&i.hash&&(t[ti]=encodeURIComponent(Base64Encoder.stringToBase64(i.customScreenshotUrl))),i.cropSetting&&(t[ui]=i.cropSetting),r.isCNEnglishSearch&&(t[oi]="1"),t[ii]=bi(i,n),e=window[i.additionalParametersFunction],e!=null&&typeof e=="function"&&(f=e(),f))for(u in f)f.hasOwnProperty(u)&&(t[u]=f[u]);if(i.shareUrlParameters){o=i.shareUrlParameters;for(u in o)o.hasOwnProperty(u)&&(t[u]=o[u])}return t}function di(n){var t=_w.getComputedStyle(n),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(n.offsetHeight+i)}function gi(n){var t=_w.getComputedStyle(n),r,i,u;if(t.cssText.length>0)return t.cssText;r=[];for(i in t)"string"==typeof t[i]&&t[i]!=""&&(u=i.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}),r[r.length]=u+": "+t[i]);return r.join("; ")+";"}function c(n,t){var i,u,f,r;ft(1,t);var e=n.cloneNode(!0),s=n.querySelectorAll("canvas"),h=e.querySelectorAll("canvas");for(i=0;i<s.length;i++){u=s[i];f=h[i];try{r=_d.createElement("img");r.src=u.toDataURL();r.style.cssText=gi(u);f.parentNode.replaceChild(r,f)}catch(c){o("CanvasScreenshot",c.message,"shareid:"+t)}}return ft(2,t),e.outerHTML}function et(n,t,i,u,f){var l,o,a,h,p,b;if(n){var s=f.sharingGuid,e="<!DOCTYPE html><html><head>",w=document.getElementsByTagName("style");for(o=0;o<w.length;o++)e+=w[o].outerHTML;if(r.includeStylesheetLink)for(l=document.getElementsByTagName("link"),o=0;o<l.length;o++)a=l[o],a.getAttribute("rel")==="stylesheet"&&(e+=a.outerHTML);h=null;typeof GlobalActions!="undefined"&&(e+="<style>"+GlobalActions.actionDrawerSelector+"{ display: none !important; }<\/style>",h=n.querySelector(GlobalActions.actionDrawerSelector));typeof GlobalActionMenu!="undefined"&&(e+="<style>"+GlobalActionMenu.globalActionMenuSelector+"{ display: none !important; }<\/style>");e+="<style>.b_ans, .b_poleContent { margin: 0 !important; } #b_content, #b_results, #b_pole { margin: 0 !important; padding: 0 !important; } .shareRender .b_shareHide { display: none; }<\/style>";e+="<\/head><body><div id='b_content' style='visibility:visible' class='shareRender'>";Lib.CssClass.contains(n,"b_ans")?e+=n.parentElement&&Lib.CssClass.contains(n.parentElement,"b_poleContent")?Shared.formatString("<div id='b_pole'><div class='b_poleContent'>{0}<\/div><\/div>",c(n,s)):Shared.formatString("<ol id='b_results'>{0}<\/ol>",c(n,s)):Lib.CssClass.contains(n,"b_poleContent")?e+=Shared.formatString("<div id='b_pole'>{0}<\/div>",c(n,s)):Lib.CssClass.contains(n,"b_algo")?e+=Shared.formatString("<ol id='b_results'>{0}<\/ol>",c(n,s)):n.id=="shdlgcanvas"&&(e+=c(n,s));e+="<\/div><\/body><\/html>";var d=isNaN(f.maxWidth)?Number.MAX_VALUE:f.maxWidth,g=Math.min(n.offsetWidth,d),nt=isNaN(f.maxHeight)?Number.MAX_VALUE:f.maxHeight,y=Math.min(n.offsetHeight,nt),tt=parseFloat(_w.getComputedStyle(n).height);tt<1&&(p=n.firstElementChild,p&&(y=p.offsetHeight));b=h===null?y:y-di(h);v=k(g,b,f.screenshotSelector,t,i,u,e)}else v=k(0,0,"",t,i,u,"")}function o(n,t,r,f){if(r===void 0&&(r=""),f===void 0&&(f=null),typeof Log!="undefined"){var e=i;if(f!=null&&(e=ut(f)),e==null)return;Log.Log("SocialShare",null,n,!1,"shareKey",e.shareKey,"guid",e.sharingGuid,"stage",u[t],"message",s[t],"metadata",r,"Category","CommonControls")}}function ot(n,f,s,h){var c,d=!0,v=0,g=0,a=n.url.replace("http://","https://"),k=location.protocol+"//"+location.hostname+Shared.formatString(r.thumbnailUrlFormat,n.thid),nt,tt,b,it,rt,y,p,ut;if(f===t[t.Facebook])nt=location.protocol+"//www.bing.com"+r.closeRedirectUrl,c=Shared.formatString(r.facebookShareFormat,encodeURIComponent(a),encodeURIComponent(nt),rr(i.shareKey),r.facebookAppId),v=r.fbInitialHeight;else if(f===t[t.FacebookMessenger])tt=location.protocol+"//www.bing.com"+r.closeRedirectUrl,c=Shared.formatString(r.facebookMessengerUrlFormat,r.facebookAppId,encodeURIComponent(a),encodeURIComponent(tt)),v=r.fbInitialHeight;else if(f===t[t.Twitter])p=i.shareTwitterText!=null&&i.shareTwitterText.length>2?i.shareTwitterText:i.shareDescription,c=Shared.formatString(r.twitterApi,i.shareHashtags,encodeURIComponent(p),encodeURIComponent(a)),v=r.defaultInitialHeight;else if(f===t[t.Pinterest])y=!i.customScreenshotUrl?k:i.customScreenshotUrl,c=Shared.formatString(r.pinterestUrlFormat,encodeURIComponent(a),encodeURIComponent(y),encodeURIComponent(i.shareDescription)),v=r.defaultInitialHeight;else if(f===t[t.OneNote])y=!i.customScreenshotUrl?k:i.customScreenshotUrl,c=Shared.formatString(r.oneNoteUrlFormat,encodeURIComponent(h),encodeURIComponent(y),encodeURIComponent(i.shareTitle),encodeURIComponent(i.shareDescription)),v=r.defaultInitialHeight;else if(f===t[t.Skype])c=Shared.formatString(r.skypeUrlFormat,encodeURIComponent(a),encodeURIComponent(i.shareDescription)),v=r.skypeInitialHeight,g=r.skypeInitialWidth;else if(f===t[t.LinkedIn])c=Shared.formatString(r.linkedInUrlFormat,encodeURIComponent(a),encodeURIComponent(i.shareTitle),encodeURIComponent(i.shareDescription)),v=r.defaultInitialHeight;else if(f===t[t.Email])b=l(i.shareEmailBody,a),c=Shared.formatString(r.mailLauncherUrl,encodeURIComponent(i.shareEmailSubject),encodeURIComponent(b)),d=!1;else if(f===t[t.OutlookCom])b=l(i.shareEmailBody,a),c=Shared.formatString(r.outlookComLauncherUrl,encodeURIComponent(i.shareEmailSubject),encodeURIComponent(b));else if(f===t[t.Gmail])b=l(i.shareEmailBody,a),c=Shared.formatString(r.gmailLauncherUrl,encodeURIComponent(i.shareEmailSubject),encodeURIComponent(b));else if(f===t[t.Sms]){if(r.smsProtocol){var ft=i.shareIMText.replace("%","%25"),et=l(ft,a),ot=Shared.formatString(r.smsProtocol,encodeURIComponent(et));_w.sj_lc(ot);return}}else{if(f===t[t.WhatsApp]){it=l(i.shareIMText,a);rt=Shared.formatString(r.whatsAppSchema,encodeURIComponent(it));nr(rt,r.whatsAppStoreUrl);return}f===t[t.GetUrl]?sj_evt.fire(w,a):f===t[t.Weibo]?(y=!i.customScreenshotUrl?k:i.customScreenshotUrl,p=i.shareTwitterText!=null&&i.shareTwitterText.length>2?i.shareTwitterText:i.shareDescription,c=Shared.formatString(r.weiboShareFormat,encodeURIComponent(p),encodeURIComponent(a),encodeURIComponent(y)),v=r.defaultInitialHeight):f===t[t.Qzone]?(y=!i.customScreenshotUrl?k:i.customScreenshotUrl,p=i.shareTwitterText!=null&&i.shareTwitterText.length>2?i.shareTwitterText:i.shareDescription,c=Shared.formatString(r.qzoneShareFormat,encodeURIComponent(i.shareTitle),encodeURIComponent(p),encodeURIComponent(a),encodeURIComponent(y)),v=r.defaultInitialHeight):f===t[t.Reddit]&&(ut=i.shareTitle,c=Shared.formatString(r.redditShareFormat,encodeURIComponent(a),encodeURIComponent(ut)))}c&&(o(f,u.Ready,"thumnailId:"+n.thid),e(!s,c,d,v,g))}function l(n,t){return n.indexOf(si)!=-1?n.replace(hi,t):Shared.formatString("{0} {1}",n,t)}function nr(n,t){var i,e;if(_w.sj_lc(n),!!t)if(r.checkAppInstall=="visibility"){if(typeof _d.hidden!="undefined"?i="hidden":typeof _d.msHidden!="undefined"?i="msHidden":typeof _d.webkitHidden!="undefined"&&(i="webkitHidden"),i)var u=!1,o=10,f=0,s=setInterval(function(){_d[i]&&(u=!0);f++;(u||f>=o)&&(clearInterval(s),u||_w.sj_lc(t))},100)}else r.checkAppInstall=="timeout"&&(e=sb_gt(),setTimeout(function(){var n=sb_gt();n-e-r.checkAppTimeout<100&&_w.sj_lc(t)},r.checkAppTimeout))}function tr(n,t,i,r){var u=JSON.parse(n);ot(u,t,i,r)}function k(n,t,i,r,u,f,e){var o="&w="+n+"&h="+t+"&s="+encodeURIComponent(i)+"&sharedUrl="+encodeURIComponent(r);return o+("&urlParams="+encodeURIComponent(JSON.stringify(u))+"&shareType="+f+"&html="+encodeURIComponent(e))}function ir(n){var t=_d.location.href;return n.urlOverride&&(t=n.urlOverride),t}function rr(n){for(var i=n.split("_"),r=[],t=0;t<5&&t<i.length;t++)r.push(i[t].substring(0,15));return r.join(",")}function ur(n,t){var f=n,r=n.toLowerCase(),i,u;if(t)for(i in t)t.hasOwnProperty(i)&&r.indexOf("?".concat(i,"="))===-1&&r.indexOf("&".concat(i,"="))===-1&&(u=t[i],f+=r.indexOf("?")===-1?"?".concat(i,"=").concat(u):"&".concat(i,"=").concat(u));return f}function st(n){var f=n===t[t.Facebook],o=n===t[t.FacebookMessenger],s=n===t[t.Twitter],h=n===t[t.Pinterest],c=n===t[t.Skype],l=n===t[t.LinkedIn],a=n===t[t.OneNote],v=n===t[t.OutlookCom],y=n===t[t.Gmail],p=n===t[t.Weibo],w=n===t[t.Qzone],b=n===t[t.Reddit],i=r.useBlankLoadingPage?"about:blank":r.loadingUrl,u=!0;return f?e(!0,i,!0,r.fbInitialHeight):o?e(!0,i,!0,r.fbInitialHeight,r.fbmInitialWidth):c?e(!0,i,!0,r.skypeInitialHeight,r.skypeInitialWidth):a?e(!0,i,!0,r.oneNoteInitialHeight,r.oneNoteInitialWidth):s||h||l||p||w?e(!0,i,!0,r.defaultInitialHeight):v||y||b?e(!0,i,!0,0):u=!1,u&&r.useBlankLoadingPage&&fr(),u}function fr(){var i=_w.location.protocol+"//"+_w.location.hostname+r.loadingUrl,t=f.window.document,n=t.createElement("iframe");n.src=i;n.style.width="100%";n.style.height="300px";n.style.border="0";t.body.appendChild(n)}function er(n){var f=n[1],h=n[2],w=null,y,kt,p,e;if(n.length>3&&(w=n[3]),y=w||h,i=ut(y),i!=null){wi(y);var b=f===t[t.Facebook],d=f===t[t.FacebookMessenger],g=f===t[t.Twitter],nt=f===t[t.Email],tt=f===t[t.Sms],it=f===t[t.WhatsApp],rt=f===t[t.Pinterest],ft=f===t[t.Skype],ht=f===t[t.LinkedIn],ct=f===t[t.OneNote],lt=f===t[t.OutlookCom],at=f===t[t.Gmail],vt=f===t[t.GetUrl],yt=f===t[t.Weibo],pt=f===t[t.Qzone],wt=f===t[t.Reddit],s=ir(i),c=ki(f),l=i.skipScreenshot||!!i.customScreenshotUrl;if(l){var p=st(f),a=or(s),bt=ur(s,c);a&&(bt+="&shth="+a);kt={url:bt,thid:a};ot(kt,f,p,s);o(f,u.Init,"Thumbnailid passed as "+a);return}(h||l)&&((b||d||g||nt||tt||it||rt||ft||ht||ct||lt||at||vt||yt||pt||wt)&&(b||d||g||rt||ft||ht||ct||lt||at||yt||pt||wt?(et(l?null:h,s,c,f,i),p=st(f)):it||vt||nt||tt?et(l?null:h,s,c,f,i):v=k(0,0,"",s,c,f,""),e=sj_gx(),e.open("POST",r.screenshotUrl,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){e.readyState===4&&(e.status===200?tr(e.responseText,f,p,s):o(f,u.Error,"Screenshot service failed"))},sb_st(function(){e.send(v)},0)),o(f,u.Init,"Screenshot service returned successfully"))}}function or(n){var r,i,t;if(n.match(/\/images\/search\?/))return ht(n);if(r=_ge("shdlgcanvas"),!r)return"";for(i=r.getElementsByTagName("img"),t=0;t<i.length;t++)if(i[t].src)return ht(i[t].src);return""}function ht(n){var t=n.match(/(?:\/th\?id=|&thid=)(.*?)(&|$)/);return t&&t.length>0?t[1]:""}function sr(n){if(!!n&&n.length>1){var i=n[1];!i||i.success!=!0||o(t[t.Facebook],u.Complete,"Facebook share completed successfully")}}function y(n,t){var u=_d.querySelectorAll(n),f,r,i,e;if(u)for(f="data-initialized",r=0;r<u.length;r++)if(i=u[r],i&&i.parentNode){if(i=i.parentNode,i.getAttribute(f)==="1")continue;i.setAttribute(f,"1");e=function(n){for(var i=n.currentTarget,r=null;i;)if(i=i.parentNode,i&&(r==null&&Lib.CssClass.contains(i,p)&&(r=i),Lib.CssClass.contains(i,"b_ans")||Lib.CssClass.contains(i,"b_poleContent"))){sj_evt.fire("ga_share",t,i,r);break}};sj_be(i,"click",e)}}function hr(){y(".b_twic",t[t.Twitter]);y(".b_fbic",t[t.Facebook]);y(".b_smsic",t[t.Sms]);y(".b_waic",t[t.WhatsApp]);sj_evt.bind("ga_share",er);sj_evt.bind("FacebookShareResult",sr)}function ct(n){r==null&&(r=n,b={Facebook:r.facebookFormCode,Twitter:r.twitterFormCode,Email:r.mailFormCode,Weibo:r.weiboFormCode,Qzone:r.qzoneFormCode},s[u.Visible]="Social share is visible.",s[u.Init]="Social share is initiated.",s[u.Ready]="Social share is ready.",s[u.Complete]="Social share is completed.",s[u.Error]="Social share error occurred.",hr())}function cr(n){var t=n[1];t&&ct(t)}var u,t;(function(n){n[n.Visible=0]="Visible";n[n.Init=1]="Init";n[n.Ready=2]="Ready";n[n.Complete=3]="Complete";n[n.Error=4]="Error"})(u=n.ShareStage||(n.ShareStage={})),function(n){n[n.None=0]="None";n[n.Facebook=1]="Facebook";n[n.Twitter=2]="Twitter";n[n.LinkedIn=4]="LinkedIn";n[n.Email=8]="Email";n[n.Sms=16]="Sms";n[n.WhatsApp=32]="WhatsApp";n[n.Pinterest=64]="Pinterest";n[n.Skype=128]="Skype";n[n.FacebookMessenger=256]="FacebookMessenger";n[n.OneNote=512]="OneNote";n[n.Weibo=1024]="Weibo";n[n.Qzone=2048]="Qzone";n[n.Reddit=4096]="Reddit";n[n.OutlookCom=1073741824]="OutlookCom";n[n.Gmail=536870912]="Gmail";n[n.GetUrl=268435456]="GetUrl";n[n.All=1023]="All"}(t=n.ShareMethods||(n.ShareMethods={}));var d="data-ht",g="data-st",nt="data-sd",tt="data-tt",lt="data-es",at="data-eb",vt="data-im",it="data-uo",yt="data-csu",pt="data-ss",wt="data-sl",bt="data-gd",p="b_sharedata",kt="."+p,dt="data-sp",rt="data-shed",gt="shtk",ni="shdk",ti="shik",ii="form",ri="shhk",ui="shtc",fi="shid",ei="shtp",oi="ensearch",si="{share-url}",hi=new RegExp("{share-url}","g"),w="ShareResultReady",a={},s={},r=null,b,i=null,v="",f=null,ci={shareKey:"",shareTitle:" ",shareDescription:" ",shareEmailSubject:" ",shareEmailBody:" ",shareHashtags:"",hash:"",disabledMethods:t.None,formCodes:b,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE,urlOverride:"",customScreenshotUrl:"",skipScreenshot:!1,screenshotSelector:"",sharingGuid:""};n.logEvent=o;n.initialize=ct;n.updateSharingText=li;n.updateSharingUrl=ai;n.getSharingUrl=vi;n.registerSharingEventHandler=yi;n.hasShared=pi;sj_evt.bind("Sharing.initialize",cr,!0)})(Sharing||(Sharing={}))