(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendor-mutation-summary"],{"1d36":function(e,t){var r,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();if(r="undefined"!==typeof WebKitMutationObserver?WebKitMutationObserver:MutationObserver,void 0===r)throw console.error("DOM Mutation Observers are required."),console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver"),Error("DOM Mutation Observers are required");var a,n=function(){function e(){this.nodes=[],this.values=[]}return e.prototype.isIndex=function(e){return+e===e>>>0},e.prototype.nodeId=function(t){var r=t[e.ID_PROP];return r||(r=t[e.ID_PROP]=e.nextId_++),r},e.prototype.set=function(e,t){var r=this.nodeId(e);this.nodes[r]=e,this.values[r]=t},e.prototype.get=function(e){var t=this.nodeId(e);return this.values[t]},e.prototype.has=function(e){return this.nodeId(e)in this.nodes},e.prototype["delete"]=function(e){var t=this.nodeId(e);delete this.nodes[t],this.values[t]=void 0},e.prototype.keys=function(){var e=[];for(var t in this.nodes)this.isIndex(t)&&e.push(this.nodes[t]);return e},e.ID_PROP="__mutation_summary_node_map_id__",e.nextId_=1,e}();(function(e){e[e["STAYED_OUT"]=0]="STAYED_OUT",e[e["ENTERED"]=1]="ENTERED",e[e["STAYED_IN"]=2]="STAYED_IN",e[e["REPARENTED"]=3]="REPARENTED",e[e["REORDERED"]=4]="REORDERED",e[e["EXITED"]=5]="EXITED"})(a||(a={}));var o=function(){function e(e,t,r,i,a,n,o,s){void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===s&&(s=null),this.node=e,this.childList=t,this.attributes=r,this.characterData=i,this.oldParentNode=a,this.added=n,this.attributeOldValues=o,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return e.prototype.getAttributeOldValue=function(e){if(this.attributeOldValues)return this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]},e.prototype.getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;for(var t in this.attributeOldValues)e.push(t);return e},e.prototype.attributeMutated=function(e,t){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues||(this.attributeOldValues[e]=t)},e.prototype.characterDataMutated=function(e){this.characterData||(this.characterData=!0,this.characterDataOldValue=e)},e.prototype.removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=e},e.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},e.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},e}(),s=function(){function e(){this.added=new n,this.removed=new n,this.maybeMoved=new n,this.oldPrevious=new n,this.moved=void 0}return e}(),h=function(e){function t(t,r){var i=e.call(this)||this;i.rootNode=t,i.reachableCache=void 0,i.wasReachableCache=void 0,i.anyParentsChanged=!1,i.anyAttributesChanged=!1,i.anyCharacterDataChanged=!1;for(var a=0;a<r.length;a++){var n=r[a];switch(n.type){case"childList":i.anyParentsChanged=!0;for(var o=0;o<n.removedNodes.length;o++){var s=n.removedNodes[o];i.getChange(s).removedFromParent(n.target)}for(o=0;o<n.addedNodes.length;o++){s=n.addedNodes[o];i.getChange(s).insertedIntoParent()}break;case"attributes":i.anyAttributesChanged=!0;var h=i.getChange(n.target);h.attributeMutated(n.attributeName,n.oldValue);break;case"characterData":i.anyCharacterDataChanged=!0;h=i.getChange(n.target);h.characterDataMutated(n.oldValue);break}}return i}return i(t,e),t.prototype.getChange=function(e){var t=this.get(e);return t||(t=new o(e),this.set(e,t)),t},t.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode},t.prototype.getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new n;var t=this.reachableCache.get(e);return void 0===t&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},t.prototype.getWasReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new n;var t=this.wasReachableCache.get(e);return void 0===t&&(t=this.getWasReachable(this.getOldParent(e)),this.wasReachableCache.set(e,t)),t},t.prototype.reachabilityChange=function(e){return this.getIsReachable(e)?this.getWasReachable(e)?a.STAYED_IN:a.ENTERED:this.getWasReachable(e)?a.EXITED:a.STAYED_OUT},t}(n),u=function(){function e(e,t,r,i,a){this.rootNode=e,this.mutations=t,this.selectors=r,this.calcReordered=i,this.calcOldPreviousSibling=a,this.treeChanges=new h(e,t),this.entered=[],this.exited=[],this.stayedIn=new n,this.visited=new n,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}return e.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var e=this.treeChanges.keys(),t=0;t<e.length;t++)this.visitNode(e[t],void 0)},e.prototype.visitNode=function(e,t){if(!this.visited.has(e)){this.visited.set(e,!0);var r=this.treeChanges.get(e),i=t;if((r&&r.childList||void 0==i)&&(i=this.treeChanges.reachabilityChange(e)),i!==a.STAYED_OUT){if(this.matchabilityChange(e),i===a.ENTERED)this.entered.push(e);else if(i===a.EXITED)this.exited.push(e),this.ensureHasOldPreviousSiblingIfNeeded(e);else if(i===a.STAYED_IN){var n=a.STAYED_IN;r&&r.childList&&(r.oldParentNode!==e.parentNode?(n=a.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(e)):this.calcReordered&&this.wasReordered(e)&&(n=a.REORDERED)),this.stayedIn.set(e,n)}if(i!==a.STAYED_IN)for(var o=e.firstChild;o;o=o.nextSibling)this.visitNode(o,i)}}},e.prototype.ensureHasOldPreviousSiblingIfNeeded=function(e){if(this.calcOldPreviousSibling){this.processChildlistChanges();var t=e.parentNode,r=this.treeChanges.get(e);r&&r.oldParentNode&&(t=r.oldParentNode);var i=this.childListChangeMap.get(t);i||(i=new s,this.childListChangeMap.set(t,i)),i.oldPrevious.has(e)||i.oldPrevious.set(e,e.previousSibling)}},e.prototype.getChanged=function(e,t,r){this.selectors=t,this.characterDataOnly=r;for(var i=0;i<this.entered.length;i++){var n=this.entered[i],o=this.matchabilityChange(n);o!==a.ENTERED&&o!==a.STAYED_IN||e.added.push(n)}var s=this.stayedIn.keys();for(i=0;i<s.length;i++){n=s[i],o=this.matchabilityChange(n);if(o===a.ENTERED)e.added.push(n);else if(o===a.EXITED)e.removed.push(n);else if(o===a.STAYED_IN&&(e.reparented||e.reordered)){var h=this.stayedIn.get(n);e.reparented&&h===a.REPARENTED?e.reparented.push(n):e.reordered&&h===a.REORDERED&&e.reordered.push(n)}}for(i=0;i<this.exited.length;i++){n=this.exited[i],o=this.matchabilityChange(n);o!==a.EXITED&&o!==a.STAYED_IN||e.removed.push(n)}},e.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;var r=this.treeChanges.reachabilityChange(e);if(r===a.STAYED_OUT||r===a.ENTERED)throw Error("getOldParentNode requested on invalid node.");return e.parentNode},e.prototype.getOldPreviousSibling=function(e){var t=e.parentNode,r=this.treeChanges.get(e);r&&r.oldParentNode&&(t=r.oldParentNode);var i=this.childListChangeMap.get(t);if(!i)throw Error("getOldPreviousSibling requested on invalid node.");return i.oldPrevious.get(e)},e.prototype.getOldAttribute=function(e,t){var r=this.treeChanges.get(e);if(!r||!r.attributes)throw Error("getOldAttribute requested on invalid node.");var i=r.getAttributeOldValue(t);if(void 0===i)throw Error("getOldAttribute requested for unchanged attribute name.");return i},e.prototype.attributeChangedNodes=function(e){if(!this.treeChanges.anyAttributesChanged)return{};var t,r;if(e){t={},r={};for(var i=0;i<e.length;i++){var n=e[i];t[n]=!0,r[n.toLowerCase()]=n}}var o={},s=this.treeChanges.keys();for(i=0;i<s.length;i++){var h=s[i],u=this.treeChanges.get(h);if(u.attributes&&(a.STAYED_IN===this.treeChanges.reachabilityChange(h)&&a.STAYED_IN===this.matchabilityChange(h)))for(var d=h,c=u.getAttributeNamesMutated(),l=0;l<c.length;l++){n=c[l];if(!t||t[n]||u.isCaseInsensitive&&r[n]){var f=u.getAttributeOldValue(n);f!==d.getAttribute(n)&&(r&&u.isCaseInsensitive&&(n=r[n]),o[n]=o[n]||[],o[n].push(d))}}}return o},e.prototype.getOldCharacterData=function(e){var t=this.treeChanges.get(e);if(!t||!t.characterData)throw Error("getOldCharacterData requested on invalid node.");return t.characterDataOldValue},e.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e=this.treeChanges.keys(),t=[],r=0;r<e.length;r++){var i=e[r];if(a.STAYED_IN===this.treeChanges.reachabilityChange(i)){var n=this.treeChanges.get(i);n.characterData&&i.textContent!=n.characterDataOldValue&&t.push(i)}}return t},e.prototype.computeMatchabilityChange=function(e,t){this.matchCache||(this.matchCache=[]),this.matchCache[e.uid]||(this.matchCache[e.uid]=new n);var r=this.matchCache[e.uid],i=r.get(t);return void 0===i&&(i=e.matchabilityChange(t,this.treeChanges.get(t)),r.set(t,i)),i},e.prototype.matchabilityChange=function(e){var t=this;if(this.characterDataOnly)switch(e.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return a.STAYED_IN;default:return a.STAYED_OUT}if(!this.selectors)return a.STAYED_IN;if(e.nodeType!==Node.ELEMENT_NODE)return a.STAYED_OUT;var r=e,i=this.selectors.map((function(e){return t.computeMatchabilityChange(e,r)})),n=a.STAYED_OUT,o=0;while(n!==a.STAYED_IN&&o<i.length){switch(i[o]){case a.STAYED_IN:n=a.STAYED_IN;break;case a.ENTERED:n=n===a.EXITED?a.STAYED_IN:a.ENTERED;break;case a.EXITED:n=n===a.ENTERED?a.STAYED_IN:a.EXITED;break}o++}return n},e.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new s,this.childListChangeMap.set(e,t)),t},e.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new n;for(var e=0;e<this.mutations.length;e++){var t=this.mutations[e];if("childList"==t.type&&(this.treeChanges.reachabilityChange(t.target)===a.STAYED_IN||this.calcOldPreviousSibling)){for(var r=this.getChildlistChange(t.target),i=t.previousSibling,o=0;o<t.removedNodes.length;o++){var s=t.removedNodes[o];h(s,i),r.added.has(s)?r.added["delete"](s):(r.removed.set(s,!0),r.maybeMoved["delete"](s)),i=s}h(t.nextSibling,i);for(o=0;o<t.addedNodes.length;o++){s=t.addedNodes[o];r.removed.has(s)?(r.removed["delete"](s),r.maybeMoved.set(s,!0)):r.added.set(s,!0)}}function h(e,t){!e||r.oldPrevious.has(e)||r.added.has(e)||r.maybeMoved.has(e)||t&&(r.added.has(t)||r.maybeMoved.has(t))||r.oldPrevious.set(e,t)}}}},e.prototype.wasReordered=function(e){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var t=e.parentNode,r=this.treeChanges.get(e);r&&r.oldParentNode&&(t=r.oldParentNode);var i=this.childListChangeMap.get(t);if(!i)return!1;if(i.moved)return i.moved.get(e);i.moved=new n;var a=new n;function o(e){if(!e)return!1;if(!i.maybeMoved.has(e))return!1;var t=i.moved.get(e);return void 0!==t||(a.has(e)?t=!0:(a.set(e,!0),t=d(e)!==h(e)),a.has(e)?(a["delete"](e),i.moved.set(e,t)):t=i.moved.get(e)),t}var s=new n;function h(e){var t=s.get(e);if(void 0!==t)return t;t=i.oldPrevious.get(e);while(t&&(i.removed.has(t)||o(t)))t=h(t);return void 0===t&&(t=e.previousSibling),s.set(e,t),t}var u=new n;function d(e){if(u.has(e))return u.get(e);var t=e.previousSibling;while(t&&(i.added.has(t)||o(t)))t=t.previousSibling;return u.set(e,t),t}return i.maybeMoved.keys().forEach(o),i.moved.get(e)},e}(),d=function(){function e(e,t){var r=this;if(this.projection=e,this.added=[],this.removed=[],this.reparented=t.all||t.element||t.characterData?[]:void 0,this.reordered=t.all?[]:void 0,e.getChanged(this,t.elementFilter,t.characterData),t.all||t.attribute||t.attributeList){var i=t.attribute?[t.attribute]:t.attributeList,a=e.attributeChangedNodes(i);t.attribute?this.valueChanged=a[t.attribute]||[]:(this.attributeChanged=a,t.attributeList&&t.attributeList.forEach((function(e){r.attributeChanged.hasOwnProperty(e)||(r.attributeChanged[e]=[])})))}if(t.all||t.characterData){var n=e.getCharacterDataChanged();t.characterData?this.valueChanged=n:this.characterDataChanged=n}this.reordered&&(this.getOldPreviousSibling=e.getOldPreviousSibling.bind(e))}return e.prototype.getOldParentNode=function(e){return this.projection.getOldParentNode(e)},e.prototype.getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)},e.prototype.getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)},e.prototype.getOldPreviousSibling=function(e){return this.projection.getOldPreviousSibling(e)},e}(),c=/[a-zA-Z_]+/,l=/[a-zA-Z0-9_\-]+/;function f(e){return'"'+e.replace(/"/,'\\"')+'"'}var p=function(){function e(){}return e.prototype.matches=function(e){if(null===e)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==e;for(var t=e.split(" "),r=0;r<t.length;r++)if(this.attrValue===t[r])return!0;return!1},e.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+f(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+f(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},e}(),g=function(){function e(){this.uid=e.nextUid++,this.qualifiers=[]}return Object.defineProperty(e.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),e.prototype.isMatching=function(t){return t[e.matchesSelector](this.selectorString)},e.prototype.wasMatching=function(e,t,r){if(!t||!t.attributes)return r;var i=t.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==i&&i!==e.tagName)return!1;for(var a=[],n=!1,o=0;o<this.qualifiers.length;o++){var s=this.qualifiers[o],h=t.getAttributeOldValue(s.attrName);a.push(h),n=n||void 0!==h}if(!n)return r;for(o=0;o<this.qualifiers.length;o++){s=this.qualifiers[o],h=a[o];if(void 0===h&&(h=e.getAttribute(s.attrName)),!s.matches(h))return!1}return!0},e.prototype.matchabilityChange=function(e,t){var r=this.isMatching(e);return r?this.wasMatching(e,t,r)?a.STAYED_IN:a.ENTERED:this.wasMatching(e,t,r)?a.EXITED:a.STAYED_OUT},e.parseSelectors=function(t){var r,i,a=[];function n(){r&&(i&&(r.qualifiers.push(i),i=void 0),a.push(r)),r=new e}function o(){i&&r.qualifiers.push(i),i=new p}var s,h=/\s/,u="Invalid or unsupported selector syntax.",d=1,f=2,g=3,v=4,b=5,m=6,N=7,E=8,y=9,C=10,O=11,D=12,w=13,k=14,T=d,S=0;while(S<t.length){var I=t[S++];switch(T){case d:if(I.match(c)){n(),r.tagName=I,T=f;break}if("*"==I){n(),r.tagName="*",T=g;break}if("."==I){n(),o(),r.tagName="*",i.attrName="class",i.contains=!0,T=v;break}if("#"==I){n(),o(),r.tagName="*",i.attrName="id",T=v;break}if("["==I){n(),o(),r.tagName="*",i.attrName="",T=m;break}if(I.match(h))break;throw Error(u);case f:if(I.match(l)){r.tagName+=I;break}if("."==I){o(),i.attrName="class",i.contains=!0,T=v;break}if("#"==I){o(),i.attrName="id",T=v;break}if("["==I){o(),i.attrName="",T=m;break}if(I.match(h)){T=k;break}if(","==I){T=d;break}throw Error(u);case g:if("."==I){o(),i.attrName="class",i.contains=!0,T=v;break}if("#"==I){o(),i.attrName="id",T=v;break}if("["==I){o(),i.attrName="",T=m;break}if(I.match(h)){T=k;break}if(","==I){T=d;break}throw Error(u);case v:if(I.match(c)){i.attrValue=I,T=b;break}throw Error(u);case b:if(I.match(l)){i.attrValue+=I;break}if("."==I){o(),i.attrName="class",i.contains=!0,T=v;break}if("#"==I){o(),i.attrName="id",T=v;break}if("["==I){o(),T=m;break}if(I.match(h)){T=k;break}if(","==I){T=d;break}throw Error(u);case m:if(I.match(c)){i.attrName=I,T=N;break}if(I.match(h))break;throw Error(u);case N:if(I.match(l)){i.attrName+=I;break}if(I.match(h)){T=E;break}if("~"==I){i.contains=!0,T=y;break}if("="==I){i.attrValue="",T=O;break}if("]"==I){T=g;break}throw Error(u);case E:if("~"==I){i.contains=!0,T=y;break}if("="==I){i.attrValue="",T=O;break}if("]"==I){T=g;break}if(I.match(h))break;throw Error(u);case y:if("="==I){i.attrValue="",T=O;break}throw Error(u);case C:if("]"==I){T=g;break}if(I.match(h))break;throw Error(u);case O:if(I.match(h))break;if('"'==I||"'"==I){s=I,T=w;break}i.attrValue+=I,T=D;break;case D:if(I.match(h)){T=C;break}if("]"==I){T=g;break}if("'"==I||'"'==I)throw Error(u);i.attrValue+=I;break;case w:if(I==s){T=C;break}i.attrValue+=I;break;case k:if(I.match(h))break;if(","==I){T=d;break}throw Error(u)}}switch(T){case d:case f:case g:case b:case k:n();break;default:throw Error(u)}if(!a.length)throw Error(u);return a},e.nextUid=1,e.matchesSelector=function(){var e=document.createElement("div");return"function"===typeof e["webkitMatchesSelector"]?"webkitMatchesSelector":"function"===typeof e["mozMatchesSelector"]?"mozMatchesSelector":"function"===typeof e["msMatchesSelector"]?"msMatchesSelector":"matchesSelector"}(),e}(),v=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function b(e){if("string"!=typeof e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(e=e.trim(),!e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(v))throw Error("Invalid request option. invalid attribute name: "+e);return e}function m(e){if(!e.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var t={},r={},i=e.split(/\s+/),a=0;a<i.length;a++){var n=i[a];if(n){n=b(n);var o=n.toLowerCase();if(t[o])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");r[n]=!0,t[o]=!0}}return Object.keys(r)}function N(e){var t={};return e.forEach((function(e){e.qualifiers.forEach((function(e){t[e.attrName]=!0}))})),Object.keys(t)}var E=function(){function e(t){var i=this;this.connected=!1,this.options=e.validateOptions(t),this.observerOptions=e.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map((function(e){return e.elementFilter?e.elementFilter:[]}))),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some((function(e){return e.all})),this.queryValidators=[],e.createQueryValidator&&(this.queryValidators=this.options.queries.map((function(t){return e.createQueryValidator(i.root,t)}))),this.observer=new r((function(e){i.observerCallback(e)})),this.reconnect()}return e.createObserverOptions=function(e){var t,r={childList:!0,subtree:!0};function i(e){r.attributes&&!t||(r.attributes=!0,r.attributeOldValue=!0,e?(t=t||{},e.forEach((function(e){t[e]=!0,t[e.toLowerCase()]=!0}))):t=void 0)}return e.forEach((function(e){if(e.characterData)return r.characterData=!0,void(r.characterDataOldValue=!0);if(e.all)return i(),r.characterData=!0,void(r.characterDataOldValue=!0);if(e.attribute)i([e.attribute.trim()]);else{var t=N(e.elementFilter).concat(e.attributeList||[]);t.length&&i(t)}})),t&&(r.attributeFilter=Object.keys(t)),r},e.validateOptions=function(t){for(var r in t)if(!(r in e.optionKeys))throw Error("Invalid option: "+r);if("function"!==typeof t.callback)throw Error("Invalid options: callback is required and must be a function");if(!t.queries||!t.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var i={callback:t.callback,rootNode:t.rootNode||document,observeOwnChanges:!!t.observeOwnChanges,oldPreviousSibling:!!t.oldPreviousSibling,queries:[]},a=0;a<t.queries.length;a++){var n=t.queries[a];if(n.all){if(Object.keys(n).length>1)throw Error("Invalid request option. all has no options.");i.queries.push({all:!0})}else if("attribute"in n){var o={attribute:b(n.attribute)};if(o.elementFilter=g.parseSelectors("*["+o.attribute+"]"),Object.keys(n).length>1)throw Error("Invalid request option. attribute has no options.");i.queries.push(o)}else if("element"in n){var s=Object.keys(n).length;o={element:n.element,elementFilter:g.parseSelectors(n.element)};if(n.hasOwnProperty("elementAttributes")&&(o.attributeList=m(n.elementAttributes),s--),s>1)throw Error("Invalid request option. element only allows elementAttributes option.");i.queries.push(o)}else{if(!n.characterData)throw Error("Invalid request option. Unknown query request.");if(Object.keys(n).length>1)throw Error("Invalid request option. characterData has no options.");i.queries.push({characterData:!0})}}return i},e.prototype.createSummaries=function(e){if(!e||!e.length)return[];for(var t=new u(this.root,e,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),r=[],i=0;i<this.options.queries.length;i++)r.push(new d(t,this.options.queries[i]));return r},e.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach((function(e){e&&e.recordPreviousState()}))},e.prototype.runQueryValidators=function(e){this.queryValidators.forEach((function(t,r){t&&t.validate(e[r])}))},e.prototype.changesToReport=function(e){return e.some((function(e){var t=["added","removed","reordered","reparented","valueChanged","characterDataChanged"];if(t.some((function(t){return e[t]&&e[t].length})))return!0;if(e.attributeChanged){var r=Object.keys(e.attributeChanged),i=r.some((function(t){return!!e.attributeChanged[t].length}));if(i)return!0}return!1}))},e.prototype.observerCallback=function(e){this.options.observeOwnChanges||this.observer.disconnect();var t=this.createSummaries(e);this.runQueryValidators(t),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(t)&&this.callback(t),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},e.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},e.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummaries(this.observer.takeRecords());return this.changesToReport(e)?e:void 0},e.prototype.disconnect=function(){var e=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,e},e.NodeMap=n,e.parseElementFilter=g.parseSelectors,e.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},e}();window.MutationSummary=E},e107:function(e,t,r){var i=r("1d36"),a=r("ef72");t.MutationSummary=i,t.TreeMirror=a},ef72:function(e,t){var r=function(){function e(e,t){this.root=e,this.delegate=t,this.idMap={}}return e.prototype.initialize=function(e,t){this.idMap[e]=this.root;for(var r=0;r<t.length;r++)this.deserializeNode(t[r],this.root)},e.prototype.applyChanged=function(e,t,r,i){var a=this;t.forEach((function(e){var t=a.deserializeNode(e);if(t){a.deserializeNode(e.parentNode),a.deserializeNode(e.previousSibling);t.parentNode&&t.parentNode.removeChild(t)}})),e.forEach((function(e){var t=a.deserializeNode(e);t&&t.parentNode&&t.parentNode.removeChild(t)})),t.forEach((function(e){var t=a.deserializeNode(e);if(t){var r=a.deserializeNode(e.parentNode),i=a.deserializeNode(e.previousSibling);r&&r.insertBefore(t,i?i.nextSibling:r.firstChild)}})),r.forEach((function(e){var t=a.deserializeNode(e);t&&Object.keys(e.attributes).forEach((function(r){var i=LZString.decompressFromUTF16(e.attributes[r]);try{null===i?t.removeAttribute(r):a.delegate&&a.delegate.setAttribute&&a.delegate.setAttribute(t,r,i)||t.setAttribute(r,i)}catch(n){}}))})),i.forEach((function(e){var t=a.deserializeNode(e);t&&(t.textContent=e.textContent)})),e.forEach((function(e){delete a.idMap[e.id]}))},e.prototype.decompressNode=function(e){return e.c?(e.tC&&(e.tC=LZString.decompressFromUTF16(e.tC)),e.a&&Object.keys(e.a).forEach((function(t){e.a[t]=LZString.decompressFromUTF16(e.a[t])})),e):e},e.prototype.deserializeNode=function(e,t){var r=this;if(null===e)return null;var i=this.idMap[e.i];if(i)return i;e=this.decompressNode(e);var a=this.root.ownerDocument;switch(null===a&&(a=this.root),e.nT){case Node.COMMENT_NODE:i=a.createComment(e.tC);break;case Node.TEXT_NODE:i=a.createTextNode(e.tC);break;case Node.DOCUMENT_TYPE_NODE:i=a.implementation.createDocumentType(e.n,e.p,e.s);break;case Node.ELEMENT_NODE:this.delegate&&this.delegate.createElement&&(i=this.delegate.createElement(e.tN)),i||(i=a.createElement(e.tN)),Object.keys(e.a).forEach((function(t){try{r.delegate&&r.delegate.setAttribute&&r.delegate.setAttribute(i,t,e.a[t])||i.setAttribute(t,e.a[t])}catch(a){}}));break}if(!i)return null;if(this.idMap[e.i]=i,t&&t.appendChild(i),e.cN)for(var n=0;n<e.cN.length;n++)this.deserializeNode(e.cN[n],i);return i},e}();(function(){function e(e,t,r){var i=this;this.target=e,this.mirror=t,this.nextId=1,this.knownNodes=new MutationSummary.NodeMap;for(var a=this.serializeNode(e).id,n=[],o=e.firstChild;o;o=o.nextSibling){var s=this.serializeNode(o,!0);null!=s&&n.push(s)}this.mirror.initialize(a,n);var h=[{all:!0}];r&&(h=h.concat(r)),this.mutationSummary=new MutationSummary({rootNode:e,callback:function(e){i.applyChanged(e)},queries:h})}e.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=void 0)},e.prototype.rememberNode=function(e){var t=this.nextId++;return this.knownNodes.set(e,t),t},e.prototype.forgetNode=function(e){this.knownNodes["delete"](e)},e.prototype.serializeNode=function(e,t){if(null===e)return null;var r=this.knownNodes.get(e);if(void 0!==r)return{i:r};var i={nT:e.nodeType,i:this.rememberNode(e)};switch(i.nT){case Node.DOCUMENT_TYPE_NODE:var a=e;i.n=a.name,i.p=a.publicId,i.s=a.systemId;break;case Node.COMMENT_NODE:return null;case Node.TEXT_NODE:i.tC=e.textContent;break;case Node.ELEMENT_NODE:var n=e;i.tN=n.tagName,i.a={};for(var o=0;o<n.attributes.length;o++){var s=n.attributes[o];i.a[s.name]=s.value}if("SCRIPT"==n.tagName||"NOSCRIPT"==n.tagName||"CANVAS"==n.tagName)return null;if(t&&n.childNodes.length){i.cN=[];for(var h=n.firstChild;h;h=h.nextSibling){var u=this.serializeNode(h,!0);null!=u&&i.cN.push(u)}}break}return this.compressNode(i)},e.prototype.serializeAddedAndMoved=function(e,t,r){var i=this,a=e.concat(t).concat(r),n=new MutationSummary.NodeMap;a.forEach((function(e){var t=e.parentNode,r=n.get(t);r||(r=new MutationSummary.NodeMap,n.set(t,r)),r.set(e,!0)}));var o=[];return n.keys().forEach((function(e){var t=n.get(e),r=t.keys();while(r.length){var a=r[0];while(a.previousSibling&&t.has(a.previousSibling))a=a.previousSibling;while(a&&t.has(a)){var s=i.serializeNode(a);null!=s&&(s.previousSibling=i.serializeNode(a.previousSibling),s.parentNode=i.serializeNode(a.parentNode),o.push(s),t["delete"](a)),a=a.nextSibling}r=t.keys()}})),o},e.prototype.serializeAttributeChanges=function(e){var t=this,r=new MutationSummary.NodeMap;return Object.keys(e).forEach((function(i){e[i].forEach((function(e){var a=r.get(e);a||(a=t.serializeNode(e),null!=a&&(a.attributes={},r.set(e,a))),null!=a&&(a.attributes[i]=LZString.compressToUTF16(e.getAttribute(i)))}))})),r.keys().map((function(e){return r.get(e)}))},e.prototype.compressNode=function(e){return(e.tC||e.a)&&(e.c=1),e.tC&&(e.tC=LZString.compressToUTF16(e.tC)),e.a&&Object.keys(e.a).forEach((function(t){e.a[t]=LZString.compressToUTF16(e.a[t])})),e},e.prototype.applyChanged=function(e){var t=this,r=e[0],i=r.removed.map((function(e){return t.serializeNode(e)})),a=this.serializeAddedAndMoved(r.added,r.reparented,r.reordered),n=this.serializeAttributeChanges(r.attributeChanged),o=r.characterDataChanged.map((function(e){var r=t.serializeNode(e);return null!=r&&(r.tC=e.textContent),r}));this.mirror.applyChanged(i,a,n,o),r.removed.forEach((function(e){t.forgetNode(e)}))}})();window.TreeMirror=r}}]);