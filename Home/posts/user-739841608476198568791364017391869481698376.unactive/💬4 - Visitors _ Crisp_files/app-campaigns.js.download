(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-campaigns"],{"0056":function(e,t,a){"use strict";a.r(t);var i=a("8a9c"),n=a("1b9b6");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("7103");n["default"].render=i["render"],t["default"]=n["default"]},"0539":function(e,t,a){var i=a("d898");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("33bd9694",i,!0,{sourceMap:!1,shadowMode:!1})},"06b7":function(e,t,a){"use strict";a("9699")},"0712":function(e,t,a){"use strict";var i=a("eb1e");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"07e2":function(e,t,a){"use strict";a.r(t);var i=a("d5e5"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"086b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("f7fe")),n=s(a("8823")),c=s(a("8508")),o=s(a("e697"));function s(e){return e&&e.__esModule?e:{default:e}}const l=100;var r={components:{CampaignCondition:n.default,SegmentationBox:c.default},mixins:[o.default],emits:["receiverCloseRequest"],data(){return{currentBreadcrumbItem:"app.website.campaigns.flow",loading:!1}},computed:{assertDelay:{get(){return this.campaign&&this.campaign.flow&&"number"===typeof this.campaign.flow.assert_delay?this.campaign.flow.assert_delay:0},set:(0,i.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"assert_delay",value:e})}),l)},assertFilter:{get(){return this.campaign&&this.campaign.flow&&this.campaign.flow.assert_filter?this.campaign.flow.assert_filter:[]},set:function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"assert_filter",value:e})}},deliverDelay:{get(){return this.campaign&&this.campaign.flow&&"number"===typeof this.campaign.flow.deliver_delay?this.campaign.flow.deliver_delay:0},set:(0,i.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"deliver_delay",value:e})}),l)},deliverOnce:{get(){return!this.campaign||!this.campaign.flow||"boolean"!==typeof this.campaign.flow.deliver_once||this.campaign.flow.deliver_once},set:(0,i.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"deliver_once",value:e})}),l)},launchEvent:{get(){return this.campaign&&this.campaign.flow&&this.campaign.flow.launch_event?this.campaign.flow.launch_event:""},set:(0,i.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,parentKey:"flow",key:"launch_event",value:e})}),l)},suggestions(){return this.$store.getters["events/getTexts"](this.websiteId)}},mounted(){this.$emit("receiverCloseRequest",null),this.acquireEventsTexts()},methods:{acquireEventsTexts(){this.$store.dispatch("events/acquireTexts",{websiteId:this.websiteId})},onBack(){this.$router.push({name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filterType:"types",filterValue:"all"}}).catch(()=>{})},onSaveFlow(){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/updateCampaign",{websiteId:this.websiteId,campaignId:this.campaignId,campaignPartial:{flow:this.campaign.flow}}).then(()=>this.campaign&&"automated"===this.campaign.type&&!0===this.campaign.dispatched&&!0===this.campaign.running?this.$store.dispatch("campaigns/actionCampaign",{websiteId:this.websiteId,campaignId:this.campaignId,action:"dispatch",updateKey:"dispatched",updateValue:!0}):Promise.resolve()).then(()=>(this.$router.push({name:"app.website.campaigns.templates",params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{}),Promise.resolve())).catch(()=>{this.loading=!1}))}}};t.default=r},"088e":function(e,t,a){"use strict";var i=a("ddfe");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"0914":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaigns-recipients{width:100%}.c-campaigns-recipients,.c-campaigns-recipients .c-campaigns-recipients__box{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-recipients .c-campaigns-recipients__box{margin-bottom:0;padding:0}.c-campaigns-recipients .c-campaigns-recipients__box--disabled .c-campaigns-recipients__segmentation-main>*{pointer-events:none}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__footer,.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner{padding-right:40px;padding-left:40px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:24px;padding-bottom:22px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__loading{padding-top:10px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__cards{display:-webkit-box;display:-ms-flexbox;display:flex}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__cards .c-campaigns-recipients__card{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:18px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__cards .c-campaigns-recipients__card:last-of-type{margin-right:0}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:15px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters{overflow-y:auto;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:30px;width:220px;border:1px solid #e3e8ef;background-color:#fafbfc;padding-bottom:10px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filters-loading{padding-top:26px}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter{padding:12px;border-bottom:1px solid #e3e8ef;border-left:3px solid #fafbfc;font-size:14px;cursor:pointer}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter:hover:not(.c-campaigns-recipients__filter--active){background-color:#f7f8fa;border-left-color:#f7f8fa}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter:active:not(.c-campaigns-recipients__filter--active){background-color:#f4f6f8;border-left-color:#f4f6f8}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter--active{border-left-color:#0093ee;background-color:#fff;font-weight:700}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__filters .c-campaigns-recipients__filter--disabled{pointer-events:none}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__box{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__segmentation .c-campaigns-recipients__box .c-segmentation-box__container{overflow-x:hidden;overflow-y:auto}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type .c-campaigns-recipients__items-selector{overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type--locked{pointer-events:none}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__type--disabled{cursor:not-allowed}.c-campaigns-recipients .c-campaigns-recipients__box .c-campaigns-recipients__inner .c-campaigns-recipients__targets{color:#75869c;font-weight:700;font-size:14px}.c-campaigns-recipients--segment .c-campaigns-recipients__box .c-campaigns-recipients__type .c-campaigns-recipients__items-selector .c-items-selector__items{min-height:302px}",""]),e.exports=t},"0966":function(e,t,a){var i=a("535f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("39443356",i,!0,{sourceMap:!1,shadowMode:!1})},"09d4":function(e,t,a){"use strict";var i=a("ac34");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"0b89":function(e,t,a){"use strict";var i=a("9173");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"0df5":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-preview-recipients .c-preview-recipients__initializer{padding:10px 0 0}.c-preview-recipients .c-preview-recipients__empty,.c-preview-recipients .c-preview-recipients__error{font-size:13.5px;line-height:17px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:12px 14px;border-radius:2px}.c-preview-recipients .c-preview-recipients__error{color:#e0102b;border:1px solid rgba(224,16,43,.4)}.c-preview-recipients .c-preview-recipients__empty{color:#75869c;border:1px solid rgba(117,134,156,.4)}.c-preview-recipients .c-preview-recipients__recipients{border:1px solid #e3e8ef;max-height:280px;overflow-x:hidden;overflow-y:auto;border-radius:2px}.c-preview-recipients .c-preview-recipients__recipient{border-bottom:1px solid #e3e8ef;min-height:50px;padding:6px 16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-preview-recipients .c-preview-recipients__recipient:last-of-type{border-bottom:0 none}.c-preview-recipients .c-preview-recipients__recipient .c-preview-recipients__recipient-avatar{margin-right:15px}.c-preview-recipients .c-preview-recipients__recipient .c-preview-recipients__recipient-name{line-height:18px;text-align:left;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-preview-recipients .c-preview-recipients__recipient .c-preview-recipients__recipient-name .c-preview-recipients__recipient-nickname{font-weight:700;font-size:14px;margin-bottom:1px}.c-preview-recipients .c-preview-recipients__recipient .c-preview-recipients__recipient-name .c-preview-recipients__recipient-email{color:#75869c;font-size:13px}.c-preview-recipients .c-preview-recipients__recipient .c-preview-recipients__recipient-subscription{margin-left:8px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-preview-recipients .c-preview-recipients__recipient .c-preview-recipients__recipient-subscription--subscribed .c-preview-recipients__recipient-subscription-icon{fill:#40b630}.c-preview-recipients .c-preview-recipients__recipient .c-preview-recipients__recipient-subscription--unsubscribed .c-preview-recipients__recipient-subscription-icon{fill:#e0e5e8}.c-preview-recipients .c-preview-recipients__load-more{color:#0093ee;border-top:1px solid #e3e8ef;font-size:13px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:8px 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-transition:background-color 75ms linear;transition:background-color 75ms linear}.c-preview-recipients .c-preview-recipients__load-more .c-preview-recipients__load-more-spinner{margin-right:10px}.c-preview-recipients .c-preview-recipients__load-more .c-preview-recipients__load-more-icon{fill:#0093ee}.c-preview-recipients .c-preview-recipients__load-more:hover{background-color:#fafbfc}.c-preview-recipients .c-preview-recipients__load-more:active{background-color:#f4f6f8}",""]),e.exports=t},"0f69":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("field-input"),l=(0,i.resolveComponent)("base-button"),r=(0,i.resolveComponent)("base-popup"),p=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(p,{as:""},{default:(0,i.withCtx)(({meta:a})=>[(0,i.createVNode)(r,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>o.onEditName(!a.valid),parent:"inbox"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(l,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(l,{onClick:e=>o.onEditName(!a.valid),loading:c.loading,disabled:!a.valid,"left-icon":"edit"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("POPUPS.EDIT_CAMPAIGN_NAME.ACTION")),1)]),_:2},1032,["onClick","loading","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(s,{modelValue:c.name,"onUpdate:modelValue":t[0]||(t[0]=e=>c.name=e),label:e.$t("POPUPS.EDIT_CAMPAIGN_NAME.LABEL"),placeholder:e.$t("POPUPS.EDIT_CAMPAIGN_NAME.PLACEHOLDER"),name:"name",rules:"required|max:100",size:"medium",autofocus:""},null,8,["modelValue","label","placeholder"])]),_:2},1032,["onEnter"])]),_:1})}},11807:function(e,t,a){"use strict";a("b3a3")},"14db":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-configure-email-domain .c-configure-email-domain__notice{padding:10px 18px;border:1px solid #40b630;font-size:14.5px;border-radius:2px;background-color:#fafbfc;color:#40b630;font-weight:700}.c-configure-email-domain .c-configure-email-domain__notice a{text-decoration:underline}",""]),e.exports=t},"186a":function(e,t,a){"use strict";a.r(t);var i=a("ea9e"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"18fd":function(e,t,a){var i=a("8f12");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("f4f7e06a",i,!0,{sourceMap:!1,shadowMode:!1})},"1ab9":function(e,t,a){"use strict";a.r(t);var i=a("2592"),n=a("4212");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("81f7");n["default"].render=i["render"],t["default"]=n["default"]},"1b45":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.c-campaigns-flow{overflow:hidden;width:100%}.c-campaigns-flow,.c-campaigns-flow .c-campaigns-flow__box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-flow .c-campaigns-flow__box{overflow-y:hidden;margin-bottom:0}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__footer,.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner{padding-right:40px;padding-left:40px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner{overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1;padding-top:40px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner:after{display:block;height:40px;content:""}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition{margin-bottom:24px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition:last-of-type{margin-bottom:0}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__field{margin-bottom:20px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__field:last-of-type{margin-bottom:0}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__segmentation{margin-bottom:20px;max-height:450px;width:100%}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__information .c-campaigns-flow__notice{margin-left:4px}.c-campaigns-flow .c-campaigns-flow__box .c-campaigns-flow__inner .c-campaigns-flow__condition .c-campaigns-flow__information .c-campaigns-flow__link{margin-left:8px;text-decoration:underline;font-weight:700}',""]),e.exports=t},"1b9b6":function(e,t,a){"use strict";a.r(t);var i=a("1d5a"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"1d5a":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a("d3bd")),n=l(a("6a84")),c=l(a("85c1")),o=l(a("0315")),s=l(a("fbf6"));function l(e){return e&&e.__esModule?e:{default:e}}const r=5,p=1e3;var m={components:{CampaignTemplate:c.default},props:{campaignId:{type:String,required:!0},type:{type:String,required:!0,validator(e){return-1!==["one-shot","automated"].indexOf(e)}},targets:{type:String,default:null}},emits:["close","domainNotConfigured"],data(){return{websiteId:this.$route.params.websiteId,loading:!1,sending:!1,preparing:!1,tooManyRecipients:!1,domain:"example.com",countdown:{ticks:0,scheduler:null}}},computed:{description(){let e="";return this.campaign.options.deliver_to_chatbox&&this.campaign.options.deliver_to_email?e=this.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_LABEL_CHATBOX")+" / "+this.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_LABEL_EMAIL"):this.campaign.options.deliver_to_chatbox?e=this.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_LABEL_CHATBOX"):this.campaign.options.deliver_to_email&&(e=this.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_LABEL_EMAIL")),this.$filters.format.parseText(this.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_LABEL",{recipients:this.targetsCount,destination:e}))},campaign(){return this.campaigns.find(e=>this.campaignId===e.campaign_id||this.$route.params.campaignId===e.campaign_id)},campaigns(){return this.$store.getters["campaigns/getCampaigns"]},operators(){return this.$store.commit("operators/assertOperators",{websiteId:this.websiteId}),this.$store.getters["operators/getOperators"](this.websiteId)},replyTo(){return this.campaign.options.sender_email_reply?this.campaign.options.sender_email_reply:""},sender(){let e="messages",t="",a=(this.operators||{})[this.campaign.sender.user_id];return a&&(e=(0,i.default)(a.first_name),t=a.first_name),this.campaign.options&&this.campaign.options.sender_name_website&&this.website&&(t=`${t} from ${this.website.name}`),`${t} <${e}@${this.domain}>`},targetsCount(){return this.targets?this.targets:""+(this.campaign.targets||"0")},website(){return this.$store.getters["websites/getWebsite"](this.websiteId)}},created(){return this.loading=!0,Promise.all([(this.fetchOperators(),this.fetchDomains())]).then(()=>{this.loading=!1})},beforeUnmount(){this.countdown.scheduler&&(clearInterval(this.countdown.scheduler),this.countdown.scheduler=null)},methods:{fetchOperators(){return 0===Object.keys(this.operators).length?this.$store.dispatch("operators/acquireOperators",{websiteId:this.websiteId}):Promise.resolve()},fetchDomains(){return s.default.channelOne(this.websiteId,"email").get().then(e=>(this.domain=(e.email||"").split("@")[1],Promise.resolve()))},onCancel(){this.countdown.scheduler&&(clearInterval(this.countdown.scheduler),this.countdown.scheduler=null),!0===this.preparing?this.preparing=!1:this.$emit("close")},onSubmit(){if(this.preparing=!0,this.countdown.ticks=r,"automated"===this.type)return this.onDispatch();this.countdown.scheduler=setInterval(()=>{this.countdown.ticks--,0===this.countdown.ticks&&(this.countdown.scheduler&&(clearInterval(this.countdown.scheduler),this.countdown.scheduler=null),this.onDispatch())},p)},onDispatch(){let e=!0;if(!0!==this.sending)return this.preparing=!1,this.sending=!0,Promise.resolve().then(()=>this.$store.dispatch("campaigns/actionCampaign",{websiteId:this.websiteId,campaignId:this.campaignId,action:"dispatch",updateKey:"dispatched",updateValue:!0})).then(()=>(n.default.success("campaigns_dispatched"),o.default.logEvent("Campaign initialized",{type:this.campaign.type}),Promise.resolve())).catch(t=>(this.sending=!1,e=!1,"campaign_recipients_limited"===t.reason&&(this.tooManyRecipients=!0,e=!1),"custom_domain_not_configured"===t.reason&&this.$emit("domainNotConfigured"),Promise.resolve())).then(()=>(this.sending=!1,!0===e&&this.$router.push({name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filterType:"types",filterValue:"all"}}).catch(()=>{}),!0!==this.tooManyRecipients&&this.$emit("close"),Promise.resolve()))}}};t.default=m},"1db0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=_;var i=a("7a23");const n={class:"c-items-selector"},c={key:1,class:"c-items-selector__initializing"},o={key:0,class:"c-items-selector__items",ref:"container"},s={class:"o-table__tbody"},l=["onClick"],r={class:"c-items-selector__name"},p={key:0,class:"c-items-selector__nickname"},m={key:1,class:"c-items-selector__email"},d={key:1,class:"c-items-selector__items",ref:"container"},g=["onClick"];function _(e,t,a,_,u,f){const h=(0,i.resolveComponent)("field-input"),b=(0,i.resolveComponent)("base-spinner"),x=(0,i.resolveComponent)("field-checkbox"),y=(0,i.resolveComponent)("base-avatar"),C=(0,i.resolveComponent)("base-tag");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[a.search?((0,i.openBlock)(),(0,i.createBlock)(h,{key:0,class:"c-items-selector__search",onKeyup:f.onSearchKeyup,loading:a.searchLoading,disabled:a.disabled||a.initializing,placeholder:e.$t("CAMPAIGNS.EDIT.SEARCH_PLACEHOLDER_PEOPLE"),"left-icon":"search",name:"search",clear:""},null,8,["onKeyup","loading","disabled","placeholder"])):(0,i.createCommentVNode)("",!0),a.initializing?((0,i.openBlock)(),(0,i.createElementBlock)("div",c,[(0,i.createVNode)(b,{size:"18px","border-width":"2px"})])):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:2},[a.profiles&&a.profiles.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",o,[(0,i.createElementVNode)("div",s,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(a.profiles,e=>((0,i.openBlock)(),(0,i.createElementBlock)("div",{onClick:t=>f.onToggleItem(e.people_id),key:e.profile_id,class:(0,i.normalizeClass)(["c-items-selector__item",{"c-items-selector__item--disabled":a.disabled}])},[(0,i.createVNode)(x,{class:"c-items-selector__checkbox",modelValue:a.selectedItems[e.people_id]||a.selectAll,block:!1,disabled:a.disabled,name:e.people_id},null,8,["modelValue","disabled","name"]),(0,i.createVNode)(y,{class:"c-items-selector__avatar","avatar-url":e.person&&e.person.avatar},null,8,["avatar-url"]),(0,i.createElementVNode)("div",r,[e.person&&e.person.nickname?((0,i.openBlock)(),(0,i.createElementBlock)("span",p,(0,i.toDisplayString)(e.person.nickname),1)):(0,i.createCommentVNode)("",!0),e.email?((0,i.openBlock)(),(0,i.createElementBlock)("span",m,(0,i.toDisplayString)(e.email),1)):(0,i.createCommentVNode)("",!0)])],10,l))),128)),(0,i.renderSlot)(e.$slots,"infinite-loading")])],512)):(0,i.createCommentVNode)("",!0),a.segments&&a.segments.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",d,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(a.segments,e=>((0,i.openBlock)(),(0,i.createElementBlock)("div",{onClick:t=>f.onToggleItem(e.segment),key:e.segment,class:(0,i.normalizeClass)(["c-items-selector__item",{"c-items-selector__item--disabled":a.disabled}])},[(0,i.createVNode)(x,{class:"c-items-selector__checkbox",modelValue:a.selectedItems[e.segment],"onUpdate:modelValue":t=>a.selectedItems[e.segment]=t,block:!1,disabled:a.disabled,name:e.segment},null,8,["modelValue","onUpdate:modelValue","disabled","name"]),(0,i.createVNode)(C,{label:e.segment,truncated:!1,palette:"segment"},null,8,["label"])],10,g))),128))],512)):(0,i.createCommentVNode)("",!0)],64))])}},"1e5b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=c;var i=a("7a23");const n={class:"c-campaign-actions"};function c(e,t,a,c,o,s){const l=(0,i.resolveComponent)("base-button");return(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("div",n,[a.campaign.dispatched?((0,i.openBlock)(),(0,i.createBlock)(l,{class:"c-campaign-actions__action c-campaign-actions__action--collapsable",onClick:s.onShowAnalytics,id:a.campaign.campaign_id,disabled:!1===(a.campaign.options||{}).tracking,color:a.isDirectory?"blue":"white",key:"analytics","left-icon":"insert_chart"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(a.isDirectory?null:e.$t("CAMPAIGNS.COMMON.SHOW_ANALYTICS")),1)]),_:1},8,["onClick","id","disabled","color"])):(0,i.createCommentVNode)("",!0),!1===a.isCampaignEdited&&a.campaign.ready&&a.campaign.running?((0,i.openBlock)(),(0,i.createBlock)(l,{class:"c-campaign-actions__action c-campaign-actions__action--collapsable",onClick:s.onPause,id:a.campaign.campaign_id,loading:o.pendingActions.pause,color:"red",key:"pause","left-icon":"pause_circle",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.SEND_PAUSE_CAMPAIGN")),1)]),_:1},8,["onClick","id","loading"])):(0,i.createCommentVNode)("",!0),!1===a.isCampaignEdited&&a.campaign.ready&&!a.campaign.running&&a.campaign.dispatched&&("automated"===a.campaign.type||a.campaign.progress<100&&a.campaign.progress>0)?((0,i.openBlock)(),(0,i.createBlock)(l,{class:"c-campaign-actions__action c-campaign-actions__action--collapsable",onClick:s.onResume,id:a.campaign.campaign_id,loading:o.pendingActions.resume||o.pendingActions.dispatch,color:"orange",key:"resume","left-icon":"play_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)("automated"===a.campaign.type?e.$t("CAMPAIGNS.COMMON.SEND_ACTIVATE_CAMPAIGN"):e.$t("CAMPAIGNS.COMMON.SEND_RESUME_CAMPAIGN")),1)]),_:1},8,["onClick","id","loading"])):(0,i.createCommentVNode)("",!0),a.isDirectory?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:3},[a.campaign.ready?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(l,{class:"c-campaign-actions__action c-campaign-actions__action--collapsable",onClick:s.onConfigure,id:a.campaign.campaign_id,key:"configure","left-icon":"settings"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.CONFIGURE_CAMPAIGN")),1)]),_:1},8,["onClick","id"]))],64)):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:4},[!1===a.isCampaignEdited&&!0!==a.campaign.dispatched&&a.campaign.options&&!0===a.campaign.options.deliver_to_email&&a.campaign.message&&a.campaign.sender?((0,i.openBlock)(),(0,i.createBlock)(l,{class:"c-campaign-actions__action c-campaign-actions__action--collapsable",onClick:s.onTest,loading:o.pendingActions.test,color:"black",key:"test","left-icon":"experiment"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.TEST_CAMPAIGN")),1)]),_:1},8,["onClick","loading"])):(0,i.createCommentVNode)("",!0),("automated"===a.campaign.type?!0===a.isCampaignEdited&&a.campaign.flow.launch_event&&a.campaign.flow.assert_filter:!0===a.isCampaignEdited&&a.campaign.recipients&&a.campaign.recipients.type&&!0!==a.campaign.dispatched&&a.campaign.message&&a.campaign.sender)?((0,i.openBlock)(),(0,i.createBlock)(l,{class:"c-campaign-actions__action",onClick:s.onSave,loading:o.pendingActions.save||o.pendingActions.dispatch,key:"save","left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)("automated"===a.campaign.type?e.$t("CAMPAIGNS.COMMON.SAVE_CAMPAIGN"):e.$t("CAMPAIGNS.COMMON.SAVE_CAMPAIGN_DRAFT")),1)]),_:1},8,["onClick","loading"])):(0,i.createCommentVNode)("",!0)],64)),!1!==a.isCampaignEdited||!a.campaign.ready||!a.campaign.message&&!a.isDirectory||a.campaign.running||a.campaign.dispatched?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(l,{class:"c-campaign-actions__action c-campaign-actions__action--collapsable",onClick:s.onDispatch,id:a.campaign.campaign_id,color:"green",key:"dispatch","right-icon":"arrow_forward"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)("automated"===a.campaign.type?e.$t("CAMPAIGNS.COMMON.SEND_ACTIVATE_CAMPAIGN"):e.$t("CAMPAIGNS.COMMON.SEND_GO_CAMPAIGN")),1)]),_:1},8,["onClick","id"]))],512)),[[i.vShow,s.visible]])}},"1e77":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{disabled:{type:Boolean,default:!1},locked:{type:Boolean,default:!1},number:{type:String,default:null},overflow:{type:String,default:"hidden",validator(e){return-1!==["visible","hidden"].indexOf(e)}},showArrow:{type:Boolean,default:!0},success:{type:Boolean,default:!1},title:{type:String,required:!0}}};t.default=i},"1f75":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(a("9100")),n=c(a("9829"));function c(e){return e&&e.__esModule?e:{default:e}}var o={methods:{onChatWithProfile(e){i.default.profileConversations(this.websiteId,e,1).get().then(t=>{if(t.length>0)this.$router.push({name:"app.website.inbox.conversation",params:{websiteId:this.websiteId,sessionId:t[0]}}).catch(()=>{});else{let t;n.default.createConversation(this.websiteId).then(a=>{t=a.session_id;let n=this.$store.getters["contacts/getProfile"](e);return n?Promise.resolve(n):i.default.profileOne(this.websiteId,e).get()}).then(e=>{let a={email:e.email};e.person&&e.person.nickname&&(a.nickname=e.person.nickname),n.default.updateMeta(this.websiteId,t,a).then(()=>{this.$router.push({name:"app.website.inbox.conversation",params:{websiteId:this.websiteId,sessionId:t}}).catch(()=>{})})})}})}}};t.default=o},"1fe5":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaigns-index .c-campaigns-index__menu{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-campaigns-index .c-campaigns-index__container{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-index .c-campaigns-index__container .c-campaigns-index__header{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-campaigns-index .c-campaigns-index__configure{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1000}.c-campaigns-index .c-campaigns-index__configure .c-campaigns-index__configure-inner{position:relative;z-index:1001;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%}.c-campaigns-index .c-campaigns-index__configure .c-campaigns-index__configure-inner .o-page__box{border-radius:0}.c-campaigns-index .c-campaigns-index__templates-wrapper{height:100%;overflow-y:auto}.c-campaigns-index .c-campaigns-index__templates-wrapper .c-campaigns-index__templates-empty,.c-campaigns-index .c-campaigns-index__templates-wrapper .c-campaigns-index__templates-loading{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#fff}.c-campaigns-index .c-campaigns-index__templates-wrapper .c-campaigns-index__templates-items{overflow-y:auto;padding:30px;display:grid;grid-gap:20px 34px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}@media (max-width:78.75em){.c-campaigns-index .c-campaigns-index__header .c-campaigns-index__action--minimized-early .c-base-button__label{display:none}}@media (max-width:75em){.c-campaigns-index .c-campaigns-index__menu{width:200px}.c-campaigns-index .c-campaigns-index__header .c-campaigns-index__action--minimized .c-base-button__label{display:none}.c-campaigns-index .c-campaigns-index__table .c-base-button{padding:10px}}@media (max-width:60em){.c-campaigns-index .c-campaigns-index__table .c-base-button{padding:6px;margin-right:4px}.c-campaigns-index .c-campaigns-index__table .c-base-button:last-of-type{margin-right:0}}@media (max-width:55em){.c-campaigns-index .c-campaigns-index__menu{width:170px}}",""]),e.exports=t},2177:function(e,t,a){"use strict";a("0966")},2230:function(e,t,a){"use strict";a.r(t);var i=a("1e77"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},2288:function(e,t,a){"use strict";a("4b54")},2592:function(e,t,a){"use strict";var i=a("1db0");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"25c7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={emits:["close","remove"],data(){return{loading:!1}},methods:{onRemoveTemplates(){!0!==this.loading&&(this.loading=!0,this.$emit("remove",()=>{this.loading=!1}))}}};t.default=i},"271ae":function(e,t,a){var i=a("f804");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("46528675",i,!0,{sourceMap:!1,shadowMode:!1})},2760:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=f;var i=a("7a23");const n={class:"o-page__header o-page__header--with-breadcrumb"},c={class:"c-campaigns-recipients__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},o={class:"c-campaigns-recipients__inner"},s={class:"c-campaigns-recipients__cards"},l={key:0,class:"c-campaigns-recipients__loading"},r=(0,i.createElementVNode)("div",null,null,-1),p=(0,i.createElementVNode)("div",null,null,-1),m={key:2,class:"c-campaigns-recipients__segmentation"},d={key:0,class:"c-campaigns-recipients__filters"},g=["onClick"],_={key:0,class:"c-campaigns-recipients__targets"},u=(0,i.createTextVNode)(".");function f(e,t,a,f,h,b){const x=(0,i.resolveComponent)("base-breadcrumb"),y=(0,i.resolveComponent)("base-card"),C=(0,i.resolveComponent)("base-divider"),v=(0,i.resolveComponent)("base-spinner"),k=(0,i.resolveComponent)("vue-infinite-loading"),E=(0,i.resolveComponent)("items-selector"),w=(0,i.resolveComponent)("segmentation-box"),I=(0,i.resolveComponent)("base-button"),T=(0,i.resolveComponent)("base-navigation");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["c-campaigns-recipients","c-campaigns-recipients--"+b.type])},[(0,i.createElementVNode)("div",n,[(0,i.createVNode)(x,{class:"o-page__breadcrumb",onClick:e.onBreadcrumbItemClick,items:e.breadcrumb.items,title:e.$t("CAMPAIGNS.RECIPIENTS.TITLE")},null,8,["onClick","items","title"])]),(0,i.createElementVNode)("div",c,[(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",s,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(h.cards,e=>((0,i.openBlock)(),(0,i.createBlock)(y,{class:"c-campaigns-recipients__card",onClick:b.onSwitchType,active:b.type===e.id,disabled:h.loading||b.isDisabled,illustration:e.illustration,id:e.id,key:e.title,title:e.title},null,8,["onClick","active","disabled","illustration","id","title"]))),128))]),(0,i.createVNode)(C),e.campaignLoading?((0,i.openBlock)(),(0,i.createElementBlock)("div",l,[(0,i.createVNode)(v,{size:"18px","border-width":"2px",color:"#75869c"})])):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(["c-campaigns-recipients__type",{"c-campaigns-recipients__type--locked":h.loading,"c-campaigns-recipients__type--disabled":b.isDisabled}])},["all"===b.type||"people"===b.type?((0,i.openBlock)(),(0,i.createBlock)(E,{key:0,class:"c-campaigns-recipients__items-selector o-table",onSearch:e.onSearch,onChecked:b.onItemChecked,profiles:b.profiles,disabled:b.isDisabled,initializing:e.contactsLoading,"search-loading":e.searchLoading,"selected-items":b.selectedItems,"select-all":"all"===b.type},{"infinite-loading":(0,i.withCtx)(()=>[e.page>=1?((0,i.openBlock)(),(0,i.createBlock)(k,{key:0,class:"o-table__infinite",onInfinite:e.onLoadMoreContacts},{spinner:(0,i.withCtx)(()=>[(0,i.createVNode)(v,{class:"o-table__spinner",size:"18px","border-width":"2px"})]),"no-more":(0,i.withCtx)(()=>[r]),"no-results":(0,i.withCtx)(()=>[p]),_:1},8,["onInfinite"])):(0,i.createCommentVNode)("",!0)]),_:1},8,["onSearch","onChecked","profiles","disabled","initializing","search-loading","selected-items","select-all"])):"segment"===b.type?((0,i.openBlock)(),(0,i.createBlock)(E,{key:1,class:"c-campaigns-recipients__items-selector",onChecked:b.onItemChecked,disabled:b.isDisabled,initializing:h.segmentsLoading,search:!1,segments:b.segments,"selected-items":b.selectedItems},null,8,["onChecked","disabled","initializing","segments","selected-items"])):"filter"===b.type?((0,i.openBlock)(),(0,i.createElementBlock)("div",m,[b.filters&&b.filters.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",d,[h.filtersLoading?((0,i.openBlock)(),(0,i.createBlock)(v,{key:0,class:"c-campaigns-recipients__filters-loading",size:"14px","border-width":"1px",color:"#75869c"})):((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,{key:1},(0,i.renderList)(b.filters,e=>((0,i.openBlock)(),(0,i.createElementBlock)("div",{onClick:t=>b.onFilterClick(e),key:e.filter_id,class:(0,i.normalizeClass)(["c-campaigns-recipients__filter","u-ellipsis",{"c-campaigns-recipients__filter--active":e.filter_id===h.activeFilter,"c-campaigns-recipients__filter--disabled":b.isDisabled}])},(0,i.toDisplayString)(e.label),11,g))),128))])):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(w,{modelValue:b.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>b.filter=e),center:0===b.filter.length,"has-create":!1,"most-used":!1,class:(0,i.normalizeClass)(["c-campaigns-recipients__box",{"c-campaigns-recipients__box--disabled":b.isDisabled}]),"main-class":"c-campaigns-recipients__segmentation-main",theme:"light",type:"people",override:""},null,8,["modelValue","center","class"])])):(0,i.createCommentVNode)("",!0)],2),"all"===b.type||"people"===b.type?((0,i.openBlock)(),(0,i.createElementBlock)("div",_,["all"===b.type?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:0},[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_ALL")),1)],64)):0===Object.keys(b.selectedItems).length?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_NONE")),1)],64)):Object.keys(b.selectedItems).length>0?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:2},[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_CONTACTS_1"))+" "+(0,i.toDisplayString)(Object.keys(b.selectedItems).length)+" "+(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_CONTACTS_2")),1)],64)):(0,i.createCommentVNode)("",!0),u])):(0,i.createCommentVNode)("",!0)],64))]),(0,i.createVNode)(T,{class:"c-campaigns-recipients__footer o-page__footer","has-divider":!1},{right:(0,i.withCtx)(()=>[(0,i.createVNode)(I,{onClick:b.onSaveRecipients,disabled:!b.isValid||b.isDisabled,loading:h.loading,"right-icon":"chevron_right"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.NEXT")),1)]),_:1},8,["onClick","disabled","loading"])]),_:1})])],2)}},"27ad":function(e,t,a){"use strict";a("d96f")},"283e":function(e,t,a){"use strict";var i=a("adca");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"2a02":function(e,t,a){"use strict";a.r(t);var i=a("914f"),n=a("4771");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("cb73");n["default"].render=i["render"],t["default"]=n["default"]},"2abd":function(e,t,a){"use strict";a("6876")},"2ae2":function(e,t,a){"use strict";a.r(t);var i=a("2b1d"),n=a("e3e9");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("9a8f");n["default"].render=i["render"],t["default"]=n["default"]},"2b1c":function(e,t,a){"use strict";var i=a("7563");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"2b1d":function(e,t,a){"use strict";var i=a("d9b0");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"2e2a":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a("cd3f")),n=l(a("1ab9")),c=l(a("8508")),o=l(a("e697")),s=l(a("d22d"));function l(e){return e&&e.__esModule?e:{default:e}}var r={components:{ItemsSelector:n.default,SegmentationBox:c.default},mixins:[o.default,s.default],emits:["receiverCloseRequest"],data(){return{currentBreadcrumbItem:"app.website.campaigns.recipients",activeFilter:null,loading:!1,segmentsLoading:!1,filtersLoading:!1,cards:[{id:"all",illustration:"users_all",title:this.$t("CAMPAIGNS.EDIT.PICKER_ALL")},{id:"people",illustration:"users_selected",title:this.$t("CAMPAIGNS.EDIT.PICKER_PEOPLE")},{id:"filter",illustration:"users_filter",title:this.$t("CAMPAIGNS.EDIT.PICKER_FILTER")},{id:"segment",illustration:"users_segment",title:this.$t("CAMPAIGNS.EDIT.PICKER_SEGMENT")}]}},computed:{filter:{get(){return this.campaign&&this.campaign.recipients&&this.campaign.recipients.filter?this.campaign.recipients.filter:[]},set(e){this.activeFilter=null,this.$store.commit("campaigns/updateCampaignRecipientsFilter",{campaignId:this.campaignId,filter:e})}},filters(){return this.$store.commit("filters/assertFilters",{websiteId:this.websiteId,type:"people"}),this.$store.getters["filters/getFilters"](this.websiteId,"people")},isValid(){switch(((this.campaign||{}).recipients||{}).type){case"all":return!0;case"people":return(this.campaign.recipients.people||[]).length>0;case"segment":return(this.campaign.recipients.segments||[]).length>0;case"filter":return(this.campaign.recipients.filter||[]).length>0;default:return!1}},isDisabled(){return"one-shot"===this.campaign.type&&this.campaign.dispatched},segments:{get(){return this.$store.commit("segments/assertSegments",{websiteId:this.websiteId,type:"people"}),this.$store.getters["segments/getSegments"](this.websiteId,"people")}},selectedItems(){let e={};return this.campaign&&this.campaign.recipients&&(["all","people"].includes(this.campaign.recipients.type)&&this.campaign.recipients.people?this.campaign.recipients.people.forEach(t=>{e[t]=!0}):"segment"===this.campaign.recipients.type&&this.campaign.recipients.segments&&this.campaign.recipients.segments.forEach(t=>{e[t]=!0})),e},type(){return this.campaign&&this.campaign.recipients&&this.campaign.recipients.type?this.campaign.recipients.type:null},profiles(){return this.$store.getters["contacts/getProfiles"]}},watch:{campaign:{immediate:!0,handler(e){e&&e.recipients&&!e.recipients.type&&this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"recipients",key:"type",value:"all"})}}},created(){this.loadContacts(),this.loadFilters(),this.loadSegments()},mounted(){this.$emit("receiverCloseRequest",null)},methods:{clearFilter(){this.$store.commit("campaigns/updateCampaignRecipientsItems",{campaignId:this.campaignId,type:"filter",items:[]})},clearPeople(){this.$store.commit("campaigns/updateCampaignRecipientsItems",{campaignId:this.campaignId,type:"people",items:[]})},clearSegments(){this.$store.commit("campaigns/updateCampaignRecipientsItems",{campaignId:this.campaignId,type:"segments",items:[]})},loadFilters(){!0!==this.filtersLoading&&(this.filtersLoading=!0,this.$store.dispatch("filters/acquireFilters",{websiteId:this.websiteId,type:"people"}).then(()=>{this.filtersLoading=!1}))},loadSegments(){!0!==this.segmentsLoading&&(this.segmentsLoading=!0,this.$store.dispatch("segments/acquireSegments",{websiteId:this.websiteId,type:"people"}).then(()=>{this.segmentsLoading=!1}))},onFilterClick(e){this.activeFilter=e.filter_id,this.$store.commit("campaigns/updateCampaignRecipientsFilter",{campaignId:this.campaignId,filter:(0,i.default)(e.filter)})},onItemChecked(e,t){let a;switch("all"===this.type&&this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"recipients",key:"type",value:"people"}),this.type){case"all":a="people";break;case"segment":a="segments";break;default:a=this.type}this.$store.commit("campaigns/updateCampaignRecipientsItems",{campaignId:this.campaignId,type:a,items:[t]})},onSaveRecipients(){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/updateCampaign",{websiteId:this.websiteId,campaignId:this.campaignId,campaignPartial:{recipients:this.campaign.recipients}}).then(()=>this.$store.dispatch("campaigns/acquireCampaign",{websiteId:this.websiteId,campaignId:this.campaignId})).then(()=>(this.loading=!1,this.$router.push({name:"app.website.campaigns.templates",params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{}),Promise.resolve())).catch(()=>{this.loading=!1}))},onSwitchType(e){e!==this.type&&(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"recipients",key:"type",value:e}),["all","people"].includes(e)&&this.clearPeople())}}};t.default=r},"2f9d":function(e,t,a){"use strict";a.r(t);var i=a("eec8"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"32c8":function(e,t,a){"use strict";a.r(t);var i=a("3436"),n=a("9e0a");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("d3aa");n["default"].render=i["render"],t["default"]=n["default"]},3436:function(e,t,a){"use strict";var i=a("a37b");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},3591:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(a("bcbb")),n=c(a("b919"));function c(e){return e&&e.__esModule?e:{default:e}}var o={components:{CampaignActions:i.default},mixins:[n.default],props:{active:{type:Boolean,default:!1},campaign:{type:Object,required:!0},fields:{type:Object,required:!0}},emits:["click","check","configure","dispatch","editName","editTag"],data(){return{websiteId:this.$route.params.websiteId}},computed:{editActions(){return[{tooltip:this.$t("CAMPAIGNS.DEFAULT.ROW_NAME_EDIT"),icon:"edit",color:"#75869c",handler:this.onEditName},{tooltip:this.$t("CAMPAIGNS.DEFAULT.ROW_NAME_TAG")+(this.campaign.tag?` (${this.$filters.format.cutText(this.campaign.tag,12)})`:""),icon:"tag",color:this.campaign.tag?"#fd7b1f":"#75869c",handler:this.onEditTag}]}},methods:{onCheckboxChange(e){this.$emit("check",e,this.campaign.campaign_id)},onClick(e){this.$emit("click",this.campaign.campaign_id,e)},onConfigureCampaign(e,t){t.preventDefault(),t.stopPropagation(),this.$emit("configure",e)},onDispatchConfirm(e,t,a){a.preventDefault(),a.stopPropagation(),this.$emit("dispatch",e,t,a)},onEditName(){this.$emit("editName",this.campaign.campaign_id,this.campaign.name)},onEditTag(){this.$emit("editTag",this.campaign.campaign_id,this.campaign.tag||"")}}};t.default=o},"35d2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{campaignId:{type:String,required:!0},value:{type:String,required:!0}},emits:["close","edit"],data(){return{name:"",loading:!1}},mounted(){this.name=this.value},methods:{onEditName(e=!1){!0!==this.loading&&!0!==e&&(this.loading=!0,this.$emit("edit",this.campaignId,this.name,()=>{this.loading=!1}))}}};t.default=i},"3be0":function(e,t,a){"use strict";a.r(t);var i=a("cda7"),n=a("49eb");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("06b7");n["default"].render=i["render"],t["default"]=n["default"]},"413c":function(e,t,a){var i=a("7cc5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("113e7c4a",i,!0,{sourceMap:!1,shadowMode:!1})},4212:function(e,t,a){"use strict";a.r(t);var i=a("e262"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"435e":function(e,t,a){"use strict";var i=a("e10a");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},4412:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("base-headlines"),l=(0,i.resolveComponent)("base-heading"),r=(0,i.resolveComponent)("base-button"),p=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(p,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:o.onDuplicateTemplates,parent:"campaigns"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(r,{onClick:o.onDuplicateTemplates,loading:c.loading,disabled:o.hasTooManySelected,color:"blue","left-icon":"copy"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_DUPLICATE_TEMPLATES_PROCEED"))+" ("+(0,i.toDisplayString)(a.count)+")",1)]),_:1},8,["onClick","loading","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(s,{title:e.$t("CAMPAIGNS.DEFAULT.POPUPS_DUPLICATE_TEMPLATES_TITLE"),description:e.$t("CAMPAIGNS.DEFAULT.POPUPS_DUPLICATE_TEMPLATES_NOTICE"),class:(0,i.normalizeClass)([{"u-mb10":o.hasTooManySelected,"u-mb20":!o.hasTooManySelected}])},null,8,["title","description","class"]),o.hasTooManySelected?((0,i.openBlock)(),(0,i.createBlock)(l,{key:0,color:"red","font-weight":"bold",type:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_DUPLICATE_TEMPLATES_TOO_MANY",{maximum:c.maximumCount})),1)]),_:1})):(0,i.createCommentVNode)("",!0)]),_:1},8,["onEnter"])}},4660:function(e,t,a){"use strict";a("8b2d")},4771:function(e,t,a){"use strict";a.r(t);var i=a("a434"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"49eb":function(e,t,a){"use strict";a.r(t);var i=a("feda"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"4a1f":function(e,t,a){"use strict";a.r(t);var i=a("2b1c"),n=a("4ce7");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("2177");n["default"].render=i["render"],t["default"]=n["default"]},"4b39":function(e,t,a){"use strict";a.r(t);var i=a("35d2"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"4b54":function(e,t,a){var i=a("1fe5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("65e0c968",i,!0,{sourceMap:!1,shadowMode:!1})},"4b9a":function(e,t,a){"use strict";a.r(t);var i=a("0b89"),n=a("7744a");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("fff4");n["default"].render=i["render"],t["default"]=n["default"]},"4c7f":function(e,t,a){"use strict";a.r(t);var i=a("5e42"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"4ce7":function(e,t,a){"use strict";a.r(t);var i=a("c8c2"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"4e45":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("b919"));function n(e){return e&&e.__esModule?e:{default:e}}var c={mixins:[i.default],props:{active:{type:Boolean,default:!1},contact:{type:Object,required:!0},fields:{type:Object,required:!0},index:{type:Number,required:!0},opened:{type:Boolean,default:!1},websiteId:{type:String,required:!0}},emits:["checked","preview"],data(){return{maxTags:4,actionLoading:!1}},computed:{displayedSegments(){return this.contact.segments.filter(e=>""!==e).slice(0,this.maxTags)},geolocation(){return this.contact.person&&this.contact.person.geolocation&&this.contact.person.geolocation.country?{country:this.contact.person.geolocation.country,city:this.contact.person.geolocation.city}:this.contact.company&&this.contact.company.geolocation&&this.contact.company.geolocation.country?{country:this.contact.company.geolocation.country,city:this.contact.company.geolocation.city}:{}}},methods:{onCheckboxChange(e,t){this.$emit("checked",e,t)},onGoToProfile(){this.$router.push({name:"app.website.contacts.profile",params:{websiteId:this.websiteId,peopleId:this.contact.people_id}}).catch(()=>{})}}};t.default=c},"4f06c":function(e,t,a){"use strict";var i=a("9b12");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},5178:function(e,t,a){"use strict";var i=a("efe8");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"535f":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaigns-configure .c-campaigns-configure__container{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1001;display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 60px;padding:0;width:calc(100% - 116px)}.c-campaigns-configure .c-campaigns-configure__container .c-campaigns-configure__box{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-configure .c-campaigns-configure__container .c-campaigns-configure__loading{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}",""]),e.exports=t},"54be":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=r;var i=a("7a23");const n={class:"c-campaign-condition__header"},c={key:0,class:"c-campaign-condition__number u-bold"},o={class:"c-campaign-condition__title"},s={key:0,class:"c-campaign-condition__slot"},l={key:0,class:"c-campaign-condition__arrow"};function r(e,t,a,r,p,m){const d=(0,i.resolveComponent)("base-icon");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["c-campaign-condition",{"c-campaign-condition--disabled":a.disabled,"c-campaign-condition--locked":a.locked,"c-campaign-condition--with-slot":e.$slots.default}])},[(0,i.createElementVNode)("div",{class:"c-campaign-condition__container",style:(0,i.normalizeStyle)({overflow:a.overflow})},[(0,i.createElementVNode)("div",n,[a.number?((0,i.openBlock)(),(0,i.createElementBlock)("span",c,(0,i.toDisplayString)(a.number),1)):(0,i.createCommentVNode)("",!0),a.success?((0,i.openBlock)(),(0,i.createBlock)(d,{key:1,class:"c-campaign-condition__success",name:"check_circle",size:"20px"})):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("div",o,(0,i.toDisplayString)(a.title),1)]),e.$slots.default?((0,i.openBlock)(),(0,i.createElementBlock)("div",s,[(0,i.renderSlot)(e.$slots,"default")])):(0,i.createCommentVNode)("",!0)],4),a.showArrow?((0,i.openBlock)(),(0,i.createElementBlock)("div",l)):(0,i.createCommentVNode)("",!0)],2)}},"5b4a":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.c-manage-templates .c-manage-templates__save,.c-manage-templates .c-manage-templates__templates{padding:10px 20px 0;border:1px solid #e3e8ef;border-radius:2px;background-color:#fafbfc}.c-manage-templates .c-manage-templates__save{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;margin-bottom:15px;padding-bottom:10px}.c-manage-templates .c-manage-templates__save .c-manage-templates__button{-ms-flex-item-align:start;align-self:flex-start;margin-top:30px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-bottom:2px;margin-left:10px}.c-manage-templates .c-manage-templates__templates{overflow-x:hidden;overflow-y:auto;padding-top:14px;max-height:160px;text-align:left}.c-manage-templates .c-manage-templates__templates--empty{color:#25374f;font-size:14px;text-align:center}.c-manage-templates .c-manage-templates__templates:after{content:"";height:14px;display:block}.c-manage-templates .c-manage-templates__templates .c-manage-templates__label{color:#1c293b;margin-bottom:10px;font-weight:700;font-size:15px}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template{display:-webkit-box;display:-ms-flexbox;display:flex;padding:8px 10px;border-left:3px solid transparent;-webkit-transition:background-color .1s linear;transition:background-color .1s linear;cursor:pointer}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__name{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#0093ee;font-weight:700;font-size:14px}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__update{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:20px;height:20px;margin-left:10px;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__update .c-manage-templates__icon{opacity:0}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__update .c-manage-templates__icon:hover{-webkit-transition:fill 50ms linear;transition:fill 50ms linear}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__update.u-has-tooltip .c-base-tooltip{margin-right:6px}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__update .c-manage-templates__icon{fill:#0093ee}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template .c-manage-templates__update .c-manage-templates__icon:hover{fill:#0088dc}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template:hover{border-left-color:#0093ee;background-color:#edf3fb}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template:hover .c-manage-templates__name{text-decoration:underline}.c-manage-templates .c-manage-templates__templates .c-manage-templates__template:hover .c-manage-templates__update .c-manage-templates__icon{opacity:1}.c-manage-templates .c-manage-templates__templates--locked{pointer-events:none}',""]),e.exports=t},"5cbc":function(e,t,a){"use strict";a.r(t);var i=a("7786"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"5d9b":function(e,t,a){"use strict";a.r(t);var i=a("4e45"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"5e42":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=w(a("f37d")),n=w(a("6a84")),c=w(a("d9f5")),o=w(a("b521")),s=w(a("8b30")),l=w(a("a3ce")),r=w(a("85c1")),p=w(a("2ae2")),m=w(a("0056")),d=w(a("b1b5")),g=w(a("c589")),_=w(a("b0cb")),u=w(a("ad2c8")),f=w(a("8b9c")),h=w(a("3be0")),b=w(a("f49d")),x=w(a("e113")),y=w(a("096a")),C=w(a("0bb7")),v=w(a("09ff")),k=w(a("0315")),E=w(a("c4f6"));function w(e){return e&&e.__esModule?e:{default:e}}var I={components:{CampaignTableItem:c.default,CampaignTableSection:o.default,CommonTable:s.default,SecondaryMenu:l.default,CampaignTemplate:r.default,ConfigureEmailDomain:p.default,DispatchCampaign:m.default,DuplicateCampaigns:d.default,DuplicateTemplates:g.default,EditCampaignName:_.default,EditCampaignTag:u.default,NewCampaign:f.default,NewTemplate:h.default,RemoveCampaigns:b.default,RemoveTemplates:x.default},mixins:[E.default],data(){return{websiteId:this.$route.params.websiteId,lastFilterType:"",lastFilterValue:"",initialized:!1,itemType:"campaigns",page:1,campaignsLoading:!1,templatesLoading:!1,tagsLoading:!1,searching:!1,selected:{campaigns:[],templates:[]},query:{},popups:{dispatchCampaign:{campaignId:null,type:null,visible:!1},editName:{campaignId:null,name:null,visible:!1},editTag:{campaignId:null,tag:null,visible:!1},newCampaign:{visible:!1},configureEmailDomain:{visible:!1},removeCampaigns:{visible:!1},duplicateCampaigns:{visible:!1,count:0},newTemplate:{visible:!1},removeTemplates:{visible:!1},duplicateTemplates:{visible:!1,count:0}},table:{fields:{checkbox:{alignment:"center",noPadding:!0,width:"65px"},name:{noPaddingLeft:!0,title:this.$t("CAMPAIGNS.DEFAULT.HEAD_CAMPAIGN_NAME"),minWidth:"100px",width:"19%"},status:{alignment:"center",title:this.$t("CAMPAIGNS.DEFAULT.HEAD_STATUS"),minWidth:"100px",width:"15%"},statistics:{alignment:"center",title:this.$t("CAMPAIGNS.DEFAULT.HEAD_CONTACTS"),minWidth:"100px",width:"18%"},updated_at:{title:this.$t("CAMPAIGNS.DEFAULT.HEAD_LAST_UPDATE"),minWidth:"100px",width:"13%"},progress:{minWidth:"100px",width:"12%"},actions:{alignment:"right",title:this.$t("CAMPAIGNS.DEFAULT.HEAD_ACTIONS"),minWidth:"100px",width:"23%"}}}}},computed:{loading(){return this.campaignsLoading||this.templatesLoading},lists(){let e=[];e.push({title:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TYPES_TITLE"),items:[{id:"types_all",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TYPES_ALL"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filterType:"types",filterValue:"all"}}},{id:"types_automated",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TYPES_AUTOMATED"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filterType:"types",filterValue:"automated"}}},{id:"types_one_shot",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TYPES_ONE_SHOT"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filterType:"types",filterValue:"one-shot"}}}]});let t={title:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TAGS_TITLE"),loading:this.tagsLoading,items:[{id:"tags_all",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TAGS_ALL"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filterType:"tags",filterValue:"all"}}}]};return this.tags.forEach(e=>{"all"!==e&&t.items.push({id:"tags_"+e,label:e,link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filterType:"tags",filterValue:e}}})}),e.push(t),e.push({title:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TEMPLATES_TITLE"),items:[{id:"templates_all",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TEMPLATES_ALL"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filterType:"templates",filterValue:"all"}}},{id:"templates_static",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TEMPLATES_STATIC"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filterType:"templates",filterValue:"static"}}},{id:"templates_custom",label:this.$t("CAMPAIGNS.DEFAULT.FILTERS_TEMPLATES_CUSTOM"),link:{name:"app.website.campaigns.index",params:{websiteId:this.$route.params.websiteId,filterType:"templates",filterValue:"custom"}}}]}),e},buttonItems(){return[{disabled:0===this.selected[this.itemType].length,icon:"copy",id:"duplicate_selected_"+this.itemType,label:this.$t(`CAMPAIGNS.DEFAULT.CONTROLS_ACTIONS_${this.itemType.toUpperCase()}_DUPLICATE`),blue:!0},{disabled:0===this.selected[this.itemType].length,icon:"close",id:"remove_selected_"+this.itemType,label:this.$t(`CAMPAIGNS.DEFAULT.CONTROLS_ACTIONS_${this.itemType.toUpperCase()}_REMOVE`),red:!0}]},campaignsByType(){let e={},t=[{id:"automated",icon:"rocket",name:this.$t("CAMPAIGNS.DEFAULT.ROW_SECTION_AUTOMATED")},{id:"one-shot",icon:"email",name:this.$t("CAMPAIGNS.DEFAULT.ROW_SECTION_ONE_SHOT")}];t.forEach(t=>{e[t.id]={display:!0,section:{icon:t.icon,name:t.name},data:[]}}),this.campaigns.forEach(t=>{e[t.type].data.push(t)}),t.forEach(t=>{e[t.id].display=e[t.id].data.length>0});let a=t.every(t=>0===e[t.id].data.length);return a?null:e},emptySpotDescription(){switch(this.itemType){case"campaigns":return this.query.search_name?this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_CAMPAIGN_SEARCH_LABEL"):this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_CAMPAIGN_DEFAULT_LABEL");case"templates":return this.query.search_name?this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_TEMPLATE_SEARCH_LABEL"):this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_TEMPLATE_DEFAULT_LABEL");default:return null}},emptySpotTitle(){switch(this.itemType){case"campaigns":return this.query.search_name?this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_CAMPAIGN_SEARCH_TITLE"):this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_CAMPAIGN_DEFAULT_TITLE");case"templates":return this.query.search_name?this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_TEMPLATE_SEARCH_TITLE"):this.$t("CAMPAIGNS.DEFAULT.EMPTY_NO_TEMPLATE_DEFAULT_TITLE");default:return null}},title(){let e="";const t=this.$route.params.filterType;return"templates"===t?(e+=this.templates.length+" ",e+=this.$t("CAMPAIGNS.DEFAULT.FILTERS_TEMPLATES_TITLE")):(this.campaigns.length&&(this.selected.campaigns.length>0&&(e+=this.selected.campaigns.length+" / "),e+=this.campaigns.length+" "),e+=this.$t("CAMPAIGNS.DEFAULT.CONTROLS_NAME")),e},campaigns(){return this.$store.getters["campaigns/getCampaigns"]},templates(){return this.$store.getters["campaigns/getTemplates"]},tags(){return this.$store.getters["campaigns/getTags"]}},watch:{$route:{immediate:!0,handler(e,t){if((0,i.default)(e.name,"app.website.campaigns")&&(C.default.update(this.$t("TITLES.CAMPAIGNS")),void 0===t||this.lastFilterType!==e.params.filterType||this.lastFilterValue!==e.params.filterValue))switch(this.lastFilterType=e.params.filterType,this.lastFilterValue=e.params.filterValue,this.selected.campaigns=[],this.selected.templates=[],this.buildQuery(),this.itemType){case"campaigns":this.loadCampaigns();break;case"templates":this.loadTemplates();break}}}},created(){this.loadTags()},methods:{buildQuery(){let e=this.$route.query.query||this.query.search_name;switch(y.default.emptyMap(this.query),this.itemType="templates"===this.$route.params.filterType?"templates":"campaigns",this.$route.params.filterType){case"types":switch(this.$route.params.filterValue){case"automated":this.query.filter_type_automated=1;break;case"one-shot":this.query.filter_type_one_shot=1;break}break;case"tags":"all"!==this.$route.params.filterValue&&(this.query.filter_tag=this.$route.params.filterValue);break;case"templates":switch(this.$route.params.filterValue){case"static":this.query.filter_type_static=1;break;case"custom":this.query.filter_type_custom=1;break}break}e&&(this.query.search_name=e)},increasePageCount(e){this.page=e?null:this.page+1},loadTags(){return!0!==this.tagsLoading?(this.tagsLoading=!0,this.$store.dispatch("campaigns/acquireTags",{websiteId:this.websiteId}).then(()=>(this.tagsLoading=!1,Promise.resolve()))):Promise.resolve()},loadCampaigns(e){return!0!==this.campaignsLoading?(this.campaignsLoading=!0,e||(this.initialized=!1,this.page=1),this.$store.dispatch("campaigns/acquireCampaigns",{query:this.query,page:this.page,websiteId:this.websiteId}).then(t=>(this.increasePageCount(t),this.campaignsLoading=!1,t&&e?e.complete():e?e.loaded():this.initialized=!0,Promise.resolve()))):Promise.resolve()},loadTemplates(){return!0!==this.templatesLoading?(this.templatesLoading=!0,this.$store.dispatch("campaigns/acquireTemplates",{websiteId:this.websiteId,query:this.query}).then(()=>(this.templatesLoading=!1,Promise.resolve()))):Promise.resolve()},onCampaignCheckboxChange(e,t){if(e)this.selected.campaigns.push(t);else{let e=this.selected.campaigns.findIndex(e=>e===t);this.selected.campaigns.splice(e,1)}},onCampaignDispatchConfirm(e,t){this.popups.dispatchCampaign.campaignId=e,this.popups.dispatchCampaign.type=t,this.popups.dispatchCampaign.visible=!0},onCampaignEditName(e,t){this.popups.editName.campaignId=e,this.popups.editName.name=t,this.popups.editName.visible=!0},onCampaignEditTag(e,t){this.popups.editTag.campaignId=e,this.popups.editTag.tag=t,this.popups.editTag.visible=!0},onCampaignEditNameProceed(e,t,a){this.$store.dispatch("campaigns/updateCampaign",{websiteId:this.websiteId,campaignId:e,campaignPartial:{name:t}}).then(()=>{this.$store.commit("campaigns/updateCampaignKey",{campaignId:e,key:"name",value:t})}).then(()=>(a(),n.default.success("campaigns_saved"),this.onDisplayPopup("editName",!1),Promise.resolve())).catch(()=>{a()})},onCampaignEditTagProceed(e,t,a){let i=t||null;this.$store.dispatch("campaigns/updateCampaign",{websiteId:this.websiteId,campaignId:e,campaignPartial:{tag:i}}).then(()=>{this.$store.commit("campaigns/updateCampaignKey",{campaignId:e,key:"tag",value:i})}).then(()=>(a(),n.default.success("campaigns_saved"),this.onDisplayPopup("editTag",!1),this.loadTags(),Promise.resolve())).catch(()=>{a()})},onCampaignConfigure(e){this.$router.push({name:"app.website.campaigns.configure",params:{websiteId:this.websiteId,campaignId:e}}).catch(()=>{})},onDisplayPopup(e,t){this.popups[e].visible=t},onExit(){this.lastFilterType&&this.lastFilterValue&&this.$router.push({name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filterType:this.lastFilterType,filterValue:this.lastFilterValue}}).catch(()=>{})},onItemClick(e){switch(e){case"remove_selected_campaigns":this.onDisplayPopup("removeCampaigns",!0);break;case"duplicate_selected_campaigns":this.popups.duplicateCampaigns.visible=!0,this.popups.duplicateCampaigns.count=this.selected.campaigns.length;break;case"remove_selected_templates":this.onDisplayPopup("removeTemplates",!0);break;case"duplicate_selected_templates":this.popups.duplicateTemplates.visible=!0,this.popups.duplicateTemplates.count=this.selected.templates.length;break}},onViewDocumentation(){k.default.logEvent("Helpdesk opened",{source:"campaigns"}),v.default.openExternal(this.$CONFIG.CRISP_URL_HELP+"/en/category/dq57qn/",!0)},onLoadMoreCampaigns(e){this.page?!this.campaignsLoading&&this.page>1&&this.loadCampaigns(e):e.complete()},onRemoveCampaigns(e){this.$store.dispatch("campaigns/removeCampaigns",{websiteId:this.websiteId,campaignsIds:this.selected.campaigns}).then(()=>(this.selected.campaigns=[],this.onDisplayPopup("removeCampaigns",!1),n.default.success("factory_datatable_item_deleted"),Promise.resolve())).catch(()=>Promise.resolve()).finally(()=>{e()})},onDuplicateCampaigns(e){this.$store.dispatch("campaigns/duplicateCampaigns",{websiteId:this.websiteId,campaignsIds:this.selected.campaigns}).then(()=>(this.selected.campaigns=[],this.onDisplayPopup("duplicateCampaigns",!1),n.default.success("factory_datatable_item_duplicated"),Promise.resolve())).catch(()=>Promise.resolve()).finally(()=>{e()})},onRemoveTemplates(e){Promise.resolve().then(()=>this.selected.templates.length>0?this.$store.dispatch("campaigns/removeTemplates",{websiteId:this.websiteId,templatesIds:this.selected.templates}):Promise.resolve()).then(()=>(this.selected.templates.length>0&&n.default.success("factory_datatable_item_deleted"),this.selected.templates=[],this.onDisplayPopup("removeTemplates",!1),Promise.resolve())).catch(()=>Promise.resolve()).finally(()=>{e()})},onDuplicateTemplates(e){Promise.resolve().then(()=>this.selected.templates.length>0?this.$store.dispatch("campaigns/duplicateTemplates",{websiteId:this.websiteId,templatesIds:this.selected.templates}):Promise.resolve()).then(()=>(this.selected.templates=[],this.onDisplayPopup("duplicateTemplates",!1),n.default.success("factory_datatable_item_duplicated"),Promise.resolve())).catch(()=>Promise.resolve()).finally(()=>{e()})},onSearch(e){this.searching=!0,this.buildQuery(),this.query.search_name=e;let t,a={name:"app.website.campaigns.index",params:{websiteId:this.websiteId,filterType:this.$route.params.filterType,filterValue:this.$route.params.filterValue}};switch(e&&(a.query={query:e}),this.$router.push(a).catch(()=>{}),this.itemType){case"campaigns":t=this.loadCampaigns();break;case"templates":t=this.loadTemplates();break;default:t=Promise.resolve()}t.then(()=>{this.searching=!1})},onTemplateClick(e){this.$router.push({name:"app.website.campaigns.template",params:{websiteId:this.websiteId,templateId:e}}).catch(()=>{})},onTemplateCheckboxChange(e,t){if(e)this.selected.templates.push(t);else{let e=this.selected.templates.findIndex(e=>e===t);this.selected.templates.splice(e,1)}}}};t.default=I},"5f85":function(e,t,a){"use strict";a("0539")},"5fda":function(e,t,a){"use strict";a.r(t);var i=a("3591"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},6187:function(e,t,a){var i=a("b06b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("e102d51c",i,!0,{sourceMap:!1,shadowMode:!1})},"61b5":function(e,t,a){var i=a("5b4a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("4af8ee06",i,!0,{sourceMap:!1,shadowMode:!1})},"63da":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a("6a84")),n=o(a("85c1")),c=o(a("e697"));function o(e){return e&&e.__esModule?e:{default:e}}var s={components:{CampaignTemplate:n.default},mixins:[c.default],emits:["receiverCloseRequest"],data(){return{currentBreadcrumbItem:"app.website.campaigns.templates",activeTemplateId:null,loading:!1}},mounted(){this.$emit("receiverCloseRequest",null)},methods:{doInsertTemplate(e,t){return Promise.resolve().then(()=>{let a=[];return a.push(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:t}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"format",value:e})),"html"===e&&a.push(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_email",value:!0}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_chatbox",value:!1})),Promise.all(a)}).then(()=>this.$store.dispatch("campaigns/saveCampaign",{websiteId:this.websiteId,campaignId:this.campaignId})).then(()=>{i.default.success("campaigns_templates_insert_done"),this.$router.push({name:"app.website.campaigns.editor",params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{})})},onSkip(){this.$router.push({name:"app.website.campaigns.editor",params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{})},onTemplateProceed(e,t){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/acquireTemplate",{websiteId:this.websiteId,templateId:e}).then(e=>this.doInsertTemplate(e.format,e.content)).catch(()=>{this.loading=!1,t()}))}}};t.default=s},6876:function(e,t,a){var i=a("1b45");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("4cf39d86",i,!0,{sourceMap:!1,shadowMode:!1})},"6e7f":function(e,t,a){"use strict";a("18fd")},"6e9f":function(e,t,a){"use strict";a.r(t);var i=a("e173"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},7070:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("6a84"));function n(e){return e&&e.__esModule?e:{default:e}}var c={emits:["close"],data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,name:"",loadingSave:!1,loadingInsert:!1}},computed:{campaign(){return this.campaigns.find(e=>e.campaign_id===this.campaignId)},campaigns(){return this.$store.getters["campaigns/getCampaigns"]},templates(){return this.$store.getters["campaigns/getTemplates"]}},methods:{onCreateTemplate(e=!1){!0!==this.loadingSave&&!0!==e&&((this.campaign.message||"").trim()?(this.loadingSave=!0,this.$store.dispatch("campaigns/createTemplate",{websiteId:this.websiteId,template:{name:this.name,format:this.campaign.format}}).then(e=>this.$store.dispatch("campaigns/updateTemplate",{websiteId:this.websiteId,templateId:e.template_id,templatePartial:{content:this.campaign.message}})).then(()=>(i.default.success("campaigns_templates_create_done"),this.name="",this.$refs.form.resetForm(),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loadingSave=!1})):i.default.warning("campaigns_templates_create_no_content"))},onUpdateTemplate(e,t){t.stopPropagation(),!0!==this.loadingSave&&((this.campaign.message||"").trim()?(this.loadingSave=!0,this.$store.dispatch("campaigns/updateTemplate",{websiteId:this.websiteId,templateId:e,templatePartial:{content:this.campaign.message}}).then(()=>(i.default.success("campaigns_templates_update_done"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loadingSave=!1})):i.default.warning("campaigns_templates_update_no_content"))},onInsertTemplate(e){!0!==this.loadingInsert&&(this.loadingInsert=!0,this.$store.dispatch("campaigns/acquireTemplate",{websiteId:this.websiteId,templateId:e.template_id}).then(e=>(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:e.content}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"format",value:e.format}),i.default.success("campaigns_templates_insert_done"),this.$emit("close"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loadingInsert=!1}))}}};t.default=c},7103:function(e,t,a){"use strict";a("b5fe")},7345:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=o;var i=a("7a23");const n={class:"c-campaign-table-section o-table__tr"},c={class:"c-campaign-table-section__name"};function o(e,t,a,o,s,l){const r=(0,i.resolveComponent)("base-icon");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createVNode)(r,{class:"c-campaign-table-section__icon",name:a.section.icon,size:"17px"},null,8,["name"]),(0,i.createElementVNode)("div",c,(0,i.toDisplayString)(a.section.name),1)])}},"73a5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(a("cd3f")),n=c(a("5da1"));function c(e){return e&&e.__esModule?e:{default:e}}var o={data(){return{hideEditor:!1,frozen:null,edited:!1,editorFormats:["markdown","html"],editorControlsData:{insertReplacement:{tags:[["name.full",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_NAME_FULL_LABEL")],["name.first",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_NAME_FIRST_LABEL")],["name.last",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_NAME_LAST_LABEL")],["email",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_EMAIL_LABEL")],["country",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_COUNTRY_LABEL")],["city",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_CITY_LABEL")],["website",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_WEBSITE_LABEL")],["company.name",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_COMPANY_NAME_LABEL")],["data.key",this.$t("CAMPAIGNS.EDIT.EDITOR_TAG_DATA_LABEL")]],fallback:!0}}}},computed:{editorControls(){let e=[{id:"format",items:["bold","italic","underline","insertColor"]},{id:"title",items:["titleLarge","titleMedium","titleSmall"]},{id:"list",items:["list"]},{id:"code",items:["code","blockquote"]},{id:"insert",items:["insertLink","insertImage","insertGif","insertVideo","insertReplacement"]}];return"html"===this[this.type].format&&"preview"===this.mode&&e.push({id:"align",items:["alignLeft","alignCenter","alignRight","alignJustify"]}),e}},methods:{checkChanges(e){if(null===this.frozen)this.frozen=(0,i.default)(e);else{let t=!1;for(let a=0;a<this.watchedKeys.length;a++){let i=this.watchedKeys[a],c=e[i],o=this.frozen[i];if(!(0,n.default)(c,o)){t=!0;break}}this.edited=t}},onRequestClose(){this.edited?(this.hideEditor=!0,this.popups.closeWarning.visible=!0):this.onExit()}}};t.default=o},7468:function(e,t,a){"use strict";a("d09f")},7563:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=l;var i=a("7a23");const n={class:"c-campaigns-configure o-page"},c={class:"c-campaigns-configure__container o-page__container o-page__container--full"},o={key:0,class:"c-campaigns-configure__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},s={class:"c-campaigns-configure__loading"};function l(e,t,a,l,r,p){const m=(0,i.resolveComponent)("base-spinner"),d=(0,i.resolveComponent)("router-view"),g=(0,i.resolveComponent)("base-overlay");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createElementVNode)("div",c,[r.loading?((0,i.openBlock)(),(0,i.createElementBlock)("div",o,[(0,i.createElementVNode)("div",s,[(0,i.createVNode)(m,{size:"22px"})])])):((0,i.openBlock)(),(0,i.createBlock)(d,{key:1,onReceiverCloseRequest:p.onReceiverCloseRequest,onExit:p.onExit},null,8,["onReceiverCloseRequest","onExit"]))]),(0,i.createVNode)(g,{onClose:p.onRequestClose,"has-close":""},null,8,["onClose"])])}},"76db":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{section:{type:Object,required:!0}}};t.default=i},"7744a":function(e,t,a){"use strict";a.r(t);var i=a("63da"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},7786:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={emits:["close","remove"],data(){return{loading:!1}},methods:{onRemoveCampaigns(){!0!==this.loading&&(this.loading=!0,this.$emit("remove",()=>{this.loading=!1}))}}};t.default=i},7881:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(a("6a84")),n=c(a("227c"));function c(e){return e&&e.__esModule?e:{default:e}}var o={components:{QuickTour:n.default},emits:["close"],data(){return{websiteId:this.$route.params.websiteId,step:"type",loading:!1,campaign:{name:"",domain:""},campaignTypes:[{id:"one-shot",illustration:"campaign_oneshot",title:this.$t("POPUPS.NEW_CAMPAIGN.TYPE_PICKER_ONE_SHOT_TITLE"),description:this.$t("POPUPS.NEW_CAMPAIGN.TYPE_PICKER_ONE_SHOT_DESCRIPTION"),selected:!1},{id:"automated",illustration:"campaign_automated",title:this.$t("POPUPS.NEW_CAMPAIGN.TYPE_PICKER_AUTOMATED_TITLE"),description:this.$t("POPUPS.NEW_CAMPAIGN.TYPE_PICKER_AUTOMATED_DESCRIPTION"),selected:!1}],steps:[{id:"type",label:this.$t("POPUPS.NEW_CAMPAIGN.STEP_TYPE")},{id:"name",label:this.$t("POPUPS.NEW_CAMPAIGN.STEP_NAME")}]}},methods:{onNext(){this.step="name"},onCreateCampaign(e=!1){!0!==this.loading&&!0!==e&&"name"===this.step&&(this.loading=!0,this.$store.dispatch("campaigns/createCampaign",{websiteId:this.websiteId,name:this.campaign.name,type:this.campaign.type}).then(e=>{i.default.success("campaigns_created"),this.$emit("close");const t="one-shot"===this.campaign.type?"app.website.campaigns.recipients":"app.website.campaigns.flow";this.$router.push({name:t,params:{websiteId:this.websiteId,campaignId:e.campaign_id}}).catch(()=>{})}).catch(()=>{this.loading=!1}))},onTypeClick(e){this.campaign.type=e,this.campaignTypes.forEach(t=>{t.selected=t.id===e})}}};t.default=o},7893:function(e,t,a){var i=a("14db");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("62af0845",i,!0,{sourceMap:!1,shadowMode:!1})},"79f0":function(e,t,a){var i=a("e389");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("2d32a9b4",i,!0,{sourceMap:!1,shadowMode:!1})},"7a7c":function(e,t,a){"use strict";var i=a("acf3");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"7a90":function(e,t,a){var i=a("de91");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("4e97f794",i,!0,{sourceMap:!1,shadowMode:!1})},"7c4d":function(e,t,a){"use strict";a.r(t);var i=a("cad2"),n=a("7cd8");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);n["default"].render=i["render"],t["default"]=n["default"]},"7cc5":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaigns-template .c-campaigns-template__container{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1001;display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 60px;padding:0;width:calc(100% - 116px)}.c-campaigns-template .c-campaigns-template__container .c-campaigns-template__box{overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;margin-bottom:0}.c-campaigns-template .c-campaigns-template__container .c-campaigns-template__box .c-campaigns-template__editor{height:100%;border:none;border-radius:0}.c-campaigns-template .c-campaigns-template__container .c-campaigns-template__box .c-campaigns-template__editor .c-campaigns-template__name{display:-webkit-box;display:-ms-flexbox;display:flex}.c-campaigns-template .c-campaigns-template__container .c-campaigns-template__box .c-campaigns-template__editor .c-campaigns-template__name .c-campaigns-template__name-field{-webkit-transition:all .1s linear;transition:all .1s linear;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-template .c-campaigns-template__container .c-campaigns-template__box .c-campaigns-template__editor .c-campaigns-template__name .c-campaigns-template__name-field:hover{background-color:#fafbfc}.c-campaigns-template .c-campaigns-template__container .c-campaigns-template__loading{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.c-campaigns-template .c-campaigns-template__popup{z-index:1010}@media (max-width:86.25em){.c-campaigns-template .c-campaigns-template__controls[data-id=align]{display:none}}@media (max-width:75em){.c-campaigns-template .c-campaigns-template__controls[data-id=list]{display:none}}@media (max-width:71.25em){.c-campaigns-template .c-campaigns-template__controls[data-id=code]{display:none}}@media (max-width:63.75em){.c-campaigns-template .c-campaigns-template__controls[data-id=title]{display:none}}@media (max-width:55em){.c-campaigns-template .c-campaigns-template__controls[data-id=insert]{display:none}}",""]),e.exports=t},"7cd8":function(e,t,a){"use strict";a.r(t);var i=a("ea75"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"7dc4":function(e,t,a){"use strict";a.r(t);var i=a("088e"),n=a("a2b2");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("e01e");n["default"].render=i["render"],t["default"]=n["default"]},8021:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=w;var i=a("7a23");const n=(0,i.createElementVNode)("span",{class:"o-table__active"},null,-1),c={key:0,class:"c-campaign-table-item__name u-ellipsis"},o={class:"c-campaign-table-item__name-wrapper"},s={class:"c-campaign-table-item__name-text u-ellipsis"},l={class:"c-campaign-table-item__edit"},r=["onClick"],p={key:0,class:"c-campaign-table-item__not-configured"},m={key:1,class:"c-campaign-table-item__ready"},d={key:0},g={key:1},_={key:0,class:"c-campaign-table-item__paused"},u={class:"c-campaign-table-item__preparing"},f={key:3,class:"c-campaign-table-item__running"},h={key:0},b={key:1},x={key:4,class:"c-campaign-table-item__paused"},y={key:0},C={key:1},v={key:5,class:"c-campaign-table-item__done"},k={class:"c-campaign-table-item__updated u-ellipsis"},E={class:"c-campaign-table-item__created u-ellipsis"};function w(e,t,a,w,I,T){const N=(0,i.resolveComponent)("field-checkbox"),A=(0,i.resolveComponent)("base-tooltip"),P=(0,i.resolveComponent)("base-icon"),S=(0,i.resolveComponent)("base-availability"),O=(0,i.resolveComponent)("base-spinner"),M=(0,i.resolveComponent)("base-badge"),D=(0,i.resolveComponent)("base-progress"),V=(0,i.resolveComponent)("campaign-actions");return(0,i.openBlock)(),(0,i.createElementBlock)("a",{onClick:t[3]||(t[3]=e=>T.onConfigureCampaign(a.campaign.campaign_id,e)),class:(0,i.normalizeClass)(["c-campaign-table-item","o-table__tr","o-table__tr--full-height",{"o-table__tr--active":a.active}])},[n,(0,i.createElementVNode)("div",{class:"c-campaign-table-item__td o-table__td o-table__td--center o-table__td--checkbox o-table__td--no-padding",onClick:t[2]||(t[2]=(0,i.withModifiers)(()=>{},["stop","prevent"])),style:(0,i.normalizeStyle)(e.getFieldStyle("checkbox"))},[(0,i.createVNode)(N,{class:"c-campaign-table-item__custom c-campaign-table-item__checkbox",modelValue:a.active,"onUpdate:modelValue":t[0]||(t[0]=e=>a.active=e),onChange:T.onCheckboxChange,onClick:t[1]||(t[1]=e=>e.stopPropagation()),name:a.campaign.campaign_id,size:"medium"},null,8,["modelValue","onChange","name"])],4),(0,i.createElementVNode)("div",{class:"c-campaign-table-item__td c-campaign-table-item__headline o-table__td o-table__td--bold o-table__td--no-padding",style:(0,i.normalizeStyle)(e.getFieldStyle("name"))},[a.campaign.name?((0,i.openBlock)(),(0,i.createElementBlock)("div",c,[(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("span",s,(0,i.toDisplayString)(a.campaign.name),1),(0,i.createElementVNode)("span",l,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(T.editActions,(e,t)=>((0,i.openBlock)(),(0,i.createElementBlock)("span",{class:"c-campaign-table-item__edit-button u-has-tooltip",onClick:(0,i.withModifiers)(e.handler,["stop","prevent"]),key:"action_"+t},[e.tooltip?((0,i.openBlock)(),(0,i.createBlock)(A,{key:0,direction:"middle",align:"left"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.tooltip),1)]),_:2},1024)):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(P,{class:"c-campaign-table-item__edit-icon",name:e.icon,color:e.color,cursor:"pointer",size:"14px"},null,8,["name","color"])],8,r))),128))])])])):(0,i.createCommentVNode)("",!0)],4),(0,i.createElementVNode)("div",{class:"c-campaign-table-item__status o-table__td o-table__td--center u-ellipsis",style:(0,i.normalizeStyle)(e.getFieldStyle("status"))},[a.campaign.ready?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("span",p,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_NOT_CONFIGURED")),1)),!a.campaign.ready||a.campaign.dispatched||a.campaign.running||0!==a.campaign.progress?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("span",m,[(0,i.createVNode)(S,{class:"c-campaign-table-item__availability",color:"green",size:"small"}),"automated"!==a.campaign.type?((0,i.openBlock)(),(0,i.createElementBlock)("span",d,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_READY_SEND")),1)):((0,i.openBlock)(),(0,i.createElementBlock)("span",g,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_READY_ACTIVATE")),1))])),a.campaign.ready&&a.campaign.dispatched&&!a.campaign.running&&0===a.campaign.progress?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:2},["automated"===a.campaign.type?((0,i.openBlock)(),(0,i.createElementBlock)("span",_,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_INACTIVE")),1)):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[(0,i.createVNode)(O,{class:"c-campaign-table-item__spinner",size:"14px",color:"#fd7b1f","border-width":"2px"}),(0,i.createElementVNode)("span",u,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_PREPARING")),1)],64))],64)):(0,i.createCommentVNode)("",!0),a.campaign.ready&&a.campaign.running?((0,i.openBlock)(),(0,i.createElementBlock)("span",f,[(0,i.createVNode)(S,{class:"c-campaign-table-item__availability",color:"blue",size:"small"}),"automated"!==a.campaign.type?((0,i.openBlock)(),(0,i.createElementBlock)("span",h,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_SENDING")),1)):((0,i.openBlock)(),(0,i.createElementBlock)("span",b,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_ACTIVE")),1))])):(0,i.createCommentVNode)("",!0),a.campaign.ready&&!a.campaign.running&&a.campaign.progress<100&&a.campaign.progress>0?((0,i.openBlock)(),(0,i.createElementBlock)("span",x,[(0,i.createVNode)(S,{class:"c-campaign-table-item__availability",color:"orange",size:"small"}),"automated"!==a.campaign.type?((0,i.openBlock)(),(0,i.createElementBlock)("span",y,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_PAUSED")),1)):((0,i.openBlock)(),(0,i.createElementBlock)("span",C,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_INACTIVE")),1))])):(0,i.createCommentVNode)("",!0),a.campaign.ready&&!a.campaign.running&&a.campaign.progress>=100?((0,i.openBlock)(),(0,i.createElementBlock)("span",v,(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_STATUS_DONE")),1)):(0,i.createCommentVNode)("",!0)],4),(0,i.createElementVNode)("div",{class:"c-campaign-table-item__statistics o-table__td o-table__td--center u-ellipsis",style:(0,i.normalizeStyle)(e.getFieldStyle("statistics"))},["automated"===a.campaign.type?((0,i.openBlock)(),(0,i.createBlock)(M,{key:0,uppercase:!1,size:"mini",color:a.campaign.running?"blue":"orange",filled:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(a.campaign.reached&&a.campaign.reached>0?a.campaign.reached:0)+" "+(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_REACHED_LABEL")),1)]),_:1},8,["color"])):((0,i.openBlock)(),(0,i.createBlock)(M,{key:1,uppercase:!1,color:"grey",size:"mini",filled:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(a.campaign.targets&&a.campaign.targets>0?a.campaign.targets:0)+" "+(0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.ROW_RECIPIENTS_LABEL")),1)]),_:1}))],4),(0,i.createElementVNode)("div",{class:"c-campaign-table-item__date o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("updated_at"))},[(0,i.createElementVNode)("span",k,(0,i.toDisplayString)(e.$filters.date.timeAgo(a.campaign.updated_at)),1),(0,i.createElementVNode)("span",E,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_DATE_CREATED"))+" "+(0,i.toDisplayString)(e.$filters.date.timeAgo(a.campaign.created_at)),1)],4),(0,i.createElementVNode)("div",{class:"c-campaign-table-item__progress o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("progress"))},["one-shot"===a.campaign.type?((0,i.openBlock)(),(0,i.createBlock)(D,{key:0,"label-main":a.campaign.progress+"%",progress:a.campaign.progress||0,animate:!!(a.campaign.running&&a.campaign.progress<100),color:a.campaign.running&&a.campaign.progress<100?"blue":"grey",direction:"horizontal"},null,8,["label-main","progress","animate","color"])):(0,i.createCommentVNode)("",!0)],4),(0,i.createElementVNode)("div",{class:"c-campaign-table-item__actions o-table__td o-table__td--right",style:(0,i.normalizeStyle)(e.getFieldStyle("actions"))},[(0,i.createVNode)(V,{onConfigure:T.onConfigureCampaign,onDispatch:T.onDispatchConfirm,campaign:a.campaign},null,8,["onConfigure","onDispatch","campaign"])],4)],2)}},8096:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a("6a84")),n=o(a("9ee9")),c=o(a("99b1"));function o(e){return e&&e.__esModule?e:{default:e}}var s={props:{campaign:{type:Object,required:!0},isCampaignEdited:{type:Boolean,default:!1},format:{type:String,default:null,validator(e){return-1!==["html","markdown"].indexOf(e)}},isDirectory:{type:Boolean,default:!0},mode:{type:String,default:null,validator(e){return-1!==["code","preview"].indexOf(e)}}},emits:["configure","dispatch","saved"],data(){return{websiteId:this.$route.params.websiteId,lastSavedMessage:null,pendingActions:{save:!1,dispatch:!1,resume:!1,pause:!1,test:!1}}},computed:{visible(){return this.isDirectory||!this.mode||"preview"===this.mode||"markdown"===this.format||"html"===this.format}},created(){this.campaign.message&&(this.lastSavedMessage=this.campaign.message)},methods:{actionCampaign(e,t=null,a=null,o=null,s=null){return!1===this.pendingActions[e]?(this.pendingActions[e]=!0,Promise.resolve().then(()=>{if("save"===e){let e={type:this.campaign.type,format:this.campaign.format,name:this.campaign.name,subject:this.campaign.subject,sender:this.campaign.sender,tag:this.campaign.tag,message:this.campaign.message};return["recipients","flow","options"].forEach(t=>{this.campaign[t]&&(e[t]=this.campaign[t])}),c.default.saveCampaign(this.websiteId,this.campaign.campaign_id,e)}return c.default.actionCampaign(this.websiteId,this.campaign.campaign_id,e)}).then(()=>(null!==a&&a(),null!==t&&i.default.success(t),Promise.resolve())).catch(e=>(402===e.status?n.default.show({pluginName:"Campaigns",pluginUrn:"_internal:campaigns",plan:"unlimited"}):null!==o&&o(((e||{}).data||{}).reason||null),Promise.resolve())).then(()=>(null!==s&&s(),this.pendingActions[e]=!1,Promise.resolve()))):Promise.resolve()},refreshTargetCount(){return this.$store.dispatch("campaigns/acquireTargetCountCampaign",{websiteId:this.websiteId,campaignId:this.campaign.campaign_id})},markRunning(e=!0){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,key:"running",value:e})},markReady(e=!0){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaign.campaign_id,key:"ready",value:e})},onConfigure(e,t){this.$emit("configure",e,t)},onDispatch(e,t){this.$emit("dispatch",e,this.campaign.type,t)},onPause(e,t){t.preventDefault(),t.stopPropagation();let a="automated"===this.campaign.type?"campaigns_deactivated":"campaigns_paused";return this.actionCampaign("pause",a,()=>{this.markRunning(!1)})},onResume(e,t){t.preventDefault(),t.stopPropagation();let a="automated"===this.campaign.type?"campaigns_activated":"campaigns_resumed",i=!0===this.campaign.dispatched&&"automated"===this.campaign.type;return this.actionCampaign("resume",!0!==i?a:null,()=>{i?this.actionCampaign("dispatch",a,()=>{this.markRunning(!0)}):this.markRunning(!0)})},onSave(){let e="one-shot"===this.campaign.type,t=!0===this.campaign.dispatched&&!0===this.campaign.running&&"automated"===this.campaign.type,a=()=>{this.markReady(!0),this.$emit("saved")};return this.actionCampaign("save","campaigns_saved",()=>{e?(this.refreshTargetCount(this.campaign),a()):t?this.actionCampaign("dispatch",null,a):a()})},onShowAnalytics(e,t){t.preventDefault(),t.stopPropagation(),this.$router.push({name:"app.website.campaigns.analytics",params:{websiteId:this.websiteId,campaignId:e}}).catch(()=>{})},onTest(){this.actionCampaign("test","campaigns_tested")}}};t.default=s},"80e5":function(e,t,a){var i=a("f08f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("20427cc6",i,!0,{sourceMap:!1,shadowMode:!1})},"81f7":function(e,t,a){"use strict";a("6187")},"84dd":function(e,t,a){"use strict";a.r(t);var i=a("c684"),n=a("5d9b");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("ca9a");n["default"].render=i["render"],t["default"]=n["default"]},8561:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i="14px";var n={props:{campaignId:{type:String,required:!0},value:{type:String,required:!0}},emits:["close","edit"],data(){return{tag:"",addNewTag:!1,loading:!1}},computed:{editButtonLabel(){return this.tag?this.addNewTag?this.$t("POPUPS.EDIT_CAMPAIGN_TAG.ACTION_ADD"):this.$t("POPUPS.EDIT_CAMPAIGN_TAG.ACTION_USE"):this.$t("POPUPS.EDIT_CAMPAIGN_TAG.ACTION_CLEAR")},tagOptions(){let e=[];return e.push({label:this.$t("POPUPS.EDIT_CAMPAIGN_TAG.NO_TAG"),value:"",icon:"clear",iconHeight:i,iconWidth:i}),(this.$store.getters["campaigns/getTags"]||[]).forEach(t=>{e.push({label:t,value:t,icon:"tag",iconHeight:i,iconWidth:i})}),e}},beforeMount(){this.tag=this.value},methods:{onAddNewTag(){this.addNewTag=!0},onEditTag(){!0!==this.loading&&(this.loading=!0,this.$emit("edit",this.campaignId,this.tag,()=>{this.loading=!1}))}}};t.default=n},"85b5":function(e,t,a){var i=a("8bb3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("252d1878",i,!0,{sourceMap:!1,shadowMode:!1})},"85c1":function(e,t,a){"use strict";a.r(t);var i=a("7a7c"),n=a("07e2");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("c63b");n["default"].render=i["render"],t["default"]=n["default"]},"86ce":function(e,t,a){"use strict";var i=a("fbe9");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},8703:function(e,t,a){"use strict";var i=a("8c2a");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},8823:function(e,t,a){"use strict";a.r(t);var i=a("d3af"),n=a("2230");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("6e7f");n["default"].render=i["render"],t["default"]=n["default"]},"8a9c":function(e,t,a){"use strict";var i=a("e929");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"8b2d":function(e,t,a){var i=a("0df5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("5e88f206",i,!0,{sourceMap:!1,shadowMode:!1})},"8b9c":function(e,t,a){"use strict";a.r(t);var i=a("c10d"),n=a("e057");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("7468");n["default"].render=i["render"],t["default"]=n["default"]},"8ba7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=w;var i=a("7a23");const n={class:"c-campaigns-analytics"},c={class:"o-page__header o-page__header--with-breadcrumb"},o={class:"c-campaigns-analytics__box o-page__box o-page__box--no-animation o-page__box--no-background o-page__box--no-margin o-page__box--no-padding"},s={key:0,class:"c-campaigns-analytics__selector"},l={class:"c-campaigns-analytics__cards"},r={class:"c-campaigns-analytics__tips-title u-semibold"},p={class:"c-campaigns-analytics__tips-items"},m=["onClick"],d={class:"c-campaigns-analytics__table-wrapper o-table"},g={class:"c-campaigns-analytics__tr o-table__tr o-table__tr--full-height"},_={key:0,class:"c-campaigns-analytics__nickname u-ellipsis"},u={key:0,class:"c-campaigns-analytics__email u-ellipsis"},f={class:"c-campaigns-analytics__custom c-campaigns-analytics__location u-ellipsis"},h={key:0,class:"c-campaigns-analytics__city u-ellipsis"},b={key:1,class:"c-campaigns-analytics__country u-ellipsis"},x={key:2,class:"c-campaigns-analytics__unknown"},y={class:"c-campaigns-analytics__custom c-campaigns-analytics__date u-ellipsis"},C={key:0,class:"c-campaigns-analytics__since"},v={key:1,class:"c-campaigns-analytics__unknown"},k=(0,i.createElementVNode)("div",null,null,-1),E=(0,i.createElementVNode)("div",null,null,-1);function w(e,t,a,w,I,T){const N=(0,i.resolveComponent)("base-breadcrumb"),A=(0,i.resolveComponent)("base-progress"),P=(0,i.resolveComponent)("base-card"),S=(0,i.resolveComponent)("base-icon"),O=(0,i.resolveComponent)("base-avatar"),M=(0,i.resolveComponent)("base-flag"),D=(0,i.resolveComponent)("base-button"),V=(0,i.resolveComponent)("base-spinner"),B=(0,i.resolveComponent)("vue-infinite-loading"),$=(0,i.resolveComponent)("base-empty-spot"),L=(0,i.resolveComponent)("common-table");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createElementVNode)("div",c,[(0,i.createVNode)(N,{class:"o-page__breadcrumb",onClick:e.onBreadcrumbItemClick,items:e.breadcrumb.items,title:e.$t("CAMPAIGNS.ANALYTICS.TITLE")},null,8,["onClick","items","title"])]),(0,i.createElementVNode)("div",o,[T.cards.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",s,[(0,i.createElementVNode)("div",l,[e.campaign?((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,{key:0},(0,i.renderList)(T.cards,t=>((0,i.openBlock)(),(0,i.createBlock)(P,{onClick:T.onCardClick,active:I.currentContactCard===t.id,disabled:I.loading,clickable:t.clickable,id:t.id,key:t.id,title:t.progressBar.disabled?t.title+" ("+t.progressBar.labelSecondary+")":t.title,alignment:"left"},{default:(0,i.withCtx)(()=>[t.progressBar.disabled?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(A,{key:0,color:t.progressBar.color,"label-secondary":e.$filters.numbers.asCommaNotation(t.progressBar.labelSecondary),"label-main":t.progressBar.progress+"%",progress:t.progressBar.progress,title:t.title},null,8,["color","label-secondary","label-main","progress","title"]))]),_:2},1032,["onClick","active","disabled","clickable","id","title"]))),128)):(0,i.createCommentVNode)("",!0)]),T.tips.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:(0,i.normalizeClass)(["c-campaigns-analytics__tips",{"c-campaigns-analytics__tips--pulled":I.channelEmailIpWasPulled}])},[(0,i.createElementVNode)("h6",r,(0,i.toDisplayString)(e.$t("CAMPAIGNS.ANALYTICS.TIPS_TITLE")),1),(0,i.createElementVNode)("ul",p,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(T.tips,e=>((0,i.openBlock)(),(0,i.createElementBlock)("li",{onClick:t=>T.onTipsItemClick(e),key:e.key,class:(0,i.normalizeClass)(["c-campaigns-analytics__tips-item","u-regular",{"c-campaigns-analytics__tips-item--clickable":e.url}])},[(0,i.createVNode)(S,{class:"c-campaigns-analytics__tips-icon",name:"arrow_forward",size:"13px"}),(0,i.createTextVNode)((0,i.toDisplayString)(e.label),1)],10,m))),128))])],2)):(0,i.createCommentVNode)("",!0)])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("div",d,[(0,i.createVNode)(L,{class:"c-campaigns-analytics__table",data:T.statistics,fields:I.fields,initialized:I.initialized,"min-item-size":63,"key-field":"people_id"},(0,i.createSlots)({item:(0,i.withCtx)(({item:t,index:a})=>[(0,i.createElementVNode)("div",g,[(0,i.createElementVNode)("div",{class:"c-campaigns-analytics__td o-table__td c-campaigns-analytics__avatar-wrapper",style:(0,i.normalizeStyle)(e.getFieldStyle("avatar"))},[(0,i.createVNode)(O,{class:"c-campaigns-analytics__custom c-campaigns-analytics__avatar","avatar-url":t.profile&&t.profile.person&&t.profile.person.avatar,size:"small"},null,8,["avatar-url"])],4),(0,i.createElementVNode)("div",{class:"c-campaigns-analytics__td o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("name"))},[t.profile&&t.profile.person&&t.profile.person.nickname?((0,i.openBlock)(),(0,i.createElementBlock)("span",_,(0,i.toDisplayString)(t.profile.person.nickname),1)):(0,i.createCommentVNode)("",!0)],4),(0,i.createElementVNode)("div",{class:"c-campaigns-analytics__td o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("email"))},[t.profile&&t.profile.email?((0,i.openBlock)(),(0,i.createElementBlock)("span",u,(0,i.toDisplayString)(t.profile.email),1)):(0,i.createCommentVNode)("",!0)],4),(0,i.createElementVNode)("div",{class:"c-campaigns-analytics__td o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("location"))},[(0,i.createElementVNode)("div",f,[t.profile&&t.profile.person&&t.profile.person.geolocation&&t.profile.person.geolocation.city?((0,i.openBlock)(),(0,i.createElementBlock)("span",h,(0,i.toDisplayString)(t.profile.person.geolocation.city),1)):(0,i.createCommentVNode)("",!0),t.profile&&t.profile.person&&t.profile.person.geolocation&&t.profile.person.geolocation.country?((0,i.openBlock)(),(0,i.createElementBlock)("span",b,[(0,i.createVNode)(M,{class:"c-campaigns-analytics__flag",code:t.profile.person.geolocation.country,height:"12px",width:"17px"},null,8,["code"]),(0,i.createTextVNode)((0,i.toDisplayString)(e.$filters.format.isoCountry(t.profile.person.geolocation.country)),1)])):((0,i.openBlock)(),(0,i.createElementBlock)("span",x,(0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")),1))])],4),(0,i.createElementVNode)("div",{class:"c-campaigns-analytics__td o-table__td o-table__td--bold",style:(0,i.normalizeStyle)(e.getFieldStyle("date"))},[(0,i.createElementVNode)("div",y,[t.updated_at?((0,i.openBlock)(),(0,i.createElementBlock)("span",C,(0,i.toDisplayString)(e.$filters.date.timeAgo(t.updated_at)),1)):((0,i.openBlock)(),(0,i.createElementBlock)("span",v,(0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")),1))])],4),(0,i.createElementVNode)("div",{class:"c-campaigns-analytics__actions c-campaigns-analytics__td o-table__td o-table__td--right",style:(0,i.normalizeStyle)(e.getFieldStyle("actions"))},[t.profile&&t.profile.people_id?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:0},[(0,i.createVNode)(D,{class:"c-campaigns-analytics__action",onClick:T.onProfileUserClick,id:t.profile.people_id,loading:I.pendingProfilePeopleId===t.profile.people_id,"left-icon":"person",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.ANALYTICS.ROW_PROFILE_CONTACT")),1)]),_:2},1032,["onClick","id","loading"]),(0,i.createVNode)(D,{class:"c-campaigns-analytics__action",onClick:T.onMessageUserClick,id:t.profile.people_id,loading:I.pendingChatPeopleId===t.profile.people_id,"left-icon":"crispy",color:"white",size:"small"},null,8,["onClick","id","loading"])],64)):(0,i.createCommentVNode)("",!0),t.data?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[t.data.link_url?((0,i.openBlock)(),(0,i.createBlock)(D,{key:0,class:"c-campaigns-analytics__action",onClick:e=>T.onPageUserClick(t.data.link_url),id:t.profile.people_id,tooltip:e.$t("CAMPAIGNS.ANALYTICS.ROW_PROFILE_ACTIONS_LINK_URL",{link:e.$filters.format.cutText(t.data.link_url,40)}),"tooltip-align":"left","tooltip-direction":"middle","left-icon":"open_in_browser",color:"black",size:"small"},null,8,["onClick","id","tooltip"])):(0,i.createCommentVNode)("",!0)],64)):(0,i.createCommentVNode)("",!0)],4)])]),empty:(0,i.withCtx)(()=>[(0,i.createVNode)($,{description:e.$t("CAMPAIGNS.EDIT.STATISTICS_EMPTY_LABEL"),title:e.$t("CAMPAIGNS.EDIT.STATISTICS_EMPTY_TITLE"),illustration:"users_all"},null,8,["description","title"])]),_:2},[I.page>=1?{name:"infinite-loading",fn:(0,i.withCtx)(()=>[(0,i.createVNode)(B,{class:"o-table__infinite",onInfinite:T.onLoadMoreStatistics},{spinner:(0,i.withCtx)(()=>[(0,i.createVNode)(V,{class:"o-table__spinner",size:"18px","border-width":"2px"})]),"no-more":(0,i.withCtx)(()=>[k]),"no-results":(0,i.withCtx)(()=>[E]),_:1},8,["onInfinite"])])}:void 0]),1032,["data","fields","initialized"])])])])}},"8bb3":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaigns-analytics{overflow:hidden;width:100%}.c-campaigns-analytics,.c-campaigns-analytics .c-campaigns-analytics__box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-analytics .c-campaigns-analytics__box{margin-bottom:0;padding-bottom:0}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__selector{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:20px;border:1px solid #e3e8ef;border-bottom:none;background-color:#fff}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__cards{display:grid;grid-gap:12px;grid-template-columns:repeat(3,200px);-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__tips{background-color:#fefce7;border:1px solid #e7e1b6;color:#000;min-width:260px;margin-left:12px;padding:6px 28px 6px 16px;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto;border-radius:2px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__tips--pulled{-webkit-animation-name:fadeInDown;animation-name:fadeInDown;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__tips .c-campaigns-analytics__tips-title{font-size:14px;margin-bottom:4px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__tips .c-campaigns-analytics__tips-items{list-style-type:none;margin:0}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__tips .c-campaigns-analytics__tips-items .c-campaigns-analytics__tips-item{font-size:13px;line-height:15px;padding:2px 0 3px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__tips .c-campaigns-analytics__tips-items .c-campaigns-analytics__tips-item--clickable:hover{text-decoration:underline;cursor:pointer}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__tips .c-campaigns-analytics__tips-items .c-campaigns-analytics__tips-item .c-campaigns-analytics__tips-icon{fill:#000;margin-right:4px;margin-top:-1px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;border:1px solid rgba(168,198,223,.6);-webkit-box-shadow:0 3px 4px 0 rgba(117,134,156,.1);box-shadow:0 3px 4px 0 rgba(117,134,156,.1)}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr{color:#1c293b;font-size:14px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__td{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__unknown{color:#75869c;font-weight:400}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__avatar-wrapper{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-right:0}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__avatar{display:inline-block}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__nickname{display:inherit;font-weight:700;font-size:14px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__email{display:inherit;color:#75869c;font-size:14px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__location{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__location .c-campaigns-analytics__city{font-weight:700;font-size:14px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__location .c-campaigns-analytics__country{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#75869c;font-size:13px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__location .c-campaigns-analytics__country .c-campaigns-analytics__flag{margin-top:-1px;margin-right:8px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__date .c-campaigns-analytics__since{color:#75869c;font-weight:400;font-size:13px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__actions{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__actions .c-campaigns-analytics__action{margin-right:6px}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr .c-campaigns-analytics__actions .c-campaigns-analytics__action:last-of-type{margin-right:0}.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__table-wrapper .c-campaigns-analytics__table .c-campaigns-analytics__tr:hover .c-campaigns-analytics__actions{opacity:1}@media (max-width:67.5em){.c-campaigns-analytics .c-campaigns-analytics__action .c-base-button__label{display:none}}@media (max-width:48.75em){.c-campaigns-analytics .c-campaigns-analytics__box .c-campaigns-analytics__cards{grid-template-columns:repeat(2,1fr)}}",""]),e.exports=t},"8c2a":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("field-input"),l=(0,i.resolveComponent)("field-select"),r=(0,i.resolveComponent)("base-button"),p=(0,i.resolveComponent)("base-popup"),m=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(m,{as:""},{default:(0,i.withCtx)(({meta:a})=>[(0,i.createVNode)(p,{onClose:t[3]||(t[3]=t=>e.$emit("close")),onEnter:e=>o.onEditTag(!a.valid),parent:"inbox",overflow:"visible"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{onClick:t[2]||(t[2]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(r,{onClick:e=>o.onEditTag(!a.valid),loading:c.loading,disabled:!a.valid,"left-icon":c.tag?"tag":"clear"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(o.editButtonLabel),1)]),_:2},1032,["onClick","loading","disabled","left-icon"])]),default:(0,i.withCtx)(()=>[c.addNewTag?((0,i.openBlock)(),(0,i.createBlock)(s,{key:0,modelValue:c.tag,"onUpdate:modelValue":t[0]||(t[0]=e=>c.tag=e),label:e.$t("POPUPS.EDIT_CAMPAIGN_TAG.NEW_LABEL"),placeholder:e.$t("POPUPS.EDIT_CAMPAIGN_TAG.NEW_PLACEHOLDER"),name:"tag",rules:"max:40",size:"medium",autofocus:""},null,8,["modelValue","label","placeholder"])):((0,i.openBlock)(),(0,i.createBlock)(l,{key:1,modelValue:c.tag,"onUpdate:modelValue":t[1]||(t[1]=e=>c.tag=e),onActionClick:o.onAddNewTag,actions:[{value:"add_tag",label:e.$t("POPUPS.EDIT_CAMPAIGN_TAG.ADD_TAG")}],options:o.tagOptions,alignment:"left",direction:"horizontal",name:"tag",searchable:""},null,8,["modelValue","onActionClick","actions","options"]))]),_:2},1032,["onEnter"])]),_:1})}},"8ccb":function(e,t,a){"use strict";a.r(t);var i=a("a205"),n=a("a83d");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("27ad");n["default"].render=i["render"],t["default"]=n["default"]},"8f12":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.c-campaign-condition .c-campaign-condition__container{border:1px solid #d6dde8;border-radius:2px}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 20px;background-color:#fafbfc;font-weight:700;font-size:14px}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__header .c-campaign-condition__number{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;width:20px;height:20px;border-radius:100%;background-color:#0093ee;color:#fff;font-size:12px}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__header .c-campaign-condition__title{color:#000}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__header .c-campaign-condition__success{margin-right:6px;fill:#40b630}.c-campaign-condition .c-campaign-condition__container .c-campaign-condition__slot{padding:20px}.c-campaign-condition .c-campaign-condition__arrow{position:relative}.c-campaign-condition .c-campaign-condition__arrow:before{display:block;margin:14px auto 0;width:6px;height:18px;background-color:#e3e8ef;content:""}.c-campaign-condition .c-campaign-condition__arrow:after{position:absolute;top:100%;left:50%;margin-left:-12px;width:0;height:0;border:solid transparent;border-width:12px;border-color:rgba(136,183,213,0);border-top-color:#e3e8ef;content:" ";pointer-events:none}.c-campaign-condition--disabled{opacity:.5;pointer-events:none}.c-campaign-condition--locked{pointer-events:none}.c-campaign-condition--with-slot .c-campaign-condition__container .c-campaign-condition__header{border-bottom:1px solid #d6dde8}',""]),e.exports=t},"914f":function(e,t,a){"use strict";var i=a("8ba7");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},9173:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=p;var i=a("7a23");const n={class:"c-campaigns-templates"},c={class:"o-page__header o-page__header--with-breadcrumb"},o={class:"c-campaigns-templates__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},s={class:"c-campaigns-templates__inner"},l={key:0,class:"c-campaigns-templates__loading"},r={key:1,class:"c-campaigns-templates__templates"};function p(e,t,a,p,m,d){const g=(0,i.resolveComponent)("base-breadcrumb"),_=(0,i.resolveComponent)("base-headlines"),u=(0,i.resolveComponent)("base-divider"),f=(0,i.resolveComponent)("base-spinner"),h=(0,i.resolveComponent)("campaign-template"),b=(0,i.resolveComponent)("base-button"),x=(0,i.resolveComponent)("base-navigation");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createElementVNode)("div",c,[(0,i.createVNode)(g,{class:"o-page__breadcrumb",onClick:e.onBreadcrumbItemClick,items:e.breadcrumb.items,title:e.$t("CAMPAIGNS.TEMPLATES.TITLE"),alignment:"center"},null,8,["onClick","items","title"])]),(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",s,[(0,i.createVNode)(_,{description:e.$t("CAMPAIGNS.TEMPLATES.BOX_DESCRIPTION"),title:e.$t("CAMPAIGNS.TEMPLATES.BOX_TITLE"),alignment:"center"},null,8,["description","title"]),(0,i.createVNode)(u,{class:"u-mt30 u-mb35"}),e.templatesLoading||e.campaignLoading?((0,i.openBlock)(),(0,i.createElementBlock)("div",l,[(0,i.createVNode)(f,{size:"18px","border-width":"2px",color:"#75869c"})])):((0,i.openBlock)(),(0,i.createElementBlock)("div",r,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.templates,t=>((0,i.openBlock)(),(0,i.createBlock)(h,{onProceed:d.onTemplateProceed,id:t.template_id,type:t.type,name:t.name,key:t.template_id,"campaign-message":e.campaign.message,format:t.format,"action-label":e.$t("CAMPAIGNS.TEMPLATES.TEMPLATE_ACTION")},null,8,["onProceed","id","type","name","campaign-message","format","action-label"]))),128))]))]),(0,i.createVNode)(x,{class:"c-campaigns-templates__footer o-page__footer","has-divider":!1},{right:(0,i.withCtx)(()=>[(0,i.createVNode)(b,{onClick:d.onSkip,disabled:m.loading,"right-icon":"chevron_right",color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.TEMPLATES.USE_MARKDOWN")),1)]),_:1},8,["onClick","disabled"])]),_:1})])])}},"91a8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("cd3f")),n=r(a("f7fe")),c=r(a("6a84")),o=r(a("aff1")),s=r(a("4676")),l=r(a("73a5"));function r(e){return e&&e.__esModule?e:{default:e}}const p=250;var m={components:{CommonEditor:o.default,EditorCloseWarning:s.default},mixins:[l.default],emits:["exit"],data(){return{websiteId:this.$route.params.websiteId,templateId:this.$route.params.templateId,loading:!1,saving:!1,mode:"code",type:"template",watchedKeys:["name","format","content"],popups:{closeWarning:{visible:!1}},domParser:null}},computed:{name:{get(){return this.template.name},set:(0,n.default)((function(e){this.$store.commit("campaigns/updateTemplateKey",{templateId:this.templateId,key:"name",value:e})}),p)},content:{get(){return this.template.content},set:(0,n.default)((function(e){this.$store.commit("campaigns/updateTemplateKey",{templateId:this.templateId,key:"content",value:e})}),p)},template(){return this.templates.find(e=>e.template_id===this.templateId)},templates(){return this.$store.getters["campaigns/getTemplates"]}},watch:{template:{deep:!0,immediate:!0,handler(e){this.loading||e&&"custom"===e.type&&this.checkChanges(e)}}},created(){this.loadTemplate()},methods:{loadTemplate(){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/acquireTemplate",{websiteId:this.websiteId,templateId:this.templateId}).then(()=>{this.loading=!1}).catch(()=>{this.onExit()}))},onTemplateSave(){if(!1===this.saving)return this.saving=!0,Promise.resolve().then(()=>this.$store.dispatch("campaigns/updateTemplate",{websiteId:this.websiteId,templateId:this.templateId,templatePartial:{format:this.template.format,name:this.name,content:this.content}})).then(()=>(c.default.success("campaigns_templates_update_done"),this.frozen=(0,i.default)(this.template),this.edited=!1,Promise.resolve())).catch(()=>Promise.resolve()).finally(()=>{this.saving=!1})},onWarningBack(){this.popups.closeWarning.visible=!1,this.hideEditor=!1},onWarningClose(){this.$store.commit("campaigns/addTemplate",{value:this.frozen}),this.onExit()},onExit(){this.$emit("exit")},onChangeMode(e){this.mode=e},onToggleFormat(e){switch(this.$store.commit("campaigns/updateTemplateKey",{templateId:this.templateId,key:"format",value:e}),e){case"html":this.content='<html><body><a href="{{ url.unsubscribe }}">'+this.$t("CAMPAIGNS.TEMPLATES.BASIS_UNSUBSCRIBE")+"</a></body></html>";break;case"markdown":this.content="";break}}}};t.default=m},"944f":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=5e3;var n={data(){return{websiteId:this.$route.params.websiteId,loading:!1,disabled:!0}},mounted(){setTimeout(()=>{this.disabled=!1},i)},methods:{onConfigureEmailDomain(){!0!==this.loading&&(this.loading=!0,this.$router.push({name:"app.settings.websites.one",params:{websiteId:this.websiteId,initializeCustomDomain:!0}}).catch(()=>{}))}}};t.default=n},"958e":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-dispatch-campaign .c-dispatch-campaign__loader{margin-top:26px;margin-bottom:34px}.c-dispatch-campaign .c-dispatch-campaign__error{padding:10px 18px;border:1px solid #e0102b;font-size:14.5px;border-radius:2px;background-color:#fafbfc;color:#e0102b;font-weight:700}.c-dispatch-campaign .c-dispatch-campaign__error a{text-decoration:underline}",""]),e.exports=t},9699:function(e,t,a){var i=a("dd0bf");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("6ad1e328",i,!0,{sourceMap:!1,shadowMode:!1})},"979b":function(e,t,a){"use strict";var i=a("4412");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},"99fb":function(e,t,a){"use strict";a.r(t);var i=a("8561"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},"9a8f":function(e,t,a){"use strict";a("7893")},"9b12":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("field-checkbox"),l=(0,i.resolveComponent)("base-divider"),r=(0,i.resolveComponent)("field-input"),p=(0,i.resolveComponent)("base-button"),m=(0,i.resolveComponent)("base-popup"),d=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(d,{as:"div"},{default:(0,i.withCtx)(({meta:a})=>[(0,i.createVNode)(m,{class:"c-edit-options",onClose:t[4]||(t[4]=t=>e.$emit("close")),onEnter:e=>o.onEditOptions(!a.valid),parent:"campaigns",size:"normal",alignment:"center"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(p,{onClick:t[3]||(t[3]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(p,{onClick:e=>o.onEditOptions(!a.valid),disabled:!a.valid,"left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_EDIT_OPTIONS_PROCEED")),1)]),_:2},1032,["onClick","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(s,{class:"u-mb10",modelValue:c.options.tracking,"onUpdate:modelValue":t[0]||(t[0]=e=>c.options.tracking=e),disabled:o.isChatOnly,label:e.$t("CAMPAIGNS.EDIT.POPUPS_EDIT_OPTIONS_TRACKING"),name:"tracking",size:"medium"},null,8,["modelValue","disabled","label"]),(0,i.createVNode)(s,{modelValue:c.options.senderNameWebsite,"onUpdate:modelValue":t[1]||(t[1]=e=>c.options.senderNameWebsite=e),disabled:o.isChatOnly,label:e.$t("CAMPAIGNS.EDIT.POPUPS_EDIT_OPTIONS_SENDER_NAME_WEBSITE"),name:"sender_name_website",size:"medium"},null,8,["modelValue","disabled","label"]),(0,i.createVNode)(l,{class:"u-mt20 u-mb15"}),(0,i.createVNode)(r,{modelValue:c.options.senderEmailReply,"onUpdate:modelValue":t[2]||(t[2]=e=>c.options.senderEmailReply=e),disabled:o.isChatOnly,label:e.$t("CAMPAIGNS.EDIT.POPUPS_EDIT_OPTIONS_SENDER_EMAIL_REPLY_LABEL"),placeholder:e.$t("CAMPAIGNS.EDIT.POPUPS_EDIT_OPTIONS_SENDER_EMAIL_REPLY_PLACEHOLDER"),name:"email",rules:"email|max:100",size:"medium"},null,8,["modelValue","disabled","label","placeholder"])]),_:2},1032,["onEnter"])]),_:1})}},"9e0a":function(e,t,a){"use strict";a.r(t);var i=a("91a8"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},a205:function(e,t,a){"use strict";var i=a("2760");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},a2b2:function(e,t,a){"use strict";a.r(t);var i=a("7070"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},a37b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=m;var i=a("7a23");const n={class:"c-campaigns-template o-page"},c={key:0,class:"c-campaigns-template__container o-page__container o-page__container--full"},o={key:0,class:"c-campaigns-template__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},s={class:"c-campaigns-template__loading"},l={key:1,class:"c-campaigns-template__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},r={class:"c-campaigns-template__name"},p=(0,i.createElementVNode)("div",null,null,-1);function m(e,t,a,m,d,g){const _=(0,i.resolveComponent)("base-spinner"),u=(0,i.resolveComponent)("field-input"),f=(0,i.resolveComponent)("base-banner"),h=(0,i.resolveComponent)("base-button"),b=(0,i.resolveComponent)("common-editor"),x=(0,i.resolveComponent)("base-overlay"),y=(0,i.resolveComponent)("editor-close-warning");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[e.hideEditor?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("div",c,[d.loading?((0,i.openBlock)(),(0,i.createElementBlock)("div",o,[(0,i.createElementVNode)("div",s,[(0,i.createVNode)(_,{size:"22px"})])])):g.template?((0,i.openBlock)(),(0,i.createElementBlock)("div",l,[(0,i.createVNode)(b,{class:"c-campaigns-template__editor",modelValue:g.content,"onUpdate:modelValue":t[1]||(t[1]=e=>g.content=e),onToggleFormat:g.onToggleFormat,onChangeMode:g.onChangeMode,controls:e.editorControls,"controls-data":e.editorControlsData,disabled:"static"===g.template.type,format:g.template.format,formats:e.editorFormats,type:d.type,"controls-class":"c-campaigns-template__controls"},{header:(0,i.withCtx)(()=>[(0,i.createElementVNode)("div",r,[(0,i.createVNode)(u,{class:"c-campaigns-template__name-field",modelValue:g.name,"onUpdate:modelValue":t[0]||(t[0]=e=>g.name=e),"has-borders":!1,placeholder:e.$t("CAMPAIGNS.TEMPLATE.NAME_PLACEHOLDER"),name:"name",size:"large","text-align":"center"},null,8,["modelValue","placeholder"])])]),banner:(0,i.withCtx)(()=>["static"===g.template.type?((0,i.openBlock)(),(0,i.createBlock)(f,{key:0,content:e.$t("CAMPAIGNS.TEMPLATE.EDITOR_NOTICE_DEFAULT"),"has-close":!1,color:"black","text-align":"center"},null,8,["content"])):(0,i.createCommentVNode)("",!0)]),leftFooter:(0,i.withCtx)(()=>[p]),rightFooter:(0,i.withCtx)(()=>[(0,i.createVNode)(h,{onClick:g.onTemplateSave,loading:d.saving,disabled:!e.edited,key:"save","left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.TEMPLATE.ACTION_SAVE")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1},8,["modelValue","onToggleFormat","onChangeMode","controls","controls-data","disabled","format","formats","type"])])):(0,i.createCommentVNode)("",!0)])),(0,i.createVNode)(x,{onClose:e.onRequestClose,"has-close":""},null,8,["onClose"]),d.popups.closeWarning.visible?((0,i.openBlock)(),(0,i.createBlock)(y,{key:1,class:"c-campaigns-template__popup",onClose:g.onWarningClose,onBack:g.onWarningBack,type:d.type},null,8,["onClose","onBack","type"])):(0,i.createCommentVNode)("",!0)])}},a434:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=p(a("8b30")),n=p(a("84dd")),c=p(a("fbf6")),o=p(a("09ff")),s=p(a("e697")),l=p(a("1f75")),r=p(a("b919"));function p(e){return e&&e.__esModule?e:{default:e}}const m=4,d=50,g=6e5;var _={components:{CommonTable:i.default,ContactTableItem:n.default},mixins:[s.default,l.default,r.default],emits:["receiverCloseRequest"],data(){return{initialized:!1,loading:!1,channelEmailIpLoading:!1,channelEmailIpWasPulled:!1,page:1,currentBreadcrumbItem:"app.website.campaigns.analytics",currentContactCard:"opened",pendingProfilePeopleId:null,pendingChatPeopleId:null,fields:{avatar:{minWidth:"60px"},name:{title:this.$t("CAMPAIGNS.EDIT.STATISTICS_HEAD_FIRST_NAME"),minWidth:"140px",width:"25%"},email:{title:this.$t("CONTACTS.DEFAULT.HEAD_EMAIL"),minWidth:"200px",width:"25%"},location:{title:this.$t("CAMPAIGNS.EDIT.STATISTICS_HEAD_LOCATION"),minWidth:"120px",width:"20%"},date:{title:this.$t("CAMPAIGNS.EDIT.STATISTICS_HEAD_DATE"),minWidth:"120px",width:"10%"},actions:{alignment:"right",title:this.$t("CONTACTS.DEFAULT.CONTROLS_ACTIONS"),minWidth:"120px",width:"20%"}}}},computed:{cards(){if(this.campaign&&this.campaign.statistics){let e=this.campaign.statistics.clicked,t=this.campaign.statistics.opened,a=this.campaign.statistics.unsubscribed,i=this.campaign.reached||0;return!0===this.campaign.dispatched&&!1===this.campaign.running&&(i=this.campaign.targets),i>0&&(e>i||t>i||a>i)&&(i=0),[{id:"opened",title:this.$t("CAMPAIGNS.ANALYTICS.OPENED"),progressBar:{disabled:0===i,color:"blue",labelSecondary:t,progress:this.$filters.numbers.percent(t,i,1)}},{id:"clicked",title:this.$t("CAMPAIGNS.ANALYTICS.CLICKED"),progressBar:{disabled:0===i,color:"orange",labelSecondary:e,progress:this.$filters.numbers.percent(e,i,1)}},{id:"unsubscribed",title:this.$t("CAMPAIGNS.ANALYTICS.UNSUBSCRIBED"),progressBar:{disabled:0===i,color:"red",labelSecondary:a,progress:this.$filters.numbers.percent(a,i,1)}}]}return[]},tips(){let e=[];if(this.campaign&&!0!==this.channelEmailIpLoading){if(this.channelEmailIp&&(this.channelEmailIp.pooled||this.channelEmailIp.assigned)){let t=(this.channelEmailIp.assigned||{}).reputation||(this.channelEmailIp.pooled||{}).reputation;"number"===typeof t&&t<d&&e.push("ip_reputation_weak"),this.channelEmailIp.assigned||e.push("assigned_ip_upgrade")}if(this.campaign.statistics){let t=this.campaign.statistics.clicked||0,a=this.campaign.statistics.opened||0;a>=m&&t<=a/m&&e.push("link_not_clicked")}"one-shot"===this.campaign.type&&(this.campaign.dispatched&&this.campaign.dispatched_at&&Date.now()-this.campaign.dispatched_at<g&&e.push("email_just_sent"),this.campaign.ready&&(this.campaign.running||this.campaign.progress<100&&this.campaign.progress>0)&&e.push("email_still_sending"))}return e.map(e=>({key:e,label:this.$t("CAMPAIGNS.ANALYTICS.TIPS_"+e.toUpperCase()),url:this.acquireTipActionUrl(e)}))},statistics(){return this.$store.getters["campaigns/getStatistics"]},channelEmailIp(){return this.$store.getters["websites/getChannelEmailIp"]}},mounted(){this.$emit("receiverCloseRequest",null),this.loadStatistics(),this.loadChannelEmailIp()},methods:{loadStatistics(e,t=!1){if(!0!==this.loading||!0===t)return this.loading=!0,this.$store.dispatch("campaigns/acquireStatistics",{page:this.page,websiteId:this.websiteId,campaignId:this.campaignId,statsAction:this.currentContactCard}).then(t=>(this.initialized=!0,this.loading=!1,t?this.page=-1:this.page++,e&&(t?e.complete():e&&e.loaded()),Promise.resolve())).catch(()=>{this.loading=!1})},loadChannelEmailIp(){return!0!==this.channelEmailIpLoading&&0===Object.keys(this.channelEmailIp||{}).length?(this.channelEmailIpLoading=!0,this.channelEmailIpWasPulled=!0,Promise.resolve().then(()=>c.default.channelIp(this.websiteId,"email").get()).catch(()=>Promise.resolve(null)).then(e=>(null!==e&&this.$store.commit("websites/setChannelEmailIp",{value:e}),this.channelEmailIpLoading=!1,Promise.resolve()))):Promise.resolve()},acquireTipActionUrl(e){switch(e){case"ip_reputation_weak":return this.$CONFIG.CRISP_URL_HELP+"/en/article/2egyqk/";case"assigned_ip_upgrade":return this.$CONFIG.CRISP_URL_HELP+"/en/article/jkok0d/";default:return null}},onShowProfile(e){this.$router.push({name:"app.website.contacts.profile",params:{websiteId:this.websiteId,peopleId:e}}).catch(()=>{})},onCardClick(e){this.currentContactCard!==e&&(this.currentContactCard=e,this.page=1,this.initialized=!1,this.loadStatistics())},onTipsItemClick(e){e.url&&o.default.openExternal(e.url)},onProfileUserClick(e){this.pendingProfilePeopleId||(this.pendingProfilePeopleId=e,this.onShowProfile(e))},onMessageUserClick(e){this.pendingChatPeopleId||(this.pendingChatPeopleId=e,this.onChatWithProfile(e))},onPageUserClick(e){o.default.openExternal(e)},onLoadMoreStatistics(e){this.page>1?this.loadStatistics(e,!0):e&&e.complete()}}};t.default=_},a83d:function(e,t,a){"use strict";a.r(t);var i=a("2e2a"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},aaf9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=_;var i=a("7a23");const n={class:"c-campaigns-index o-layout o-layout--flex"},c={class:"c-campaigns-index__container o-layout__columns o-table"},o=(0,i.createElementVNode)("div",null,null,-1),s=(0,i.createElementVNode)("div",null,null,-1),l={key:1,class:"c-campaigns-index__templates-wrapper"},r={key:0,class:"c-campaigns-index__templates-loading"},p={key:1,class:"c-campaigns-index__templates-items"},m={key:2,class:"c-campaigns-index__templates-empty"},d={key:0,class:"c-campaigns-index__configure"},g={class:"c-campaigns-index__configure-inner"};function _(e,t,a,_,u,f){const h=(0,i.resolveComponent)("secondary-menu"),b=(0,i.resolveComponent)("base-button"),x=(0,i.resolveComponent)("base-header"),y=(0,i.resolveComponent)("campaign-table-section"),C=(0,i.resolveComponent)("campaign-table-item"),v=(0,i.resolveComponent)("base-spinner"),k=(0,i.resolveComponent)("vue-infinite-loading"),E=(0,i.resolveComponent)("base-empty-spot"),w=(0,i.resolveComponent)("common-table"),I=(0,i.resolveComponent)("campaign-template"),T=(0,i.resolveComponent)("router-view"),N=(0,i.resolveComponent)("configure-email-domain"),A=(0,i.resolveComponent)("dispatch-campaign"),P=(0,i.resolveComponent)("duplicate-campaigns"),S=(0,i.resolveComponent)("duplicate-templates"),O=(0,i.resolveComponent)("edit-campaign-name"),M=(0,i.resolveComponent)("edit-campaign-tag"),D=(0,i.resolveComponent)("new-campaign"),V=(0,i.resolveComponent)("new-template"),B=(0,i.resolveComponent)("remove-campaigns"),$=(0,i.resolveComponent)("remove-templates");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createVNode)(h,{class:"c-campaigns-index__menu js-menu",lists:f.lists,locked:f.loading},null,8,["lists","locked"]),(0,i.createElementVNode)("div",c,[(0,i.createVNode)(x,{class:"c-campaigns-index__header",onSearch:f.onSearch,"search-loading":u.searching,"search-disabled":f.loading&&!u.searching,"search-value":u.query.search_name,title:f.title,icon:"email",search:""},{buttons:(0,i.withCtx)(()=>[(0,i.createVNode)(b,{class:"c-campaigns-index__action c-campaigns-index__action--minimized c-campaigns-index__action--minimized-early",onClick:f.onViewDocumentation,id:"view_helpdesk",color:"blue","left-icon":"help",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.DOCUMENTATION")),1)]),_:1},8,["onClick"]),"campaigns"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(b,{key:0,class:"c-campaigns-index__action c-campaigns-index__action--minimized",onClick:t[0]||(t[0]=e=>f.onDisplayPopup("newCampaign",!0)),color:"black","left-icon":"add_circle",size:"small",id:"new_campaign"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.NEW_CAMPAIGN")),1)]),_:1})):"templates"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(b,{key:1,class:"c-campaigns-index__action c-campaigns-index__action--minimized",onClick:t[1]||(t[1]=e=>f.onDisplayPopup("newTemplate",!0)),color:"black","left-icon":"add_circle",size:"small",id:"new_template"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.NEW_TEMPLATE")),1)]),_:1})):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(b,{class:"c-campaigns-index__action",onItemClick:f.onItemClick,items:f.buttonItems,color:"white","left-icon":"add_circle",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.CONTROLS_ACTIONS")),1)]),_:1},8,["onItemClick","items"])]),_:1},8,["onSearch","search-loading","search-disabled","search-value","title"]),"campaigns"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(w,{key:0,class:"c-campaigns-index__table","data-by-section":f.campaignsByType,fields:u.table.fields,initialized:u.initialized,"key-field":"campaign_id"},(0,i.createSlots)({"section-item":(0,i.withCtx)(({sectionItem:e})=>[(0,i.createVNode)(y,{section:e},null,8,["section"])]),item:(0,i.withCtx)(({item:e,index:t})=>[(0,i.createVNode)(C,{onCheck:f.onCampaignCheckboxChange,onDispatch:f.onCampaignDispatchConfirm,onConfigure:f.onCampaignConfigure,onEditName:f.onCampaignEditName,onEditTag:f.onCampaignEditTag,active:-1!==u.selected.campaigns.indexOf(e.campaign_id),campaign:e,fields:u.table.fields},null,8,["onCheck","onDispatch","onConfigure","onEditName","onEditTag","active","campaign","fields"])]),empty:(0,i.withCtx)(()=>[(0,i.createVNode)(E,{description:f.emptySpotDescription,title:f.emptySpotTitle,illustration:"campaign"},{buttons:(0,i.withCtx)(()=>[u.query.search_name?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(b,{key:0,onClick:t[2]||(t[2]=e=>f.onDisplayPopup("newCampaign",!0)),"left-icon":"add_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.NEW_CAMPAIGN")),1)]),_:1}))]),_:1},8,["description","title"])]),_:2},[u.page>=1?{name:"infinite-loading",fn:(0,i.withCtx)(()=>[(0,i.createVNode)(k,{class:"o-table__infinite",onInfinite:f.onLoadMoreCampaigns},{spinner:(0,i.withCtx)(()=>[(0,i.createVNode)(v,{class:"o-table__spinner",size:"18px","border-width":"2px"})]),"no-more":(0,i.withCtx)(()=>[o]),"no-results":(0,i.withCtx)(()=>[s]),_:1},8,["onInfinite"])])}:void 0]),1032,["data-by-section","fields","initialized"])):"templates"===u.itemType?((0,i.openBlock)(),(0,i.createElementBlock)("div",l,[u.templatesLoading?((0,i.openBlock)(),(0,i.createElementBlock)("div",r,[(0,i.createVNode)(v)])):f.templates.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",p,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(f.templates,e=>((0,i.openBlock)(),(0,i.createBlock)(I,{onClick:f.onTemplateClick,onCheck:f.onTemplateCheckboxChange,active:-1!==u.selected.templates.indexOf(e.template_id),id:e.template_id,type:e.type,format:e.format,name:e.name,content:e.content,key:e.template_id,clickable:"",selectable:""},null,8,["onClick","onCheck","active","id","type","format","name","content"]))),128))])):((0,i.openBlock)(),(0,i.createElementBlock)("div",m,[(0,i.createVNode)(E,{description:f.emptySpotDescription,title:f.emptySpotTitle,illustration:"campaign"},null,8,["description","title"])]))])):(0,i.createCommentVNode)("",!0)]),["app.website.campaigns.configure","app.website.campaigns.recipients","app.website.campaigns.flow","app.website.campaigns.templates","app.website.campaigns.editor","app.website.campaigns.analytics","app.website.campaigns.template"].includes(e.$route.name)?((0,i.openBlock)(),(0,i.createElementBlock)("div",d,[(0,i.createElementVNode)("div",g,[(0,i.createVNode)(T,{onExit:f.onExit},null,8,["onExit"])])])):(0,i.createCommentVNode)("",!0),u.popups.configureEmailDomain.visible?((0,i.openBlock)(),(0,i.createBlock)(N,{key:1})):(0,i.createCommentVNode)("",!0),u.popups.dispatchCampaign.visible?((0,i.openBlock)(),(0,i.createBlock)(A,{key:2,onClose:t[3]||(t[3]=e=>u.popups.dispatchCampaign.visible=!1),onDomainNotConfigured:t[4]||(t[4]=e=>u.popups.configureEmailDomain.visible=!0),"campaign-id":u.popups.dispatchCampaign.campaignId,type:u.popups.dispatchCampaign.type},null,8,["campaign-id","type"])):(0,i.createCommentVNode)("",!0),u.popups.duplicateCampaigns.visible?((0,i.openBlock)(),(0,i.createBlock)(P,{key:3,onClose:t[5]||(t[5]=e=>f.onDisplayPopup("duplicateCampaigns",!1)),onDuplicate:f.onDuplicateCampaigns,count:u.popups.duplicateCampaigns.count},null,8,["onDuplicate","count"])):(0,i.createCommentVNode)("",!0),u.popups.duplicateTemplates.visible?((0,i.openBlock)(),(0,i.createBlock)(S,{key:4,onClose:t[6]||(t[6]=e=>f.onDisplayPopup("duplicateTemplates",!1)),onDuplicate:f.onDuplicateTemplates,count:u.popups.duplicateTemplates.count},null,8,["onDuplicate","count"])):(0,i.createCommentVNode)("",!0),u.popups.editName.visible?((0,i.openBlock)(),(0,i.createBlock)(O,{key:5,onClose:t[7]||(t[7]=e=>f.onDisplayPopup("editName",!1)),onEdit:f.onCampaignEditNameProceed,"campaign-id":u.popups.editName.campaignId,value:u.popups.editName.name},null,8,["onEdit","campaign-id","value"])):(0,i.createCommentVNode)("",!0),u.popups.editTag.visible?((0,i.openBlock)(),(0,i.createBlock)(M,{key:6,onClose:t[8]||(t[8]=e=>f.onDisplayPopup("editTag",!1)),onEdit:f.onCampaignEditTagProceed,"campaign-id":u.popups.editTag.campaignId,value:u.popups.editTag.tag},null,8,["onEdit","campaign-id","value"])):(0,i.createCommentVNode)("",!0),u.popups.newCampaign.visible?((0,i.openBlock)(),(0,i.createBlock)(D,{key:7,onClose:t[9]||(t[9]=e=>f.onDisplayPopup("newCampaign",!1))})):(0,i.createCommentVNode)("",!0),u.popups.newTemplate.visible?((0,i.openBlock)(),(0,i.createBlock)(V,{key:8,onClose:t[10]||(t[10]=e=>f.onDisplayPopup("newTemplate",!1))})):(0,i.createCommentVNode)("",!0),u.popups.removeCampaigns.visible?((0,i.openBlock)(),(0,i.createBlock)(B,{key:9,onClose:t[11]||(t[11]=e=>f.onDisplayPopup("removeCampaigns",!1)),onRemove:f.onRemoveCampaigns},null,8,["onRemove"])):(0,i.createCommentVNode)("",!0),u.popups.removeTemplates.visible?((0,i.openBlock)(),(0,i.createBlock)($,{key:10,onClose:t[12]||(t[12]=e=>f.onDisplayPopup("removeTemplates",!1)),onRemove:f.onRemoveTemplates},null,8,["onRemove"])):(0,i.createCommentVNode)("",!0)])}},ac34:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=p;var i=a("7a23");const n={class:"c-campaigns-flow"},c={class:"o-page__header o-page__header--with-breadcrumb"},o={class:"c-campaigns-flow__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},s={class:"c-campaigns-flow__inner"},l={class:"c-campaigns-flow__notice"},r={class:"c-campaigns-flow__notice"};function p(e,t,a,p,m,d){const g=(0,i.resolveComponent)("base-breadcrumb"),_=(0,i.resolveComponent)("field-input"),u=(0,i.resolveComponent)("base-link"),f=(0,i.resolveComponent)("base-information"),h=(0,i.resolveComponent)("campaign-condition"),b=(0,i.resolveComponent)("segmentation-box"),x=(0,i.resolveComponent)("field-toggle"),y=(0,i.resolveComponent)("base-button"),C=(0,i.resolveComponent)("base-navigation");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createElementVNode)("div",c,[(0,i.createVNode)(g,{class:"o-page__breadcrumb",onClick:e.onBreadcrumbItemClick,items:e.breadcrumb.items,title:e.$t("CAMPAIGNS.FLOW.TITLE")},null,8,["onClick","items","title"])]),(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",s,[(0,i.createVNode)(h,{class:"c-campaigns-flow__condition",locked:m.loading,title:e.$t("CAMPAIGNS.FLOW.PART_1_TITLE"),number:"1",overflow:"visible"},{default:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{class:"c-campaigns-flow__field",modelValue:d.launchEvent,"onUpdate:modelValue":t[0]||(t[0]=e=>d.launchEvent=e),label:e.$t("CAMPAIGNS.FLOW.PART_1_FORM_FIELD_EVENT_LABEL"),placeholder:e.$t("CAMPAIGNS.FLOW.PART_1_FORM_FIELD_EVENT_PLACEHOLDER"),suggestions:d.suggestions,"suggestion-type":"event",direction:"horizontal",name:"launchEvent",autocompletion:""},null,8,["modelValue","label","placeholder","suggestions"]),(0,i.createVNode)(f,{class:"c-campaigns-flow__information u-mt30"},{default:(0,i.withCtx)(()=>[(0,i.createElementVNode)("b",null,(0,i.toDisplayString)(e.$t("CAMPAIGNS.FLOW.PART_1_FORM_NOTICE_1")),1),(0,i.createElementVNode)("span",null,(0,i.toDisplayString)(e.$t("CAMPAIGNS.FLOW.PART_1_FORM_NOTICE_2")),1),(0,i.createVNode)(u,{class:"c-campaigns-flow__link c-campaigns-flow__notice",href:e.$CONFIG.CRISP_URL_HELP+"/en/article/1ht44u5/"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.FLOW.FORM_NOTICE_DOCS")),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["locked","title"]),(0,i.createVNode)(h,{class:"c-campaigns-flow__condition",disabled:!d.launchEvent,locked:m.loading,title:e.$t("CAMPAIGNS.FLOW.PART_2_TITLE"),number:"2"},{default:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{class:"c-campaigns-flow__field",modelValue:d.assertDelay,"onUpdate:modelValue":t[1]||(t[1]=e=>d.assertDelay=e),label:e.$t("CAMPAIGNS.FLOW.PART_2_FORM_FIELD_DELAY_LABEL"),max:133920,min:0,direction:"horizontal",name:"assertDelay",type:"number"},null,8,["modelValue","label"]),(0,i.createVNode)(b,{class:"c-campaigns-flow__segmentation",modelValue:d.assertFilter,"onUpdate:modelValue":t[2]||(t[2]=e=>d.assertFilter=e),center:0===d.assertFilter.length,"has-create":!1,"most-used":!1,theme:"light",type:"people",override:""},null,8,["modelValue","center"]),(0,i.createVNode)(f,{class:"c-campaigns-flow__information u-mt30"},{default:(0,i.withCtx)(()=>[(0,i.createElementVNode)("span",null,(0,i.toDisplayString)(e.$t("CAMPAIGNS.FLOW.PART_2_FORM_NOTICE_1")),1),(0,i.createElementVNode)("b",l,(0,i.toDisplayString)(e.$t("CAMPAIGNS.FLOW.PART_2_FORM_NOTICE_2")),1),(0,i.createElementVNode)("span",r,(0,i.toDisplayString)(e.$t("CAMPAIGNS.FLOW.PART_2_FORM_NOTICE_3")),1),(0,i.createVNode)(u,{class:"c-campaigns-flow__link c-campaigns-flow__notice",href:e.$CONFIG.CRISP_URL_HELP+"/en/article/1ht44u5/"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.FLOW.FORM_NOTICE_DOCS")),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["disabled","locked","title"]),(0,i.createVNode)(h,{class:"c-campaigns-flow__condition",disabled:!d.launchEvent,locked:m.loading,title:e.$t("CAMPAIGNS.FLOW.PART_3_TITLE"),number:"3"},{default:(0,i.withCtx)(()=>[(0,i.createVNode)(x,{class:"c-campaigns-flow__field",modelValue:d.deliverOnce,"onUpdate:modelValue":t[3]||(t[3]=e=>d.deliverOnce=e),label:e.$t("CAMPAIGNS.FLOW.PART_3_FORM_FIELD_ONCE_LABEL"),name:"deliverOnce",type:"number"},null,8,["modelValue","label"]),(0,i.createVNode)(_,{class:"c-campaigns-flow__field",modelValue:d.deliverDelay,"onUpdate:modelValue":t[4]||(t[4]=e=>d.deliverDelay=e),label:e.$t("CAMPAIGNS.FLOW.PART_3_FORM_FIELD_DELAY_LABEL"),max:133920,min:0,direction:"horizontal",name:"deliverDelay",type:"number"},null,8,["modelValue","label"])]),_:1},8,["disabled","locked","title"]),(0,i.createVNode)(h,{class:"c-campaigns-flow__condition",disabled:!d.launchEvent,locked:m.loading,"show-arrow":!1,title:e.$t("CAMPAIGNS.FLOW.PART_4_TITLE"),success:""},null,8,["disabled","locked","title"])]),(0,i.createVNode)(C,{class:"c-campaigns-flow__footer o-page__footer","has-divider":!1},{left:(0,i.withCtx)(()=>[(0,i.createVNode)(y,{onClick:d.onBack,"left-icon":"chevron_left",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.BACK")),1)]),_:1},8,["onClick"])]),right:(0,i.withCtx)(()=>[(0,i.createVNode)(y,{onClick:d.onSaveFlow,disabled:!d.launchEvent,loading:m.loading,"right-icon":"chevron_right"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.COMMON.NEXT")),1)]),_:1},8,["onClick","disabled","loading"])]),_:1})])])}},acf3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=E;var i=a("7a23");const n={key:0,class:"c-campaign-template__options"},c={class:"c-campaign-template__options-avatar"},o={class:"c-campaign-template__options-information"},s={class:"c-campaign-template__options-information-top"},l={class:"c-campaign-template__options-information-sender u-semibold u-ellipsis"},r=(0,i.createElementVNode)("div",{class:"c-campaign-template__options-information-date u-regular"},"13:37",-1),p={class:"c-campaign-template__options-information-subject u-ellipsis"},m={class:"c-campaign-template__options-information-to"},d={class:"c-campaign-template__options-information-to-prefix"},g={class:"c-campaign-template__options-information-to-suffix u-ellipsis"},_={key:0,class:"c-campaign-template__options-information-to"},u={class:"c-campaign-template__options-information-to-prefix"},f={class:"c-campaign-template__options-information-to-suffix u-ellipsis"},h={key:1,class:"c-campaign-template__loader"},b={key:2,class:"c-campaign-template__wrapper"},x=["scrolling"],y=["innerHTML"],C={key:3,class:"c-campaign-template__details"},v={class:"c-campaign-template__identity"},k={class:"c-campaign-template__name u-ellipsis"};function E(e,t,a,E,w,I){const T=(0,i.resolveComponent)("base-icon"),N=(0,i.resolveComponent)("base-spinner"),A=(0,i.resolveComponent)("field-checkbox"),P=(0,i.resolveComponent)("base-tag"),S=(0,i.resolveComponent)("base-button"),O=(0,i.resolveComponent)("replace-template"),M=(0,i.resolveDirective)("observe-visibility");return(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("div",{onClick:t[3]||(t[3]=(...e)=>I.onClick&&I.onClick(...e)),class:(0,i.normalizeClass)(["c-campaign-template","c-campaign-template--"+I.renderType,{"c-campaign-template--active":a.active,"c-campaign-template--clickable":a.clickable,"c-campaign-template--details":a.hasDetails,"c-campaign-template--options":a.hasOptions,"c-campaign-template--with-action":a.actionLabel}])},[a.hasOptions?((0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createElementVNode)("div",c,(0,i.toDisplayString)(a.sender[0]),1),(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",s,[(0,i.createElementVNode)("div",l,(0,i.toDisplayString)(a.sender),1),r]),(0,i.createElementVNode)("div",p,(0,i.toDisplayString)(a.subject),1),(0,i.createElementVNode)("div",m,[(0,i.createElementVNode)("div",d,(0,i.toDisplayString)(e.$t("CAMPAIGNS.TEMPLATES.PREVIEW_OPTIONS_TO_LABEL")),1),(0,i.createElementVNode)("div",g,(0,i.toDisplayString)(e.$t("CAMPAIGNS.TEMPLATES.PREVIEW_OPTIONS_TO_VALUE")),1)]),a.replyTo?((0,i.openBlock)(),(0,i.createElementBlock)("div",_,[(0,i.createElementVNode)("div",u,(0,i.toDisplayString)(e.$t("CAMPAIGNS.TEMPLATES.PREVIEW_OPTIONS_REPLY_TO_LABEL")),1),(0,i.createElementVNode)("div",f,(0,i.toDisplayString)(a.replyTo),1)])):(0,i.createCommentVNode)("",!0)])])):(0,i.createCommentVNode)("",!0),w.templateLoading||w.templateError?((0,i.openBlock)(),(0,i.createElementBlock)("div",h,[w.templateError?((0,i.openBlock)(),(0,i.createBlock)(T,{key:0,class:"c-campaign-template__loader-item c-campaign-template__loader-error",name:"error",size:"22px"})):((0,i.openBlock)(),(0,i.createBlock)(N,{key:1,class:"c-campaign-template__loader-item",size:"12px","border-width":"1px",color:"#a8c6df"}))])):((0,i.openBlock)(),(0,i.createElementBlock)("div",b,["frame"===I.renderType?((0,i.openBlock)(),(0,i.createElementBlock)("iframe",{key:0,class:"c-campaign-template__renderer",scrolling:a.scrolling,frameBorder:"0",sandbox:"allow-same-origin",ref:"frame"},null,8,x)):((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:1,class:"c-campaign-template__renderer",innerHTML:w.renderedInlineHtml},null,8,y))])),a.hasDetails?((0,i.openBlock)(),(0,i.createElementBlock)("div",C,[a.selectable?((0,i.openBlock)(),(0,i.createBlock)(A,{key:0,class:"c-campaign-template__checkbox",modelValue:a.active,"onUpdate:modelValue":t[0]||(t[0]=e=>a.active=e),onChange:I.onCheckboxChange,onClick:t[1]||(t[1]=e=>e.stopPropagation()),name:a.id,size:"medium"},null,8,["modelValue","onChange","name"])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("span",v,[(0,i.createElementVNode)("span",k,(0,i.toDisplayString)(a.name),1),I.formatLabelText?((0,i.openBlock)(),(0,i.createBlock)(P,{key:0,class:"c-campaign-template__label",truncated:!1,label:I.formatLabelText,color:I.formatLabelColor,size:"mini",filled:""},null,8,["label","color"])):(0,i.createCommentVNode)("",!0),I.typeLabelText?((0,i.openBlock)(),(0,i.createBlock)(P,{key:1,class:"c-campaign-template__label c-campaign-template__label--sibling",truncated:!1,label:I.typeLabelText,color:I.typeLabelColor,size:"mini",filled:""},null,8,["label","color"])):(0,i.createCommentVNode)("",!0)]),a.actionLabel?((0,i.openBlock)(),(0,i.createBlock)(S,{key:1,onClick:I.onActionClick,loading:w.actionLoading,color:a.actionColor,reverse:a.actionReverse,"left-icon":"book",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(a.actionLabel),1)]),_:1},8,["onClick","loading","color","reverse"])):(0,i.createCommentVNode)("",!0)])):(0,i.createCommentVNode)("",!0),w.popups.replaceTemplate.visible?((0,i.openBlock)(),(0,i.createBlock)(O,{key:4,onClose:t[2]||(t[2]=e=>{w.popups.replaceTemplate.visible=!1}),onReplace:I.onReplaceTemplateConfirm},null,8,["onReplace"])):(0,i.createCommentVNode)("",!0)],2)),[[M,{callback:I.onVisibilityChanged}]])}},ad2c8:function(e,t,a){"use strict";a.r(t);var i=a("8703"),n=a("99fb");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);n["default"].render=i["render"],t["default"]=n["default"]},adca:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("base-headlines"),l=(0,i.resolveComponent)("base-button"),r=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(r,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:o.onRemoveCampaigns,parent:"campaigns"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(l,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(l,{onClick:o.onRemoveCampaigns,loading:c.loading,color:"red","left-icon":"delete"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_REMOVE_CAMPAIGNS_PROCEED")),1)]),_:1},8,["onClick","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(s,{class:"u-mb20",title:e.$t("CAMPAIGNS.DEFAULT.POPUPS_REMOVE_CAMPAIGNS_TITLE"),description:e.$t("CAMPAIGNS.DEFAULT.POPUPS_REMOVE_CAMPAIGNS_NOTICE")},null,8,["title","description"])]),_:1},8,["onEnter"])}},adea:function(e,t,a){"use strict";a.r(t);var i=a("25c7"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},af61:function(e,t,a){"use strict";a("271ae")},b00c7:function(e,t,a){"use strict";var i=a("8021");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},b06b:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.c-items-selector{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-items-selector .c-items-selector__initializing{padding:20px 0;-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.c-items-selector .c-items-selector__search{margin-bottom:12px}.c-items-selector .c-items-selector__items{overflow-x:hidden;overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1;height:250px;border:1px solid #e3e8ef;border-radius:2px}.c-items-selector .c-items-selector__items:after{display:block;height:18px;content:""}.c-items-selector .c-items-selector__items .c-items-selector__item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:14px;border-bottom:1px solid #e3e8ef;-webkit-transition:background-color .1s linear;transition:background-color .1s linear;cursor:pointer}.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__avatar,.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__checkbox{margin-right:14px}.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__name{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__name .c-items-selector__nickname{margin-bottom:2px;font-weight:700;font-size:14px}.c-items-selector .c-items-selector__items .c-items-selector__item .c-items-selector__name .c-items-selector__email{color:#75869c;font-size:13px}.c-items-selector .c-items-selector__items .c-items-selector__item--disabled{pointer-events:none}.c-items-selector .c-items-selector__items .c-items-selector__item:hover{background-color:#fafbfc}.c-items-selector .c-items-selector__items .c-items-selector__item:active{background-color:#f4f6f8}',""]),e.exports=t},b0cb:function(e,t,a){"use strict";a.r(t);var i=a("cb10"),n=a("4b39");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);n["default"].render=i["render"],t["default"]=n["default"]},b0fb:function(e,t,a){"use strict";var i=a("1e5b");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},b1b5:function(e,t,a){"use strict";a.r(t);var i=a("5178"),n=a("b364");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);n["default"].render=i["render"],t["default"]=n["default"]},b1ce:function(e,t,a){"use strict";a("c9e7")},b364:function(e,t,a){"use strict";a.r(t);var i=a("f523"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},b3a3:function(e,t,a){var i=a("e45d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("6d4b8cb1",i,!0,{sourceMap:!1,shadowMode:!1})},b521:function(e,t,a){"use strict";a.r(t);var i=a("e3d6"),n=a("bc788");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("b1ce");n["default"].render=i["render"],t["default"]=n["default"]},b5fe:function(e,t,a){var i=a("958e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("09873442",i,!0,{sourceMap:!1,shadowMode:!1})},b7e6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("field-input"),l=(0,i.resolveComponent)("field-select"),r=(0,i.resolveComponent)("base-button"),p=(0,i.resolveComponent)("base-popup"),m=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(m,{as:""},{default:(0,i.withCtx)(({meta:a})=>[(0,i.createVNode)(p,{class:"c-new-template",onClose:t[3]||(t[3]=t=>e.$emit("close")),onEnter:e=>o.onSaveTemplate(!a.valid),parent:"inbox"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{onClick:t[2]||(t[2]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(r,{onClick:e=>o.onSaveTemplate(!a.valid),disabled:!a.valid,loading:c.loading,"left-icon":"add_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("POPUPS.NEW_TEMPLATE.PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(s,{class:"u-mb20",modelValue:c.name,"onUpdate:modelValue":t[0]||(t[0]=e=>c.name=e),disabled:c.loading,label:e.$t("POPUPS.NEW_TEMPLATE.NAME_LABEL"),placeholder:e.$t("POPUPS.NEW_TEMPLATE.NAME_PLACEHOLDER"),name:"name",rules:"required",size:"medium",autofocus:""},null,8,["modelValue","disabled","label","placeholder"]),(0,i.createVNode)(l,{class:"u-mb20",modelValue:c.format,"onUpdate:modelValue":t[1]||(t[1]=e=>c.format=e),label:e.$t("POPUPS.NEW_TEMPLATE.FORMAT_LABEL"),options:c.formatOptions,disabled:c.loading,placeholder:"",name:"format",size:"medium"},null,8,["modelValue","label","options","disabled"])]),_:2},1032,["onEnter"])]),_:1})}},bb44:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("base-headlines"),l=(0,i.resolveComponent)("base-button"),r=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(r,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:t[3]||(t[3]=t=>e.$emit("replace")),parent:"campaigns"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(l,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(l,{onClick:t[1]||(t[1]=t=>e.$emit("replace")),color:"red","left-icon":"warning"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_REPLACE_TEMPLATE_PROCEED")),1)]),_:1})]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(s,{class:"u-mb-20",title:e.$t("CAMPAIGNS.DEFAULT.POPUPS_REPLACE_TEMPLATE_TITLE"),description:e.$t("CAMPAIGNS.DEFAULT.POPUPS_REPLACE_TEMPLATE_NOTICE")},null,8,["title","description"])]),_:1})}},bc788:function(e,t,a){"use strict";a.r(t);var i=a("76db"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},bcbb:function(e,t,a){"use strict";a.r(t);var i=a("b0fb"),n=a("d4b1");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("af61");n["default"].render=i["render"],t["default"]=n["default"]},be56:function(e,t,a){"use strict";a.r(t);var i=a("086b"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},bfce:function(e,t,a){"use strict";a.r(t);var i=a("f8c1"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},bffc:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-new-campaign .c-new-campaign__illustration--automated,.c-new-campaign .c-new-campaign__illustration--one-shot{position:absolute}.c-new-campaign .c-new-campaign__illustration--one-shot{height:105px;top:-19px}.c-new-campaign .c-new-campaign__illustration--automated{height:120px;top:-32px}.c-new-campaign .c-new-campaign__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.c-new-campaign .c-new-campaign__actions .c-new-campaign__action{margin:0 auto}",""]),e.exports=t},c10d:function(e,t,a){"use strict";var i=a("de6c");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},c4f6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("99b1"));function n(e){return e&&e.__esModule?e:{default:e}}var c={created(){this.bindEventHandlers()},methods:{bindEventHandlers(){i.default.bindHandlers(this.onCampaignDispatched,this.onCampaignProgress,this.onCampaignRunning)},onCampaignDispatched(e,t){this.$store.commit("campaigns/updateCampaignKey",{campaignId:t,key:"dispatched",value:!0})},onCampaignProgress(e,t,a){this.$store.commit("campaigns/updateCampaignKey",{campaignId:t,key:"progress",value:a})},onCampaignRunning(e,t,a){this.$store.commit("campaigns/updateCampaignKey",{campaignId:t,key:"running",value:a})}}};t.default=c},c589:function(e,t,a){"use strict";a.r(t);var i=a("979b"),n=a("186a");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);n["default"].render=i["render"],t["default"]=n["default"]},c63b:function(e,t,a){"use strict";a("7a90")},c684:function(e,t,a){"use strict";var i=a("d5ff");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},c8c2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={emits:["exit"],data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,loading:!1,destroyed:!1,fnRequestChildClose:null}},created(){"templates"===this.$route.params.filterType?this.$router.replace({name:"app.website.campaigns.template",params:{websiteId:this.websiteId,templateId:this.campaignId}}).catch(()=>{}):this.loadAndGoToCampaign()},unmounted(){this.destroyed=!0},methods:{onRequestClose(){"function"===typeof this.fnRequestChildClose?this.fnRequestChildClose():this.onExit()},onReceiverCloseRequest(e){this.fnRequestChildClose=e||null},onExit(){this.$emit("exit")},loadAndGoToCampaign(){!0!==this.loading&&(this.loading=!0,this.$store.dispatch("campaigns/acquireCampaign",{websiteId:this.websiteId,campaignId:this.campaignId}).then(e=>{if(!0!==this.destroyed&&"app.website.campaigns.configure"===this.$route.name)if(e.dispatched){let t="app.website.campaigns.editor";"one-shot"===e.type&&e.options&&!0===e.options.tracking&&(t="app.website.campaigns.analytics"),this.$router.replace({name:t,params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{})}else if(e.message)this.$router.replace({name:"app.website.campaigns.editor",params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{});else{let t="automated"===e.type?"app.website.campaigns.flow":"app.website.campaigns.recipients";this.$router.replace({name:t,params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{})}this.loading=!1}).catch(()=>{this.onExit()}))}}};t.default=i},c9e7:function(e,t,a){var i=a("eadb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("01977758",i,!0,{sourceMap:!1,shadowMode:!1})},ca9a:function(e,t,a){"use strict";a("79f0")},cad2:function(e,t,a){"use strict";var i=a("bb44");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},cb10:function(e,t,a){"use strict";var i=a("0f69");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},cb73:function(e,t,a){"use strict";a("85b5")},cda7:function(e,t,a){"use strict";var i=a("b7e6");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},d09f:function(e,t,a){var i=a("bffc");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("637e572e",i,!0,{sourceMap:!1,shadowMode:!1})},d10e:function(e,t,a){"use strict";var i=a("aaf9");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},d22d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(a("f7fe")),n=c(a("6a84"));function c(e){return e&&e.__esModule?e:{default:e}}const o=500;var s={data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,initialized:!1,contactsLoading:!1,page:1,searchFilter:null,searchLoading:!1,searchText:"",selectedRows:[],sortField:"active",sortOrder:"descending"}},computed:{profiles(){return this.$store.getters["contacts/getProfiles"]}},methods:{increasePageCount(e){this.page=e?null:this.page+1},loadContacts(e){return this.contactsLoading=!0,e||(this.initialized=!1),this.$store.dispatch("contacts/acquireProfiles",{page:this.page,searchFilter:this.searchFilter,searchText:this.searchText,sortField:this.sortField,sortOrder:this.sortOrder,websiteId:this.websiteId}).then(t=>(this.increasePageCount(t),this.contactsLoading=!1,t&&e?e.complete():e?e.loaded():this.initialized=!0,Promise.resolve())).catch(t=>{425===t.status&&(e&&e.complete(),this.searchFilter&&this.searchFilter.length>0&&n.default.warning("filter_is_too_complex"),this.initialized=!0),this.contactsLoading=!1})},onLoadMoreContacts(e){this.page?!this.contactsLoading&&this.page>1&&this.loadContacts(e):e.complete()},onSearch:(0,i.default)((function(e){this.searchLoading||(this.page=1,this.searchFilter=null,this.searchLoading=!0,this.searchText=e,this.loadContacts().then(()=>{this.searchLoading=!1}),"app.website.contacts.index"===this.$route.name&&(e?this.$router.push({name:"app.website.contacts.index",params:{websiteId:this.websiteId},query:{query:e}}).catch(()=>{}):this.$router.push({name:"app.website.contacts.index",params:{websiteId:this.websiteId}}).catch(()=>{})))}),o),onSortColumn(e,t){this.page=1,this.sortField=e,this.sortOrder=t,this.loadContacts()}}};t.default=s},d266:function(e,t,a){"use strict";a.r(t);var i=a("09d4"),n=a("be56");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("2abd");n["default"].render=i["render"],t["default"]=n["default"]},d3aa:function(e,t,a){"use strict";a("413c")},d3af:function(e,t,a){"use strict";var i=a("54be");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},d3bd:function(e,t,a){(function(a){var i,n;(function(c){let o;function s(e,t){const a=e.charCodeAt(t);if(isNaN(a))throw new RangeError("Index "+t+' out of range for string "'+e+'"; please open an issue at https://github.com/Trott/slug/issues/new');if(a<55296||a>57343)return[e.charAt(t),t];if(a>=55296&&a<=56319){if(e.length<=t+1)return[" ",t];const a=e.charCodeAt(t+1);return a<56320||a>57343?[" ",t]:[e.charAt(t)+e.charAt(t+1),t+1]}if(0===t)return[" ",t];const i=e.charCodeAt(t-1);if(i<55296||i>56319)return[" ",t];throw new Error('String "'+e+'" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new')}function l(e,t){let a=m(e,t);if(""===a){let i="";for(let t=0;t<e.length;t++){const a=s(e,t);t=a[1],i+=a[0]}a=m(o(i),t)}return a}o="undefined"!==typeof window?window.btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){const t=unescape(encodeURIComponent(e+""));let a="";for(let i,n,c=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.charAt(0|c)||(o="=",c%1);a+=o.charAt(63&i>>8-c%1*8)){if(n=t.charCodeAt(c+=3/4),n>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");i=i<<8|n}return a}:function(e){return a.from(e).toString("base64")},"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");const a=Object(e);for(let n=1;n<arguments.length;n++){const e=arguments[n];if(null!==e&&void 0!==e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i])}return a},writable:!0,configurable:!0});const r={bg:{"":"Y","":"y",X:"H",x:"h","":"Ts","":"ts","":"Sht","":"sht","":"A","":"a","":"Y","":"y"},de:{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue"},sr:{"":"dj","":"DJ"},uk:{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"}};let p={};function m(e,t){if("string"!==typeof e)throw new Error("slug() requires a string argument, received "+typeof e);"string"===typeof t&&(t={replacement:t}),t=t?Object.assign({},t):{},t.mode=t.mode||l.defaults.mode;const a=l.defaults.modes[t.mode],i=["replacement","multicharmap","charmap","remove","lower","trim"];for(let l,r=0,p=i.length;r<p;r++)l=i[r],t[l]=l in t?t[l]:a[l];const n=r[t.locale]||p;let c=[];for(let l in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,l))continue;const e=l.length;-1===c.indexOf(e)&&c.push(e)}c=c.sort((function(e,t){return t-e}));const o="rfc3986"===t.mode?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let s="";for(let l,r=0,p=e.length;r<p;r++){l=e[r];let a=!1;for(let i=0;i<c.length;i++){const n=c[i],o=e.substr(r,n);if(t.multicharmap[o]){r+=n-1,l=t.multicharmap[o],a=!0;break}}a||(l=n[l]?n[l]:t.charmap[l]?t.charmap[l].replace(t.replacement," "):l.includes(t.replacement)?l.replace(t.replacement," "):l.replace(o,"")),s+=l}return t.remove&&(s=s.replace(t.remove,"")),t.trim&&(s=s.trim()),s=s.replace(/\s+/g,t.replacement),t.lower&&(s=s.toLowerCase()),s}const d={"":"Fi","":"Ghi","":"Khi","":"Qi","":"ugDha","":"ugDhha","":"Yi","":"Za","":"i","":"e","":"e","":"e","":"a","":"a","":"o","":"o","":"u","":"u","":"b","":"k","":"k","":"p","":"sh","":"s","":"e","":"e","":"a","":"o","":"i"},g={"":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"OE","":"oe","":"u","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"SS","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"a","":"e","":"i","":"o","":"y","":"h","":"w","":"s","":"i","":"y","":"y","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"A","":"E","":"I","":"O","":"Y","":"H","":"W","":"I","":"Y","":"s","":"S","":"i","":"I","":"g","":"G","":"a","":"b","":"v","":"g","":"d","":"e","":"yo","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"A","":"B","":"V","":"G","":"D","":"E","":"Yo","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"Ye","":"I","":"Yi","":"G","":"ye","":"i","":"yi","":"g","":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z","":"l","":"l","":"r","":"L","":"L","":"R","":"a","":"c","":"e","":"l","":"n","":"s","":"z","":"z","":"A","":"C","":"E","":"L","":"N","":"S","":"Z","":"Z","":"a","":"e","":"g","":"i","":"k","":"l","":"n","":"u","":"A","":"E","":"G","":"I","":"K","":"L","":"N","":"U","":"a","":"i","":"b","":"t","":"th","":"g","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"d","":"t","":"th","":"aa","":"gh","":"f","":"k","":"k","":"l","":"m","":"n","":"h","":"o","":"y","":"aa","":"a","":"a","":"a","":"p","":"zh","":"g","":"ch","":"k","":"i","":"e","":"i","":"u","":"E","":"I","":"U","":"t","":"T","":"t","":"T","":"s","":"S","":"a","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"Y","":"Y","":"Y","":"Y","":"D","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"y","":"y","":"y","":"y","":"d","":"AE","":"ae","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"OE","":"oe","":"dj","":"j","":"lj","":"nj","":"c","":"dz","":"Dj","":"j","":"Lj","":"Nj","":"C","":"Dz","":"nj","":"lj","":"NJ","":"LJ","":"a","":"aa","":"e","":"ii","":"ei","":"ae","":"ai","":"i","":"o","":"oi","":"oii","":"uu","":"ou","":"u","":"B","":"Bha","":"Ca","":"Chha","":"Da","":"Dha","":"Fa","":"Ga","":"Gha","":"Ghi","":"Ha","":"Ja","":"Jha","":"Ka","":"Kha","":"Khi","":"L","":"Li","":"Li","":"Lii","":"Lii","":"Ma","":"Na","":"Na","":"Nia","":"Nae","":"Ni","":"oms","":"Pa","":"Qi","":"Ra","":"Ri","":"Ri","":"Ri","":"Sa","":"Sha","":"Shha","":"Ta","":"Ta","":"Tha","":"Tha","":"Tha","":"Thha","":"ugDha","":"ugDhha","":"Va","":"Ya","":"Yi","":"Za","":"e","":"E","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"p","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"v","":"g","":"g","":"d","":"d","":"h","":"v","":"z","":"h","":"t","":"y","":"kh","":"kh","":"l","":"m","":"m","":"n","":"n","":"s","":"f","":"f","":"ts","":"ts","":"k","":"r","":"t","":"t"};l.charmap=Object.assign({},g),l.multicharmap=Object.assign({},d),l.defaults={charmap:l.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:l.charmap,multicharmap:l.multicharmap,trim:!0},pretty:{replacement:"-",remove:null,lower:!0,charmap:l.charmap,multicharmap:l.multicharmap,trim:!0}},multicharmap:l.multicharmap},l.reset=function(){l.defaults.modes.rfc3986.charmap=l.defaults.modes.pretty.charmap=l.charmap=l.defaults.charmap=Object.assign({},g),l.defaults.modes.rfc3986.multicharmap=l.defaults.modes.pretty.multicharmap=l.multicharmap=l.defaults.multicharmap=Object.assign({},d),p=""},l.extend=function(e){const t=Object.keys(e),a={},i={};for(let n=0;n<t.length;n++)t[n].length>1?a[t[n]]=e[t[n]]:i[t[n]]=e[t[n]];Object.assign(l.charmap,i),Object.assign(l.multicharmap,a)},l.setLocale=function(e){p=r[e]||{}},i=[],n=function(){return l}.apply(t,i),void 0===n||(e.exports=n)})()}).call(this,a("1c35").Buffer)},d4b1:function(e,t,a){"use strict";a.r(t);var i=a("8096"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},d5e5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("7c4d"));function n(e){return e&&e.__esModule?e:{default:e}}var c={components:{ReplaceTemplate:i.default},props:{active:{type:Boolean,default:!1},actionColor:{type:String,default:"blue",validator(e){return-1!==["black","blue"].indexOf(e)}},actionLabel:{type:String,default:null},actionReverse:{type:Boolean,default:!1},campaignMessage:{type:String,default:""},clickable:{type:Boolean,default:!1},content:{type:String,default:null},type:{type:String,default:null,validator(e){return-1!==["static","custom"].indexOf(e)}},format:{type:String,required:!0,validator(e){return-1!==["markdown","html"].indexOf(e)}},hasDetails:{type:Boolean,default:!0},hasOptions:{type:Boolean,default:!1},id:{type:String,default:null},name:{type:String,default:null},selectable:{type:Boolean,default:!1},subject:{type:String,default:""},sender:{type:String,default:""},replyTo:{type:String,default:""},scrolling:{type:String,default:"no",validator(e){return-1!==["yes","no"].indexOf(e)}}},emits:["click","check","proceed"],data(){return{initialized:!1,templateLoading:!1,templateError:!1,actionLoading:!1,popups:{replaceTemplate:{visible:!1}},renderedInlineHtml:null,websiteId:this.$route.params.websiteId}},computed:{formatLabelText(){switch(this.format){case"html":return"HTML";case"markdown":return"MD";default:return null}},formatLabelColor(){switch(this.format){case"html":return"#7452d9";case"markdown":return"#327ced";default:return null}},typeLabelText(){switch(this.type){case"static":return"Crisp";default:return null}},typeLabelColor(){switch(this.type){case"static":return"#3f536e";default:return null}},templateContent(){return this.content?this.content:this.template&&this.template.content?this.template.content:""},renderType(){return"html"===this.format?"frame":"inline"},template(){let e=this.templates.find(e=>e.template_id===this.id);return e},templates(){return this.$store.getters["campaigns/getTemplates"]}},watch:{content:{handler(){this.templateContent&&this.setRenderContent(this.templateContent)}},"template.content":{handler(){this.templateContent&&!this.content&&this.setRenderContent(this.templateContent)}}},methods:{initializeTemplateContent(){!0!==this.initialized&&(this.initialized=!0,this.templateContent?this.setRenderContent(this.templateContent):(this.templateLoading=!0,this.$store.dispatch("campaigns/acquireTemplate",{websiteId:this.websiteId,templateId:this.id}).then(e=>{this.templateLoading=!1,this.setRenderContent(e.content)}).catch(()=>{this.templateLoading=!1,this.templateError=!0})))},setRenderContent(e=""){switch(this.renderType){case"inline":this.renderedInlineHtml=this.$filters.format.parseText(e);break;case"frame":this.$nextTick(()=>{let t=this.$refs.frame;if(t&&t.contentWindow){let a=t.contentWindow.document;a.open(),a.write(e),a.close()}});break}},emitProceed(){!0!==this.actionLoading&&(this.actionLoading=!0,this.$emit("proceed",this.id,()=>{this.actionLoading=!1}))},onVisibilityChanged(e=!1){!0===e&&this.initializeTemplateContent()},onActionClick(){(this.campaignMessage||"").trim()?this.popups.replaceTemplate.visible=!0:this.emitProceed()},onClick(){this.clickable&&this.$emit("click",this.id)},onCheckboxChange(e){this.selectable&&this.$emit("check",e,this.id)},onReplaceTemplateConfirm(){this.popups.replaceTemplate.visible=!1,this.emitProceed()}}};t.default=c},d5ff:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=I;var i=a("7a23");const n=(0,i.createElementVNode)("span",{class:"o-table__active"},null,-1),c=(0,i.createElementVNode)("span",{class:"c-contact-table-item__opened"},null,-1),o={class:"c-contact-table-item__custom c-contact-table-item__name"},s={key:0,class:"c-contact-table-item__nickname u-ellipsis"},l={key:1,class:"c-contact-table-item__email u-ellipsis"},r={class:"c-contact-table-item__custom c-contact-table-item__location"},p={key:0,class:"c-contact-table-item__city u-ellipsis"},m={key:1,class:"c-contact-table-item__country u-ellipsis"},d={key:2,class:"c-contact-table-item__unknown u-ellipsis"},g={class:"c-contact-table-item__custom c-contact-table-item__company u-has-tooltip"},_={key:0,class:"c-contact-table-item__details"},u={class:"c-contact-table-item__name u-ellipsis"},f={key:1,class:"c-contact-table-item__unknown u-ellipsis"},h={key:0,class:"c-contact-table-item__custom c-contact-table-item__segments u-has-tooltip"},b=(0,i.createElementVNode)("span",{class:"o-clear"},null,-1),x={key:1,class:"c-contact-table-item__unknown u-ellipsis"},y={class:"c-contact-table-item__custom c-contact-table-item__active u-has-tooltip"},C={key:0,class:"c-contact-table-item__now u-ellipsis"},v={key:1,class:"c-contact-table-item__since u-ellipsis"},k={key:2,class:"c-contact-table-item__last u-ellipsis"},E={key:3,class:"c-contact-table-item__unknown u-ellipsis"},w={class:"c-contact-table-item__custom c-contact-table-item__score"};function I(e,t,a,I,T,N){const A=(0,i.resolveComponent)("field-checkbox"),P=(0,i.resolveComponent)("base-avatar"),S=(0,i.resolveComponent)("base-flag"),O=(0,i.resolveComponent)("base-tooltip"),M=(0,i.resolveComponent)("base-link"),D=(0,i.resolveComponent)("base-tag"),V=(0,i.resolveComponent)("base-availability"),B=(0,i.resolveComponent)("base-rating"),$=(0,i.resolveComponent)("base-button");return(0,i.openBlock)(),(0,i.createElementBlock)("a",{onClick:t[5]||(t[5]=(0,i.withModifiers)((...e)=>N.onGoToProfile&&N.onGoToProfile(...e),["prevent","stop"])),class:(0,i.normalizeClass)(["c-contact-table-item","o-table__tr","o-table__tr--full-height",{"o-table__tr--active":a.active,"c-contact-table-item--opened":a.opened}])},[n,c,(0,i.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td o-table__td--center o-table__td--checkbox o-table__td--no-padding",onClick:t[2]||(t[2]=(0,i.withModifiers)(()=>{},["stop","prevent"])),style:(0,i.normalizeStyle)(e.getFieldStyle("checkbox"))},[(0,i.createVNode)(A,{class:"c-contact-table-item__custom c-contact-table-item__checkbox",modelValue:a.active,"onUpdate:modelValue":t[0]||(t[0]=e=>a.active=e),onChange:N.onCheckboxChange,onClick:t[1]||(t[1]=e=>e.stopPropagation()),name:a.contact.people_id,size:"medium"},null,8,["modelValue","onChange","name"])],4),(0,i.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td o-table__td--no-padding",style:(0,i.normalizeStyle)(e.getFieldStyle("avatar"))},[(0,i.createVNode)(P,{class:"c-contact-table-item__custom c-contact-table-item__avatar","avatar-url":a.contact.person&&a.contact.person.avatar,size:"small"},null,8,["avatar-url"])],4),(0,i.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("name"))},[(0,i.createElementVNode)("div",o,[a.contact.person&&a.contact.person.nickname?((0,i.openBlock)(),(0,i.createElementBlock)("span",s,(0,i.toDisplayString)(a.contact.person.nickname),1)):(0,i.createCommentVNode)("",!0),a.contact.email?((0,i.openBlock)(),(0,i.createElementBlock)("span",l,(0,i.toDisplayString)(a.contact.email),1)):(0,i.createCommentVNode)("",!0)])],4),(0,i.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("location"))},[(0,i.createElementVNode)("div",r,[N.geolocation&&N.geolocation.city?((0,i.openBlock)(),(0,i.createElementBlock)("span",p,(0,i.toDisplayString)(N.geolocation.city),1)):(0,i.createCommentVNode)("",!0),N.geolocation&&N.geolocation.country?((0,i.openBlock)(),(0,i.createElementBlock)("span",m,[(0,i.createVNode)(S,{class:"c-contact-table-item__flag",code:N.geolocation.country,height:"12px",width:"17px"},null,8,["code"]),(0,i.createTextVNode)((0,i.toDisplayString)(e.$filters.format.isoCountry(N.geolocation.country)),1)])):((0,i.openBlock)(),(0,i.createElementBlock)("span",d,(0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")),1))])],4),(0,i.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("company.name"))},[(0,i.createElementVNode)("div",g,[(0,i.createVNode)(O,{direction:"middle",align:"left"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_DEFAULT_COMPANY")),1)]),_:1}),a.contact.company&&a.contact.company.name?((0,i.openBlock)(),(0,i.createElementBlock)("span",_,[(0,i.createElementVNode)("span",u,(0,i.toDisplayString)(a.contact.company.name),1),a.contact.person&&a.contact.person.employment&&a.contact.person.employment.domain?((0,i.openBlock)(),(0,i.createBlock)(M,{key:0,class:"c-contact-table-item__domain u-ellipsis",href:"http://"+a.contact.person.employment.domain},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(a.contact.person.employment.domain),1)]),_:1},8,["href"])):(0,i.createCommentVNode)("",!0)])):((0,i.openBlock)(),(0,i.createElementBlock)("span",f,(0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")),1))])],4),(0,i.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("segments"))},[a.contact.segments&&a.contact.segments.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",h,[(0,i.createVNode)(O,{direction:"middle",align:"left"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_DEFAULT_SEGMENTS")),1)]),_:1}),((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(N.displayedSegments,e=>((0,i.openBlock)(),(0,i.createBlock)(D,{class:"c-contact-table-item__tag",key:e,label:e,palette:"segment"},null,8,["label"]))),128)),a.contact.segments.length>T.maxTags?((0,i.openBlock)(),(0,i.createElementBlock)("span",{key:0,class:"c-contact-table-item__more-segments",onClick:t[3]||(t[3]=(0,i.withModifiers)((...e)=>N.onGoToProfile&&N.onGoToProfile(...e),["prevent","stop"]))},(0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_MORE_SEGMENTS")),1)):(0,i.createCommentVNode)("",!0),b])):((0,i.openBlock)(),(0,i.createElementBlock)("div",x,(0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_NO_SEGMENTS")),1))],4),(0,i.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td o-table__td--bold",style:(0,i.normalizeStyle)(e.getFieldStyle("active.last"))},[(0,i.createElementVNode)("div",y,[(0,i.createVNode)(O,{direction:"middle",align:"left"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_DEFAULT_ACTIVE")),1)]),_:1}),a.contact.active.now?((0,i.openBlock)(),(0,i.createElementBlock)("span",C,[(0,i.createVNode)(V,{class:"c-contact-table-item__availability",color:"green",size:"small"}),(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_ACTIVE_ONLINE")),1)])):(0,i.createCommentVNode)("",!0),a.contact.active.now&&a.contact.active.last?((0,i.openBlock)(),(0,i.createElementBlock)("span",v,(0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_ACTIVE_SINCE"))+" "+(0,i.toDisplayString)(e.$filters.date.timeAgo(a.contact.active.last)),1)):a.contact.active.last?((0,i.openBlock)(),(0,i.createElementBlock)("span",k,(0,i.toDisplayString)(e.$filters.date.timeAgo(a.contact.active.last)),1)):((0,i.openBlock)(),(0,i.createElementBlock)("span",E,(0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")),1))])],4),(0,i.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td o-table__td--center",style:(0,i.normalizeStyle)(e.getFieldStyle("score"))},[(0,i.createElementVNode)("div",w,[(0,i.createVNode)(B,{rating:a.contact.score||0,tooltip:e.$t("TOOLTIPS.CONTACTS_DEFAULT_SCORE"),"tooltip-direction":0!==a.index?"top":"bottom","tooltip-align":"left"},null,8,["rating","tooltip","tooltip-direction"])])],4),(0,i.createElementVNode)("div",{class:"c-contact-table-item__actions c-contact-table-item__td o-table__td o-table__td--right o-table__td--hidden",style:(0,i.normalizeStyle)(e.getFieldStyle("actions"))},[(0,i.createVNode)($,{class:"c-contact-table-item__action",onClick:t[4]||(t[4]=t=>e.$emit("preview",a.contact.people_id,a.index)),id:a.contact.people_id,loading:T.actionLoading,"left-icon":"open_in_new",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_PREVIEW")),1)]),_:1},8,["id","loading"])],4)],2)}},d898:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaign-table-item{color:#000;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.c-campaign-table-item .c-campaign-table-item__headline{padding-left:0}.c-campaign-table-item .c-campaign-table-item__status{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-weight:700}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__availability,.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__spinner{margin-right:5px}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__done,.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__not-configured{color:#75869c}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__paused,.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__preparing{color:#fd7b1f}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__ready{color:#40b630}.c-campaign-table-item .c-campaign-table-item__status .c-campaign-table-item__running{color:#0093ee}.c-campaign-table-item .c-campaign-table-item__checkbox{display:inline-block;margin-bottom:-2px;width:18px;height:18px}.c-campaign-table-item .c-campaign-table-item__name .c-campaign-table-item__name-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-campaign-table-item .c-campaign-table-item__name .c-campaign-table-item__name-wrapper .c-campaign-table-item__name-text{line-height:32px;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaign-table-item .c-campaign-table-item__name .c-campaign-table-item__name-wrapper .c-campaign-table-item__edit{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:5px;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex}.c-campaign-table-item .c-campaign-table-item__name .c-campaign-table-item__name-wrapper .c-campaign-table-item__edit:hover{opacity:1!important}.c-campaign-table-item .c-campaign-table-item__name .c-campaign-table-item__name-wrapper .c-campaign-table-item__edit .c-campaign-table-item__edit-button{border:1px solid transparent;margin-left:1px;padding:3px 2px;display:-webkit-box;display:-ms-flexbox;display:flex;border-radius:2px;-webkit-transition:border-color 75ms linear;transition:border-color 75ms linear}.c-campaign-table-item .c-campaign-table-item__name .c-campaign-table-item__name-wrapper .c-campaign-table-item__edit .c-campaign-table-item__edit-button:first-of-type{margin-left:0}.c-campaign-table-item .c-campaign-table-item__name .c-campaign-table-item__name-wrapper .c-campaign-table-item__edit .c-campaign-table-item__edit-button:hover{background:#ececec}.c-campaign-table-item .c-campaign-table-item__name .c-campaign-table-item__name-wrapper .c-campaign-table-item__edit .c-campaign-table-item__edit-button:active{background:#e0e0e0}.c-campaign-table-item .c-campaign-table-item__date{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaign-table-item .c-campaign-table-item__date .c-campaign-table-item__updated{font-weight:700;font-size:13px}.c-campaign-table-item .c-campaign-table-item__date .c-campaign-table-item__created{margin-top:2px;color:#75869c;font-size:12px;line-height:13px}.c-campaign-table-item .c-campaign-table-item__progress{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaign-table-item .c-campaign-table-item__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-campaign-table-item .c-campaign-table-item__actions .c-campaign-table-item__action{margin-right:15px}.c-campaign-table-item:hover .c-campaign-table-item__actions{opacity:1}.c-campaign-table-item .c-campaign-table-item__td:hover .c-campaign-table-item__name .c-campaign-table-item__name-wrapper .c-campaign-table-item__edit{opacity:.75}@media (max-width:96.875em){.c-campaign-table-item .c-campaign-table-item__actions .c-base-button__label{display:none}.c-campaign-table-item .c-campaign-table-item__actions .c-base-button__icon--right{margin-left:0}}",""]),e.exports=t},d96f:function(e,t,a){var i=a("0914");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("fd731be6",i,!0,{sourceMap:!1,shadowMode:!1})},d9b0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=c;var i=a("7a23");const n={class:"c-configure-email-domain__notice u-mt20 u-mb20"};function c(e,t,a,c,o,s){const l=(0,i.resolveComponent)("base-headlines"),r=(0,i.resolveComponent)("base-space"),p=(0,i.resolveComponent)("base-link"),m=(0,i.resolveComponent)("base-button"),d=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(d,{class:"c-configure-email-domain",onEnter:s.onConfigureEmailDomain,parent:"campaigns",size:"medium"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(m,{onClick:s.onConfigureEmailDomain,disabled:o.disabled,loading:o.loading,color:"blue","left-icon":"settings"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_CUSTOM_DOMAIN_PROCEED")),1)]),_:1},8,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(l,{class:"u-mb20",title:e.$t("CAMPAIGNS.DEFAULT.POPUPS_CUSTOM_DOMAIN_TITLE"),description:e.$t("CAMPAIGNS.DEFAULT.POPUPS_CUSTOM_DOMAIN_NOTICE")},null,8,["title","description"]),(0,i.createElementVNode)("div",n,[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_CUSTOM_DOMAIN_NOTICE_1")),1),(0,i.createVNode)(r),(0,i.createVNode)(p,{href:e.$CONFIG.CRISP_URL_HELP+"/en/article/ndklh7/"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_CUSTOM_DOMAIN_NOTICE_2")),1)]),_:1},8,["href"])])]),_:1},8,["onEnter"])}},d9f5:function(e,t,a){"use strict";a.r(t);var i=a("b00c7"),n=a("5fda");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("5f85");n["default"].render=i["render"],t["default"]=n["default"]},dd0bf:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-new-template .c-field-select .c-field-select__container .c-field-select__field .c-field-select__option{padding-left:46px!important}",""]),e.exports=t},ddfe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=r;var i=a("7a23");const n={class:"c-manage-templates__label"},c=["onClick"],o={class:"c-manage-templates__name"},s={key:0,class:"c-manage-templates__update u-has-tooltip"},l={key:1,class:"c-manage-templates__templates c-manage-templates__templates--empty"};function r(e,t,a,r,p,m){const d=(0,i.resolveComponent)("base-headlines"),g=(0,i.resolveComponent)("field-input"),_=(0,i.resolveComponent)("base-button"),u=(0,i.resolveComponent)("validation-observer"),f=(0,i.resolveComponent)("base-tooltip"),h=(0,i.resolveComponent)("base-icon"),b=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(b,{class:"c-manage-templates",onClose:t[3]||(t[3]=t=>e.$emit("close")),parent:"campaigns",size:"medium",alignment:"center"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(_,{onClick:t[2]||(t[2]=t=>e.$emit("close")),disabled:p.loadingSave,loading:p.loadingInsert,"left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_MANAGE_TEMPLATES_PROCEED")),1)]),_:1},8,["disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(d,{class:"u-mb20",title:e.$t("CAMPAIGNS.EDIT.POPUPS_MANAGE_TEMPLATES_QUESTION"),description:e.$t("CAMPAIGNS.EDIT.POPUPS_MANAGE_TEMPLATES_LABEL"),alignment:"center"},null,8,["title","description"]),(0,i.createVNode)(u,{class:"c-manage-templates__save",ref:"form",as:"div"},{default:(0,i.withCtx)(({meta:a})=>[(0,i.createVNode)(g,{class:"c-manage-templates__field",modelValue:p.name,"onUpdate:modelValue":t[0]||(t[0]=e=>p.name=e),disabled:p.loadingSave||p.loadingInsert,label:e.$t("CAMPAIGNS.EDIT.POPUPS_MANAGE_TEMPLATES_SAVE_TITLE"),placeholder:e.$t("CAMPAIGNS.EDIT.POPUPS_MANAGE_TEMPLATES_SAVE_PLACEHOLDER"),name:"name",rules:"required",size:"medium"},null,8,["modelValue","disabled","label","placeholder"]),(0,i.createVNode)(_,{class:"c-manage-templates__button",onClick:e=>m.onCreateTemplate(!a.valid),loading:p.loadingSave,disabled:!a.valid||p.loadingInsert},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_MANAGE_TEMPLATES_SAVE_CREATE")),1)]),_:2},1032,["onClick","loading","disabled"])]),_:1},512),m.templates.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:(0,i.normalizeClass)(["c-manage-templates__templates",{"c-manage-templates__templates--locked":p.loadingSave||p.loadingInsert}])},[(0,i.createElementVNode)("div",n,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_MANAGE_TEMPLATES_LIST_TITLE")),1),((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(m.templates,t=>((0,i.openBlock)(),(0,i.createElementBlock)("div",{class:"c-manage-templates__template",onClick:e=>m.onInsertTemplate(t),key:t.template_id},[(0,i.createElementVNode)("div",o,(0,i.toDisplayString)(t.name),1),"custom"===t.type?((0,i.openBlock)(),(0,i.createElementBlock)("span",s,[(0,i.createVNode)(f,{direction:"middle",align:"left"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("TOOLTIPS.CAMPAIGNS_TEMPLATE_UPDATE")),1)]),_:1}),(0,i.createVNode)(h,{class:"c-manage-templates__icon",onClick:m.onUpdateTemplate,id:t.template_id,name:"refresh",cursor:"pointer",size:"20px"},null,8,["onClick","id"])])):(0,i.createCommentVNode)("",!0)],8,c))),128))],2)):((0,i.openBlock)(),(0,i.createElementBlock)("div",l,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_MANAGE_TEMPLATES_EMPTY")),1))]),_:1})}},de6c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=o;var i=a("7a23");const n={class:"o-items u-mb40 u-mt40"},c={class:"c-new-campaign__actions"};function o(e,t,a,o,s,l){const r=(0,i.resolveComponent)("quick-tour"),p=(0,i.resolveComponent)("base-headlines"),m=(0,i.resolveComponent)("base-illustration-picker"),d=(0,i.resolveComponent)("base-button"),g=(0,i.resolveComponent)("base-popup"),_=(0,i.resolveComponent)("field-input"),u=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(u,{as:""},{default:(0,i.withCtx)(({meta:a})=>["type"===s.step?((0,i.openBlock)(),(0,i.createBlock)(g,{key:0,class:"c-new-campaign",onClose:t[0]||(t[0]=t=>e.$emit("close")),parent:"campaigns",title:e.$t("POPUPS.NEW_CAMPAIGN.TITLE"),size:"medium",width:"650px",alignment:"center"},{quickTour:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{active:s.step,steps:s.steps},null,8,["active","steps"])]),actions:(0,i.withCtx)(()=>[(0,i.createElementVNode)("div",c,[(0,i.createVNode)(d,{class:"c-new-campaign__action",onClick:l.onNext,disabled:!s.campaign.type,"right-icon":"chevron_right",size:"medium"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("POPUPS.NEW_CAMPAIGN.TYPE_PROCEED")),1)]),_:1},8,["onClick","disabled"])])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(p,{class:"u-mb20",title:e.$t("POPUPS.NEW_CAMPAIGN.TYPE_TITLE"),description:e.$t("POPUPS.NEW_CAMPAIGN.TYPE_LABEL"),size:"big",alignment:"center"},null,8,["title","description"]),(0,i.createElementVNode)("div",n,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(s.campaignTypes,e=>((0,i.openBlock)(),(0,i.createBlock)(m,{onClick:l.onTypeClick,selected:e.selected,description:e.description,id:e.id,illustration:e.illustration,key:e.id,title:e.title,"illustration-class":"c-new-campaign__illustration--"+e.id},null,8,["onClick","selected","description","id","illustration","title","illustration-class"]))),128))])]),_:1},8,["title"])):"name"===s.step?((0,i.openBlock)(),(0,i.createBlock)(g,{key:1,class:"c-new-campaign",onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>l.onCreateCampaign(!a.valid),title:e.$t("POPUPS.NEW_CAMPAIGN.TITLE"),size:"medium",width:"650px",alignment:"center"},{quickTour:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{active:s.step,steps:s.steps},null,8,["active","steps"])]),actions:(0,i.withCtx)(()=>[(0,i.createVNode)(d,{onClick:e=>l.onCreateCampaign(!a.valid),disabled:!a.valid,loading:s.loading,"right-icon":"chevron_right",size:"medium"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("POPUPS.NEW_CAMPAIGN.NAME_PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(p,{class:"u-mb20",title:e.$t("POPUPS.NEW_CAMPAIGN.NAME_TITLE"),description:e.$t("POPUPS.NEW_CAMPAIGN.NAME_LABEL"),size:"big",alignment:"center"},null,8,["title","description"]),(0,i.createVNode)(_,{class:"u-mb20",modelValue:s.campaign.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.campaign.name=e),disabled:s.loading,label:e.$t("POPUPS.NEW_CAMPAIGN.NAME_FIELD_NAME_LABEL"),placeholder:e.$t("POPUPS.NEW_CAMPAIGN.NAME_FIELD_NAME_PLACEHOLDER"),name:"name",rules:"required",size:"medium",autofocus:""},null,8,["modelValue","disabled","label","placeholder"])]),_:2},1032,["onEnter","title"])):(0,i.createCommentVNode)("",!0)]),_:1})}},de91:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.c-campaign-template{border:1px solid #e3e8ef;overflow:hidden;border-radius:2px;-webkit-box-shadow:0 2px 2px 0 rgba(117,134,156,.08);box-shadow:0 2px 2px 0 rgba(117,134,156,.08);-webkit-transition:border-color 75ms linear;transition:border-color 75ms linear;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaign-template,.c-campaign-template .c-campaign-template__wrapper{height:250px;position:relative}.c-campaign-template .c-campaign-template__options{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-top:10px;padding-bottom:8px;border-bottom:1px solid #e3e8ef}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-avatar{margin-right:12px;margin-left:24px;height:34px;width:34px;display:-webkit-box;display:-ms-flexbox;background-image:-webkit-gradient(linear,left bottom,left top,from(#878c96),to(#a4abb8));background-image:linear-gradient(0deg,#878c96,#a4abb8);border-radius:100%;font-size:20px;color:#fff;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-shadow:1px 1px 0 rgba(0,0,0,.15);-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#333;font-size:13.5px;line-height:16px;-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:24px;overflow:hidden}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-top{display:-webkit-box;display:-ms-flexbox;display:flex}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-sender{font-size:15.5px;line-height:16px;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-date{font-size:14px;color:#999;margin-left:8px}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-top{margin-bottom:4px}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-subject,.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-to{margin-bottom:3px}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-to{display:-webkit-box;display:-ms-flexbox;display:flex}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-to .c-campaign-template__options-information-to-prefix{margin-right:8px}.c-campaign-template .c-campaign-template__options .c-campaign-template__options-information .c-campaign-template__options-information-to .c-campaign-template__options-information-to-suffix{color:#999}.c-campaign-template .c-campaign-template__details,.c-campaign-template .c-campaign-template__loader{width:100%;position:absolute;right:0;bottom:0;left:0}.c-campaign-template .c-campaign-template__loader{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;top:0}.c-campaign-template .c-campaign-template__loader .c-campaign-template__loader-error{fill:#f46275}.c-campaign-template .c-campaign-template__renderer{width:150%;height:150%;-webkit-transform:scale(.67);transform:scale(.67);-webkit-transform-origin:top left;transform-origin:top left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow-x:hidden;overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaign-template .c-campaign-template__details{background-color:rgba(250,251,252,.95);border-top:1px solid #e3e8ef;padding:9px 14px 11px;text-align:center}.c-campaign-template .c-campaign-template__details .c-campaign-template__checkbox{display:inline-block;margin-bottom:-2px;width:18px;height:18px}.c-campaign-template .c-campaign-template__details .c-campaign-template__identity{position:relative;z-index:10;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:7px 0}.c-campaign-template .c-campaign-template__details .c-campaign-template__identity .c-campaign-template__name{color:#1c293b;font-weight:700;font-size:14px;line-height:18px}.c-campaign-template .c-campaign-template__details .c-campaign-template__identity .c-campaign-template__label{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-top:-1px;margin-left:9px}.c-campaign-template .c-campaign-template__details .c-campaign-template__identity .c-campaign-template__label--sibling{margin-left:4px}.c-campaign-template--active{border-color:#617da5!important}.c-campaign-template--inline .c-campaign-template__renderer{padding:12px 20px 0}.c-campaign-template--inline .c-campaign-template__renderer:after{content:"";display:block;height:12px}.c-campaign-template--clickable{cursor:pointer}.c-campaign-template--details .c-campaign-template__renderer{pointer-events:none;overflow:hidden}.c-campaign-template--details .c-campaign-template__loader .c-campaign-template__loader-item{margin-top:-68px}.c-campaign-template--details:hover{border-color:#c9d3e0}.c-campaign-template--options{min-height:250px}.c-campaign-template--with-action .c-campaign-template__details .c-campaign-template__identity{margin-top:none;margin-bottom:11px}',""]),e.exports=t},e01e:function(e,t,a){"use strict";a("61b5")},e057:function(e,t,a){"use strict";a.r(t);var i=a("7881"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},e10a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("base-headlines"),l=(0,i.resolveComponent)("base-button"),r=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(r,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:o.onRemoveTemplates,parent:"campaigns"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(l,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(l,{onClick:o.onRemoveTemplates,loading:c.loading,color:"red","left-icon":"delete"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_REMOVE_TEMPLATES_PROCEED")),1)]),_:1},8,["onClick","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(s,{class:"u-mb20",title:e.$t("CAMPAIGNS.DEFAULT.POPUPS_REMOVE_TEMPLATES_TITLE"),description:e.$t("CAMPAIGNS.DEFAULT.POPUPS_REMOVE_TEMPLATES_NOTICE")},null,8,["title","description"])]),_:1},8,["onEnter"])}},e113:function(e,t,a){"use strict";a.r(t);var i=a("435e"),n=a("adea");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);n["default"].render=i["render"],t["default"]=n["default"]},e173:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=f(a("cd3f")),n=f(a("f7fe")),c=f(a("bcbb")),o=f(a("aff1")),s=f(a("0056")),l=f(a("7dc4")),r=f(a("ec00")),p=f(a("e792b")),m=f(a("2ae2")),d=f(a("4676")),g=f(a("c4f6")),_=f(a("e697")),u=f(a("73a5"));function f(e){return e&&e.__esModule?e:{default:e}}const h=250;var b={components:{CampaignActions:c.default,CommonEditor:o.default,ConfigureEmailDomain:m.default,EditorCloseWarning:d.default,DispatchCampaign:s.default,EditOptions:r.default,ManageTemplates:l.default,PreviewRecipients:p.default},mixins:[u.default,g.default,_.default],emits:["exit","receiverCloseRequest"],data(){return{currentBreadcrumbItem:"app.website.campaigns.editor",mode:"code",type:"campaign",watchedKeys:["format","message","subject","options","sender"],popups:{dispatchCampaign:{campaignId:null,type:null,targets:null,visible:!1},manageTemplates:{visible:!1},editOptions:{campaignId:null,tracking:!1,senderNameWebsite:!1,senderEmailReply:"",visible:!1},previewRecipients:{visible:!1},configureEmailDomain:{visible:!1},closeWarning:{visible:!1}},targetsCount:""}},computed:{deliverToChatbox:{get(){return!!this.campaign.options&&this.campaign.options.deliver_to_chatbox},set(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_chatbox",value:e}),!0===e&&!1===this.deliverToEmail&&(this.tracking=!1,this.senderNameWebsite=!1,this.senderEmailReply="")}},deliverToEmail:{get(){return!!this.campaign.options&&this.campaign.options.deliver_to_email},set(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_email",value:e}),!1===e&&!0===this.deliverToChatbox&&(this.tracking=!1,this.senderNameWebsite=!1,this.senderEmailReply="")}},isDisabled(){return"one-shot"===this.campaign.type&&this.campaign.dispatched},message:{get(){return this.campaign.message},set:(0,n.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:e})}),h)},subject:{get(){return this.campaign.subject},set:(0,n.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"subject",value:e})}),h)},sender:{get(){return this.campaign.sender?this.campaign.sender.user_id:null},set:(0,n.default)((function(e){this.$store.commit("campaigns/updateCampaignSender",{campaignId:this.campaignId,userId:e})}),h)},senderOptions(){return Object.values(this.operators).map(e=>({avatarId:e.user_id,label:e.first_name+" "+e.last_name,value:e.user_id}))},tracking:{get(){return!!this.campaign.options&&this.campaign.options.tracking},set:(0,n.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"tracking",value:e})}),h)},senderNameWebsite:{get(){return!!this.campaign.options&&this.campaign.options.sender_name_website},set:(0,n.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"sender_name_website",value:e})}),h)},senderEmailReply:{get(){return this.campaign.options&&this.campaign.options.sender_email_reply||""},set:(0,n.default)((function(e){this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"sender_email_reply",value:e||null})}),h)},operators(){return this.$store.commit("operators/assertOperators",{websiteId:this.websiteId}),this.$store.getters["operators/getOperators"](this.websiteId)},templates(){return this.$store.getters["campaigns/getTemplates"]}},watch:{campaign:{deep:!0,immediate:!0,handler(e){e&&("one-shot"===e.type&&(e.recipients&&(e.recipients.people||e.recipients.segments||e.recipients.filter)&&(0!==(e.recipients.people||[]).length||"people"!==e.recipients.type||0!==(e.recipients.segments||[]).length||0!==(e.recipients.filter||[]).length)||this.$router.push({name:"app.website.campaigns.recipients",params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{})),this.checkChanges(e),"number"===typeof e.targets&&e.targets>=0?this.targetsCount=e.targets:this.targetsCount="")}}},created(){this.fetchOperators()},mounted(){this.$emit("receiverCloseRequest",this.onRequestClose)},methods:{fetchOperators(){0===Object.keys(this.operators).length&&this.$store.dispatch("operators/acquireOperators",{websiteId:this.websiteId})},onCampaignSaved(){this.frozen=(0,i.default)(this.campaign),this.edited=!1},onChangeMode(e){this.mode=e},onInputKey(e,t){switch(e){case"subject":this.subject=t;break}},onDispatchConfirm(e,t){this.popups.dispatchCampaign.campaignId=e,this.popups.dispatchCampaign.type=t,this.popups.dispatchCampaign.targets=""+this.targetsCount,this.popups.dispatchCampaign.visible=!0},onOptionsEdit(e,t){this.tracking!==t.tracking&&(this.tracking=t.tracking),this.senderNameWebsite!==t.senderNameWebsite&&(this.senderNameWebsite=t.senderNameWebsite),this.senderEmailReply!==t.senderEmailReply&&(this.senderEmailReply=t.senderEmailReply),this.popups.editOptions.visible=!1},onBreadcrumbItemClickWithWarning(e,t){let a=()=>{this.onBreadcrumbItemClick(e,t)};this.edited?(this.popups.closeWarning.visible=!0,this.popups.closeWarning.callback=a):a()},onWarningBack(){this.popups.closeWarning.visible=!1,this.popups.closeWarning.callback=null,this.hideEditor=!1},onWarningClose(){this.popups.closeWarning.callback?this.popups.closeWarning.callback():this.onExit()},onExit(){this.$emit("exit")},onManageTemplates(){this.popups.manageTemplates.visible=!0},onEditOptions(){this.popups.editOptions.campaignId=this.campaignId,this.popups.editOptions.tracking=this.tracking,this.popups.editOptions.senderNameWebsite=this.senderNameWebsite,this.popups.editOptions.senderEmailReply=this.senderEmailReply,this.popups.editOptions.visible=!0},onPreviewRecipients(){this.campaign.dispatched||(this.popups.previewRecipients.visible=!0)},onSend(){this.$router.push({name:"app.website.campaigns.analytics",params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{})},onToggleFormat(e){switch(this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"format",value:e}),e){case"html":this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_email",value:!0}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,parentKey:"options",key:"deliver_to_chatbox",value:!1}),this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:'<html><body><a href="{{ url.unsubscribe }}">'+this.$t("CAMPAIGNS.TEMPLATES.BASIS_UNSUBSCRIBE")+"</a></body></html>"});break;case"markdown":this.$store.commit("campaigns/updateCampaignKey",{campaignId:this.campaignId,key:"message",value:""});break}}}};t.default=b},e262:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(a("f7fe")),n=c(a("84dd"));function c(e){return e&&e.__esModule?e:{default:e}}const o=500,s=250;var l={components:{ContactTableItem:n.default},props:{profiles:{type:Array,default:null},disabled:{type:Boolean,default:!1},initializing:{type:Boolean,default:!0},search:{type:Boolean,default:!0},searchLoading:{type:Boolean,default:!1},segments:{type:Array,default:null},selectAll:{type:Boolean,default:!1},selectedItems:{type:Object,default(){return{}}}},emits:["search","checked"],data(){return{scroll:{preventSave:!1,scheduler:null,top:null}}},mounted(){this.scroll.scheduler=setInterval(()=>{this.onSaveScrollPosition()},s)},updated(){this.scroll.preventSave=!0,(this.profiles&&this.profiles.length>0||this.segments&&this.segments.length>0)&&this.$nextTick(()=>{this.restoreScrollPosition()}),this.scroll.preventSave=!1},beforeUnmount(){null!==this.scroll.scheduler&&(clearInterval(this.scroll.scheduler),this.scroll.scheduler=null)},methods:{restoreScrollPosition(){const e=this.$refs.container;e&&this.scroll.top&&(e.scrollTop=this.scroll.top)},onSaveScrollPosition(){if(!this.scroll.preventSave){const e=this.$refs.container;e&&(this.scroll.top=e.scrollTop)}},onSearchKeyup:(0,i.default)((function(e,t){const a=this.$refs.container;a&&(a.scrollTop=0),this.$emit("search",t)}),o),onToggleItem(e){this.selectedItems[e]?this.$emit("checked",!1,e):this.$emit("checked",!0,e)}}};t.default=l},e389:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-contact-table-item{color:#000;font-size:14px}.c-contact-table-item .c-contact-table-item__unknown{color:#75869c;font-weight:400}.c-contact-table-item .c-contact-table-item__avatar,.c-contact-table-item .c-contact-table-item__checkbox{display:inline-block}.c-contact-table-item .c-contact-table-item__avatar{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.c-contact-table-item .c-contact-table-item__checkbox{width:18px;height:18px}.c-contact-table-item .c-contact-table-item__name{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__name .c-contact-table-item__nickname{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__name .c-contact-table-item__email{color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__location{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__city{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__country{position:relative;padding-left:25px;color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__country .c-contact-table-item__flag{position:absolute;left:0;margin-top:-1px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.c-contact-table-item .c-contact-table-item__company,.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details .c-contact-table-item__name{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details .c-contact-table-item__domain{color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__tag{float:left;margin:2px 3px 3px}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__tag:last-of-type{margin-right:0}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__more-segments{display:block;clear:both;margin-left:3px;color:#75869c;font-weight:700;font-size:12px;-webkit-transition:color .1s linear;transition:color .1s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__more-segments:hover{color:#2c405a;text-decoration:underline}.c-contact-table-item .c-contact-table-item__active{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__now{color:#40b630;font-weight:700}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__now .c-contact-table-item__availability{margin-right:5px}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__since{color:#75869c;font-weight:400;font-size:13px}.c-contact-table-item .c-contact-table-item__actions{opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-contact-table-item:hover .c-contact-table-item__actions{opacity:1}.c-contact-table-item .c-contact-table-item__opened{position:absolute;top:-1px;bottom:-1px;left:0;width:0;background-color:#2c405a;-webkit-transition:width .1s linear;transition:width .1s linear}.c-contact-table-item--opened .c-contact-table-item__opened{width:4px}@media (max-width:90.625em){.c-contact-table-item .c-contact-table-item__actions .c-contact-table-item__action .c-base-button__label{display:none}}",""]),e.exports=t},e3d6:function(e,t,a){"use strict";var i=a("7345");a.o(i,"render")&&a.d(t,"render",(function(){return i["render"]}))},e3e9:function(e,t,a){"use strict";a.r(t);var i=a("944f"),n=a.n(i);for(var c in a.d(t,"default",(function(){return n.a})),i)["default","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c)},e45d:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaigns-editor{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.c-campaigns-editor .c-campaigns-editor__box{overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1;margin-bottom:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor{height:100%;border:none;border-radius:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__subject{display:-webkit-box;display:-ms-flexbox;display:flex}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__subject .c-campaigns-editor__subject-field{-webkit-transition:all .1s linear;transition:all .1s linear;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__subject .c-campaigns-editor__subject-field:hover{background-color:#fafbfc}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__subject .c-campaigns-editor__subject-aside{padding:0 8px 0 12px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__subject .c-campaigns-editor__subject-aside .c-campaigns-editor__subject-help{line-height:0;cursor:help}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:15px;height:24px;border-left:1px solid #e3e8ef;cursor:pointer}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section:first-of-type{padding-left:0;border-left:none}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__icon{margin-right:4px;fill:#2c405a;-webkit-transition:fill 75ms linear;transition:fill 75ms linear}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__label{margin-right:9px;color:#1c293b;font-weight:700;-webkit-transition:color 75ms linear;transition:color 75ms linear}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__field{margin-right:12px}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__field:last-of-type{margin-right:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__field .c-field-checkbox__information{margin-top:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__sender{width:150px}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__button{margin-right:10px}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--options .c-campaigns-editor__label,.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--templates .c-campaigns-editor__label,.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section .c-campaigns-editor__button:last-of-type{margin-right:0}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--options:hover .c-campaigns-editor__icon,.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--templates:hover .c-campaigns-editor__icon{fill:#0093ee}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--options:hover .c-campaigns-editor__label,.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--templates:hover .c-campaigns-editor__label{color:#0093ee}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients{cursor:default}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients .c-campaigns-editor__label{margin-right:4px}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients-preview{cursor:pointer}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients-preview:hover .c-campaigns-editor__label,.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients-preview:hover .c-campaigns-editor__recipients{color:#0093ee}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients-preview .c-campaigns-editor__label,.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients-preview .c-campaigns-editor__recipients{-webkit-transition:color 75ms linear;transition:color 75ms linear}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__recipients-help{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:5px;margin-right:8px;height:18px;cursor:help}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__recipients-help .c-campaigns-editor__recipients-help-icon{margin-top:.5px;fill:#2c405a}.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__recipients-help .c-campaigns-editor__recipients-help-icon:hover{fill:#000}.c-campaigns-editor .c-campaigns-editor__popup{z-index:1010}@media (max-width:86.25em){.c-campaigns-editor .c-campaigns-editor__controls[data-id=align]{display:none}}@media (max-width:78.75em){.c-campaigns-editor .c-campaigns-editor__actions .c-campaign-actions__action--collapsable .c-base-button__label{display:none}}@media (max-width:75em){.c-campaigns-editor .c-campaigns-editor__controls[data-id=list]{display:none}}@media (max-width:71.25em){.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__label--options,.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__label--templates,.c-campaigns-editor .c-campaigns-editor__controls[data-id=code]{display:none}}@media (max-width:65em){.c-campaigns-editor .c-campaigns-editor__box .c-campaigns-editor__editor .c-campaigns-editor__section--recipients-help{display:none}}@media (max-width:63.75em){.c-campaigns-editor .c-campaigns-editor__actions .c-campaign-actions__action .c-base-button__label,.c-campaigns-editor .c-campaigns-editor__controls[data-id=title]{display:none}}@media (max-width:55em){.c-campaigns-editor .c-campaigns-editor__controls[data-id=insert]{display:none}}",""]),e.exports=t},e697:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,campaignLoading:!1,templatesLoading:!1}},computed:{breadcrumb(){let e=[];this.campaign&&("automated"===this.campaign.type?e.push({id:"app.website.campaigns.flow",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_CONDITIONS")}):e.push({id:"app.website.campaigns.recipients",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_RECIPIENTS")})),e.push({id:"app.website.campaigns.templates",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_TEMPLATES")},{id:"app.website.campaigns.editor",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_EDITOR")},{id:"app.website.campaigns.analytics",label:this.$t("CAMPAIGNS.COMMON.BREADCRUMB_ANALYTICS")});let t=0;return e.forEach((e,a)=>{e.current=!1,e.id===this.currentBreadcrumbItem&&(e.current=!0,t=a)}),this.campaign&&((this.campaign.message||"").trim()&&e.forEach((e,a)=>{switch(e.id){case"app.website.campaigns.editor":case"app.website.campaigns.templates":!0!==e.current&&a>t&&(e.disabled=!1,e.forceActive=!0);break}}),!0===this.campaign.dispatched&&e.forEach((e,a)=>{switch(e.id){case"app.website.campaigns.analytics":!0!==e.current&&a>t&&this.campaign.options&&!0===this.campaign.options.tracking&&(e.disabled=!1,e.forceActive=!0);break}}),"one-shot"===this.campaign.type&&this.campaign.dispatched&&e.forEach(e=>{switch(e.id){case"app.website.campaigns.templates":e.disabled=!0;break}})),{items:e}},campaign(){return this.campaigns.find(e=>e.campaign_id===this.campaignId)},me(){return this.$store.getters["user/getMe"]},campaigns(){return this.$store.getters["campaigns/getCampaigns"]},templates(){return this.$store.getters["campaigns/getTemplates"]}},watch:{campaign:{immediate:!0,handler(e){e&&(e.sender&&e.sender.user_id||this.$store.commit("campaigns/updateCampaignSender",{campaignId:this.campaign.campaign_id,userId:this.me.user_id}))}}},created(){this.loadCampaign(),this.loadTemplates()},methods:{onBreadcrumbItemClick(e,t){t&&this.$router.push({name:e,params:{websiteId:this.websiteId,campaignId:this.campaignId}}).catch(()=>{})},loadCampaign(){this.campaign||!0===this.campaignLoading||(this.campaignLoading=!0,this.$store.dispatch("campaigns/acquireCampaign",{websiteId:this.websiteId,campaignId:this.campaignId}).then(()=>{this.campaignLoading=!1}))},loadTemplates(){this.templates&&0===this.templates.length&&!0!==this.templatesLoading&&(this.templatesLoading=!0,this.$store.dispatch("campaigns/acquireTemplates",{websiteId:this.websiteId}).then(()=>{this.templatesLoading=!1}))}}};t.default=i},e6c4:function(e,t,a){"use strict";a.r(t);var i=a("86ce"),n=a("6e9f");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("11807");n["default"].render=i["render"],t["default"]=n["default"]},e792b:function(e,t,a){"use strict";a.r(t);var i=a("0712"),n=a("bfce");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("4660");n["default"].render=i["render"],t["default"]=n["default"]},e929:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=l;var i=a("7a23");const n={key:2,class:"c-dispatch-campaign__error u-mt20 u-mb20"},c={key:3,class:"c-dispatch-campaign__loader"},o={key:0},s={key:1};function l(e,t,a,l,r,p){const m=(0,i.resolveComponent)("base-headlines"),d=(0,i.resolveComponent)("base-space"),g=(0,i.resolveComponent)("base-link"),_=(0,i.resolveComponent)("base-spinner"),u=(0,i.resolveComponent)("campaign-template"),f=(0,i.resolveComponent)("base-button"),h=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(h,{class:"c-dispatch-campaign",onClose:p.onCancel,onEnter:p.onSubmit,parent:"campaigns",size:"medium"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(f,{onClick:p.onCancel,color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1},8,["onClick"]),r.preparing?((0,i.openBlock)(),(0,i.createBlock)(f,{key:1,loading:r.preparing,color:"green"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_PREPARING",{seconds:r.countdown.ticks})),1)]),_:1},8,["loading"])):((0,i.openBlock)(),(0,i.createBlock)(f,{key:0,onClick:p.onSubmit,loading:r.sending,color:"green","left-icon":"send"},{default:(0,i.withCtx)(()=>["automated"===a.type?((0,i.openBlock)(),(0,i.createElementBlock)("span",o,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_ACTIVATE_CAMPAIGN_PROCEED")),1)):((0,i.openBlock)(),(0,i.createElementBlock)("span",s,(0,i.toDisplayString)(r.sending?e.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_PROCEEDING"):e.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_PROCEED")),1))]),_:1},8,["onClick","loading"]))]),default:(0,i.withCtx)(()=>["automated"===a.type?((0,i.openBlock)(),(0,i.createBlock)(m,{key:0,title:e.$t("CAMPAIGNS.EDIT.POPUPS_ACTIVATE_CAMPAIGN_QUESTION"),description:e.$t("CAMPAIGNS.EDIT.POPUPS_ACTIVATE_CAMPAIGN_LABEL")},null,8,["title","description"])):((0,i.openBlock)(),(0,i.createBlock)(m,{key:1,title:e.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_QUESTION"),description:p.description,"is-description-html":""},null,8,["title","description"])),r.tooManyRecipients?((0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_TOO_MANY_RECIPIENTS_1")),1),(0,i.createVNode)(d),(0,i.createVNode)(g,{href:e.$CONFIG.CRISP_URL_HELP+"/en/article/cmvcqw/"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_SEND_CAMPAIGN_TOO_MANY_RECIPIENTS_2")),1)]),_:1},8,["href"])])):(0,i.createCommentVNode)("",!0),r.loading?((0,i.openBlock)(),(0,i.createElementBlock)("div",c,[(0,i.createVNode)(_,{class:"c-dispatch-campaign__loader-item",size:"16px","border-width":"2px",color:"#75869c"})])):(0,i.createCommentVNode)("",!0),!r.loading&&p.campaign&&p.campaign.message?((0,i.openBlock)(),(0,i.createBlock)(u,{key:4,class:"u-mt20",content:p.campaign.message,format:p.campaign.format,subject:p.campaign.subject||p.campaign.name,sender:p.sender,"reply-to":p.replyTo,"has-details":!1,"has-options":!0,"action-color":"black",scrolling:"yes"},null,8,["content","format","subject","sender","reply-to"])):(0,i.createCommentVNode)("",!0)]),_:1},8,["onClose","onEnter"])}},ea75:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={emits:["close","replace"]};t.default=i},ea9e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=10;var n={props:{count:{type:Number,default:0}},emits:["close","duplicate"],data(){return{loading:!1,maximumCount:i}},computed:{hasTooManySelected(){return this.count>this.maximumCount}},methods:{onDuplicateTemplates(){!0!==this.loading&&(this.loading=!0,this.$emit("duplicate",()=>{this.loading=!1}))}}};t.default=n},eadb:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaign-table-section{padding-right:30px;padding-left:65px;border-bottom:none!important}.c-campaign-table-section .c-campaign-table-section__icon{margin-right:6px;fill:#75869c}.c-campaign-table-section .c-campaign-table-section__name{color:#75869c;font-weight:700;font-size:14px}",""]),e.exports=t},eb1e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=m;var i=a("7a23");const n={key:0},c={key:1,class:"c-preview-recipients__error u-semibold"},o={key:2,class:"c-preview-recipients__empty u-semibold"},s={key:3,class:"c-preview-recipients__recipients"},l={class:"c-preview-recipients__recipient-name"},r={key:0,class:"c-preview-recipients__recipient-nickname u-select u-ellipsis"},p={class:"c-preview-recipients__recipient-email u-select u-ellipsis"};function m(e,t,a,m,d,g){const _=(0,i.resolveComponent)("base-headlines"),u=(0,i.resolveComponent)("base-spinner"),f=(0,i.resolveComponent)("base-avatar"),h=(0,i.resolveComponent)("base-tooltip"),b=(0,i.resolveComponent)("base-icon"),x=(0,i.resolveComponent)("base-button"),y=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(y,{class:"c-preview-recipients",onClose:t[2]||(t[2]=t=>e.$emit("close")),parent:"campaigns",size:"medium",alignment:"center"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(x,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CLOSE")),1)]),_:1})]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{class:"u-mb20",title:e.$t("CAMPAIGNS.EDIT.POPUPS_PREVIEW_RECIPIENTS_QUESTION"),description:e.$t("CAMPAIGNS.EDIT.POPUPS_PREVIEW_RECIPIENTS_LABEL"),alignment:"center"},null,8,["title","description"]),!d.initialized&&d.loading?((0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.createVNode)(u,{class:"c-preview-recipients__initializer",size:"20px","border-width":"2px"})])):d.errored?((0,i.openBlock)(),(0,i.createElementBlock)("div",c,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_PREVIEW_RECIPIENTS_ERROR")),1)):0===g.recipients.length?((0,i.openBlock)(),(0,i.createElementBlock)("div",o,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_PREVIEW_RECIPIENTS_EMPTY")),1)):((0,i.openBlock)(),(0,i.createElementBlock)("div",s,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(g.recipients,t=>((0,i.openBlock)(),(0,i.createElementBlock)("div",{class:"c-preview-recipients__recipient",key:t.people_id},[(0,i.createVNode)(f,{class:"c-preview-recipients__recipient-avatar","avatar-url":t.person.avatar,size:"small"},null,8,["avatar-url"]),(0,i.createElementVNode)("div",l,[t.person.nickname?((0,i.openBlock)(),(0,i.createElementBlock)("span",r,(0,i.toDisplayString)(t.person.nickname),1)):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("span",p,(0,i.toDisplayString)(t.email),1)]),(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(["c-preview-recipients__recipient-subscription","u-has-tooltip",{"c-preview-recipients__recipient-subscription--subscribed":t.subscribed,"c-preview-recipients__recipient-subscription--unsubscribed":!t.subscribed}])},[(0,i.createVNode)(h,{align:"left",direction:"middle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(t.subscribed?e.$t("CAMPAIGNS.EDIT.POPUPS_PREVIEW_RECIPIENTS_SUBSCRIBED"):e.$t("CAMPAIGNS.EDIT.POPUPS_PREVIEW_RECIPIENTS_UNSUBSCRIBED")),1)]),_:2},1024),(0,i.createVNode)(b,{class:"c-preview-recipients__recipient-subscription-icon",name:t.subscribed?"check_circle":"warning",size:"18px"},null,8,["name"])],2)]))),128)),d.hasNextPage?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:0,class:"c-preview-recipients__load-more u-semibold",onClick:t[0]||(t[0]=e=>g.loadNextRecipients())},[d.loading?((0,i.openBlock)(),(0,i.createBlock)(u,{key:0,class:"c-preview-recipients__load-more-spinner",size:"10px",color:"#75869c","border-width":"1px"})):(0,i.createCommentVNode)("",!0),(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.POPUPS_PREVIEW_RECIPIENTS_MORE")),1),(0,i.createVNode)(b,{class:"c-preview-recipients__load-more-icon",name:"arrow_drop_down",size:"22px"})])):(0,i.createCommentVNode)("",!0)]))]),_:1})}},ec00:function(e,t,a){"use strict";a.r(t);var i=a("4f06c"),n=a("2f9d");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);n["default"].render=i["render"],t["default"]=n["default"]},eec8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{campaignId:{type:String,required:!0},tracking:{type:Boolean,required:!0},senderNameWebsite:{type:Boolean,required:!0},senderEmailReply:{type:String,required:!0}},emits:["close","edit"],data(){return{options:{}}},computed:{campaign(){return this.campaigns.find(e=>e.campaign_id===this.campaignId)},campaigns(){return this.$store.getters["campaigns/getCampaigns"]},deliverToChatbox(){return!!this.campaign.options&&this.campaign.options.deliver_to_chatbox},deliverToEmail(){return!!this.campaign.options&&this.campaign.options.deliver_to_email},isChatOnly(){return!0===this.deliverToChatbox&&!1===this.deliverToEmail}},created(){this.options.tracking=this.tracking,this.options.senderNameWebsite=this.senderNameWebsite,this.options.senderEmailReply=this.senderEmailReply},methods:{onEditOptions(e=!1){!0!==e&&this.$emit("edit",this.campaignId,this.options)}}};t.default=i},efe8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=a("7a23");function n(e,t,a,n,c,o){const s=(0,i.resolveComponent)("base-headlines"),l=(0,i.resolveComponent)("base-heading"),r=(0,i.resolveComponent)("base-button"),p=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(p,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:o.onDuplicateCampaigns,parent:"campaigns"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(r,{onClick:o.onDuplicateCampaigns,loading:c.loading,disabled:o.hasTooManySelected,color:"blue","left-icon":"copy"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_DUPLICATE_CAMPAIGNS_PROCEED"))+" ("+(0,i.toDisplayString)(a.count)+")",1)]),_:1},8,["onClick","loading","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(s,{title:e.$t("CAMPAIGNS.DEFAULT.POPUPS_DUPLICATE_CAMPAIGNS_TITLE"),description:e.$t("CAMPAIGNS.DEFAULT.POPUPS_DUPLICATE_CAMPAIGNS_NOTICE"),class:(0,i.normalizeClass)([{"u-mb10":o.hasTooManySelected,"u-mb20":!o.hasTooManySelected}])},null,8,["title","description","class"]),o.hasTooManySelected?((0,i.openBlock)(),(0,i.createBlock)(l,{key:0,color:"red","font-weight":"bold",type:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.DEFAULT.POPUPS_DUPLICATE_CAMPAIGNS_TOO_MANY",{maximum:c.maximumCount})),1)]),_:1})):(0,i.createCommentVNode)("",!0)]),_:1},8,["onEnter"])}},f08f:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.c-campaigns-templates{overflow:hidden;width:100%}.c-campaigns-templates,.c-campaigns-templates .c-campaigns-templates__box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-campaigns-templates .c-campaigns-templates__box{overflow-y:hidden;margin-bottom:0}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__footer,.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner{padding-right:40px;padding-left:40px}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner{overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1;padding-top:24px}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner:after{display:block;height:40px;content:""}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner .c-campaigns-templates__loading{padding-top:10px}.c-campaigns-templates .c-campaigns-templates__box .c-campaigns-templates__inner .c-campaigns-templates__templates{display:grid;grid-gap:20px 34px;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-template-rows:repeat(auto-fill,250px)}',""]),e.exports=t},f3e5:function(e,t,a){"use strict";a.r(t);var i=a("d10e"),n=a("4c7f");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);a("2288");n["default"].render=i["render"],t["default"]=n["default"]},f49d:function(e,t,a){"use strict";a.r(t);var i=a("283e"),n=a("5cbc");for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);n["default"].render=i["render"],t["default"]=n["default"]},f523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=10;var n={props:{count:{type:Number,default:0}},emits:["close","duplicate"],data(){return{loading:!1,maximumCount:i}},computed:{hasTooManySelected(){return this.count>this.maximumCount}},methods:{onDuplicateCampaigns(){!0!==this.loading&&(this.loading=!0,this.$emit("duplicate",()=>{this.loading=!1}))}}};t.default=n},f804:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".c-campaign-actions .c-campaign-actions__action{margin-right:8px}.c-campaign-actions .c-campaign-actions__action:last-of-type{margin-right:0}",""]),e.exports=t},f8c1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={emits:["close"],data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,initialized:!1,loading:!1,errored:!1,currentPage:0,hasNextPage:!1}},computed:{recipients(){return this.$store.getters["campaigns/getRecipients"]}},mounted(){this.$store.commit("campaigns/resetRecipients"),this.loadNextRecipients()},methods:{loadNextRecipients(){!0!==this.loading&&(this.loading=!0,this.currentPage+=1,this.$store.dispatch("campaigns/acquireRecipients",{websiteId:this.websiteId,campaignId:this.campaignId,page:this.currentPage}).then(e=>{this.initialized=!0,this.loading=!1,this.hasNextPage=!0!==e}).catch(()=>{this.loading=!1,this.currentPage-=1,!0!==this.initialized&&(this.errored=!0)}))}}};t.default=i},fbe9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=x;var i=a("7a23");const n={class:"c-campaigns-editor"},c={class:"o-page__header o-page__header--with-breadcrumb"},o={key:0,class:"c-campaigns-editor__box o-page__box o-page__box--no-animation o-page__box--no-margin o-page__box--no-padding"},s={class:"c-campaigns-editor__subject"},l={key:0,class:"c-campaigns-editor__subject-aside"},r={class:"c-campaigns-editor__subject-help u-has-tooltip"},p={class:"c-campaigns-editor__label c-campaigns-editor__label--templates"},m={class:"c-campaigns-editor__label c-campaigns-editor__label--options"},d={class:"c-campaigns-editor__section c-campaigns-editor__section--delivery"},g={class:"c-campaigns-editor__label"},_={class:"c-campaigns-editor__section"},u={class:"c-campaigns-editor__label"},f={class:"c-campaigns-editor__label"},h={class:"c-campaigns-editor__recipients"},b={key:0,class:"c-campaigns-editor__recipients-help u-has-tooltip"};function x(e,t,a,x,y,C){const v=(0,i.resolveComponent)("base-breadcrumb"),k=(0,i.resolveComponent)("field-input"),E=(0,i.resolveComponent)("base-tooltip"),w=(0,i.resolveComponent)("base-icon"),I=(0,i.resolveComponent)("base-banner"),T=(0,i.resolveComponent)("field-checkbox"),N=(0,i.resolveComponent)("field-select"),A=(0,i.resolveComponent)("campaign-actions"),P=(0,i.resolveComponent)("common-editor"),S=(0,i.resolveComponent)("dispatch-campaign"),O=(0,i.resolveComponent)("configure-email-domain"),M=(0,i.resolveComponent)("editor-close-warning"),D=(0,i.resolveComponent)("manage-templates"),V=(0,i.resolveComponent)("edit-options"),B=(0,i.resolveComponent)("preview-recipients");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[e.hideEditor?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:0},[(0,i.createElementVNode)("div",c,[(0,i.createVNode)(v,{class:"o-page__breadcrumb",onClick:C.onBreadcrumbItemClickWithWarning,items:e.breadcrumb.items,title:e.$t("CAMPAIGNS.EDIT.TITLE")},null,8,["onClick","items","title"])]),e.campaign?((0,i.openBlock)(),(0,i.createElementBlock)("div",o,[(0,i.createVNode)(P,{class:"c-campaigns-editor__editor",modelValue:C.message,"onUpdate:modelValue":t[8]||(t[8]=e=>C.message=e),onToggleFormat:C.onToggleFormat,onChangeMode:C.onChangeMode,onInputKey:C.onInputKey,controls:e.editorControls,"controls-data":e.editorControlsData,disabled:C.isDisabled,format:e.campaign.format,formats:e.editorFormats,type:y.type,"controls-class":"c-campaigns-editor__controls"},{header:(0,i.withCtx)(()=>[(0,i.createElementVNode)("div",s,[(0,i.createVNode)(k,{class:"c-campaigns-editor__subject-field js-campaigns-editor-subject",modelValue:C.subject,"onUpdate:modelValue":t[0]||(t[0]=e=>C.subject=e),"has-borders":!1,placeholder:e.$t("CAMPAIGNS.EDIT.EDITOR_SUBJECT_PLACEHOLDER"),name:"subject",size:"large","text-align":"center"},null,8,["modelValue","placeholder"]),C.isDisabled?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("div",l,[(0,i.createElementVNode)("div",r,[(0,i.createVNode)(E,{direction:"middle",align:"left",color:"white",multiline:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_SUBJECT_HELP")),1)]),_:1}),(0,i.createVNode)(w,{name:"help",size:"18px",color:"#a8c6df"})])]))])]),banner:(0,i.withCtx)(()=>["html"!==e.campaign.format&&C.message&&C.message.length>e.$CONFIG.CRISP_LIMITS_MESSAGES_CHARACTERS?((0,i.openBlock)(),(0,i.createBlock)(I,{key:0,content:e.$t("CAMPAIGNS.EDIT.EDITOR_ERROR_LABEL")+"  "+C.message.length+" / "+e.$CONFIG.CRISP_LIMITS_MESSAGES_CHARACTERS+" "+e.$t("CAMPAIGNS.EDIT.EDITOR_ERROR_MARKED"),"has-close":!1,color:"red","text-align":"center"},null,8,["content"])):(0,i.createCommentVNode)("",!0),e.campaign.ready||"automated"===e.campaign.type?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(I,{key:1,content:e.$t("CAMPAIGNS.EDIT.EDITOR_NOTICE_ONE_SHOT_NOT_READY"),"has-close":!1,"text-align":"center"},null,8,["content"])),e.campaign.dispatched&&"automated"!==e.campaign.type?((0,i.openBlock)(),(0,i.createBlock)(I,{key:2,content:e.$t("CAMPAIGNS.EDIT.EDITOR_NOTICE_ONE_SHOT_DISPATCHED"),"has-close":!1,color:"grey","text-align":"center"},null,8,["content"])):(0,i.createCommentVNode)("",!0),e.campaign.ready||"automated"!==e.campaign.type?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(I,{key:3,content:e.$t("CAMPAIGNS.EDIT.EDITOR_NOTICE_AUTOMATED_NOT_READY"),"has-close":!1,"text-align":"center"},null,8,["content"])),e.campaign.ready&&!e.campaign.running&&e.campaign.dispatched&&"automated"===e.campaign.type?((0,i.openBlock)(),(0,i.createBlock)(I,{key:4,content:e.$t("CAMPAIGNS.EDIT.EDITOR_NOTICE_AUTOMATED_DEACTIVATED"),"has-close":!1,color:"grey","text-align":"center"},null,8,["content"])):(0,i.createCommentVNode)("",!0)]),leftFooter:(0,i.withCtx)(()=>[(0,i.createElementVNode)("div",{class:"c-campaigns-editor__section c-campaigns-editor__section--templates",onClick:t[1]||(t[1]=(...e)=>C.onManageTemplates&&C.onManageTemplates(...e))},[(0,i.createVNode)(w,{class:"c-campaigns-editor__icon",name:"view_module",size:"20px"}),(0,i.createElementVNode)("div",p,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_MANAGE_TEMPLATES")),1)]),(0,i.createElementVNode)("div",{class:"c-campaigns-editor__section c-campaigns-editor__section--options",onClick:t[2]||(t[2]=(...e)=>C.onEditOptions&&C.onEditOptions(...e))},[(0,i.createVNode)(w,{class:"c-campaigns-editor__icon",name:"settings",size:"18px"}),(0,i.createElementVNode)("div",m,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_EDIT_OPTIONS")),1)]),(0,i.createElementVNode)("div",d,[(0,i.createElementVNode)("div",g,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_DELIVER_TO")),1),(0,i.createVNode)(T,{class:"c-campaigns-editor__field",modelValue:C.deliverToChatbox,"onUpdate:modelValue":t[3]||(t[3]=e=>C.deliverToChatbox=e),block:!1,label:e.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_DELIVER_TO_CHATBOX"),disabled:"html"===e.campaign.format,name:"deliverToChatbox"},null,8,["modelValue","label","disabled"]),(0,i.createVNode)(T,{class:"c-campaigns-editor__field",modelValue:C.deliverToEmail,"onUpdate:modelValue":t[4]||(t[4]=e=>C.deliverToEmail=e),block:!1,label:e.$t("CAMPAIGNS.EDIT.EDITOR_OPTION_DELIVER_TO_EMAIL"),disabled:"html"===e.campaign.format,name:"deliverToEmail"},null,8,["modelValue","label","disabled"])]),(0,i.createElementVNode)("div",_,[(0,i.createElementVNode)("div",u,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_SEND_AS")),1),(0,i.createVNode)(N,{class:"c-campaigns-editor__sender",modelValue:C.sender,"onUpdate:modelValue":t[5]||(t[5]=e=>C.sender=e),"full-width":!1,options:C.senderOptions,position:"top",name:"segment",size:"small",searchable:""},null,8,["modelValue","options"])]),"automated"!==e.campaign.type?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,onClick:t[7]||(t[7]=(...e)=>C.onPreviewRecipients&&C.onPreviewRecipients(...e)),class:(0,i.normalizeClass)(["c-campaigns-editor__section--recipients","c-campaigns-editor__section",{"c-campaigns-editor__section--recipients-preview":!e.campaign.dispatched}])},[(0,i.createElementVNode)("div",f,(0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS")),1),(0,i.createElementVNode)("span",h,(0,i.toDisplayString)(y.targetsCount),1),""===y.targetsCount?((0,i.openBlock)(),(0,i.createElementBlock)("span",b,[t[6]||((0,i.setBlockTracking)(-1),t[6]=(0,i.createVNode)(E,{direction:"middle",align:"left"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("CAMPAIGNS.EDIT.EDITOR_TARGETS_TOO_COMPLEX")),1)]),_:1}),(0,i.setBlockTracking)(1),t[6]),(0,i.createVNode)(w,{class:"c-campaigns-editor__recipients-help-icon",name:"help",size:"16px"})])):(0,i.createCommentVNode)("",!0)],2)):(0,i.createCommentVNode)("",!0)]),rightFooter:(0,i.withCtx)(()=>[(0,i.createVNode)(A,{class:"c-campaigns-editor__actions c-campaigns-editor__section",onDispatch:C.onDispatchConfirm,onSaved:C.onCampaignSaved,campaign:e.campaign,format:e.campaign.format,"is-campaign-edited":e.edited,"is-directory":!1,mode:y.mode},null,8,["onDispatch","onSaved","campaign","format","is-campaign-edited","mode"])]),_:1},8,["modelValue","onToggleFormat","onChangeMode","onInputKey","controls","controls-data","disabled","format","formats","type"])])):(0,i.createCommentVNode)("",!0)],64)),y.popups.dispatchCampaign.visible?((0,i.openBlock)(),(0,i.createBlock)(S,{key:1,class:"c-campaigns-editor__popup",onClose:t[9]||(t[9]=e=>y.popups.dispatchCampaign.visible=!1),onDomainNotConfigured:t[10]||(t[10]=e=>y.popups.configureEmailDomain.visible=!0),"campaign-id":y.popups.dispatchCampaign.campaignId,type:y.popups.dispatchCampaign.type,targets:y.popups.dispatchCampaign.targets},null,8,["campaign-id","type","targets"])):(0,i.createCommentVNode)("",!0),y.popups.configureEmailDomain.visible?((0,i.openBlock)(),(0,i.createBlock)(O,{key:2})):(0,i.createCommentVNode)("",!0),y.popups.closeWarning.visible?((0,i.openBlock)(),(0,i.createBlock)(M,{key:3,class:"c-campaigns-editor__popup",onClose:C.onWarningClose,onBack:C.onWarningBack,type:y.type},null,8,["onClose","onBack","type"])):(0,i.createCommentVNode)("",!0),y.popups.manageTemplates.visible?((0,i.openBlock)(),(0,i.createBlock)(D,{key:4,class:"c-campaigns-editor__popup",onClose:t[11]||(t[11]=e=>y.popups.manageTemplates.visible=!1)})):(0,i.createCommentVNode)("",!0),y.popups.editOptions.visible?((0,i.openBlock)(),(0,i.createBlock)(V,{key:5,class:"c-campaigns-editor__popup",onClose:t[12]||(t[12]=e=>y.popups.editOptions.visible=!1),onEdit:C.onOptionsEdit,"campaign-id":y.popups.editOptions.campaignId,tracking:y.popups.editOptions.tracking,"sender-name-website":y.popups.editOptions.senderNameWebsite,"sender-email-reply":y.popups.editOptions.senderEmailReply},null,8,["onEdit","campaign-id","tracking","sender-name-website","sender-email-reply"])):(0,i.createCommentVNode)("",!0),y.popups.previewRecipients.visible?((0,i.openBlock)(),(0,i.createBlock)(B,{key:6,class:"c-campaigns-editor__popup",onClose:t[13]||(t[13]=e=>y.popups.previewRecipients.visible=!1)})):(0,i.createCommentVNode)("",!0)])}},feda:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("6a84"));function n(e){return e&&e.__esModule?e:{default:e}}var c={emits:["close"],data(){return{websiteId:this.$route.params.websiteId,loading:!1,name:"",format:"markdown",formatOptions:[{icon:"format_markdown_default",iconHovered:"format_markdown_hovered",iconHeight:"18px",iconWidth:"28px",value:"markdown",label:"Markdown"},{icon:"format_html_default",iconHovered:"format_html_hovered",iconHeight:"18px",iconWidth:"28px",value:"html",label:"HTML"}]}},methods:{onSaveTemplate(e=!1){!0!==this.loading&&!0!==e&&(this.loading=!0,this.$store.dispatch("campaigns/createTemplate",{websiteId:this.websiteId,template:{name:this.name,format:this.format}}).then(e=>{i.default.success("templates_created"),this.$emit("close"),this.$router.push({name:"app.website.campaigns.template",params:{websiteId:this.websiteId,templateId:e.template_id}}).catch(()=>{})}).catch(()=>{this.loading=!1}))}}};t.default=c},fff4:function(e,t,a){"use strict";a("80e5")}}]);