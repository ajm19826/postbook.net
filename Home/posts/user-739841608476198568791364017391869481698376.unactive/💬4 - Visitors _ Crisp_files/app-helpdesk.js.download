(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-helpdesk"],{"0025":function(e,t,l){"use strict";var i=l("d01c");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"070b":function(e,t,l){"use strict";l.r(t);var i=l("6630"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},"0719":function(e,t,l){"use strict";l.r(t);var i=l("25bb6"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},"0a3a":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=c;var i=l("7a23");const a=(0,i.createElementVNode)("span",{class:"o-table__active"},null,-1),o={key:0},s={key:1},n={key:0,class:"c-helpdesk-table-category-item__updated u-ellipsis"},r={key:1,class:"c-helpdesk-table-category-item__created u-ellipsis"};function c(e,t,l,c,d,p){const u=(0,i.resolveComponent)("field-checkbox"),h=(0,i.resolveComponent)("base-badge"),_=(0,i.resolveComponent)("base-button");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["c-helpdesk-table-category-item","o-table__tr","o-table__tr--full-height",{"o-table__tr--active":l.active}])},[a,(0,i.createElementVNode)("div",{class:"c-helpdesk-table-category-item__td o-table__td o-table__td--center o-table__td--checkbox o-table__td--no-padding",onClick:t[2]||(t[2]=(0,i.withModifiers)(()=>{},["stop","prevent"])),style:(0,i.normalizeStyle)(e.getFieldStyle("checkbox"))},[(0,i.createVNode)(u,{class:"c-helpdesk-table-category-item__custom c-helpdesk-table-category-item__checkbox",modelValue:l.active,"onUpdate:modelValue":t[0]||(t[0]=e=>l.active=e),onChange:p.onCheckboxChange,onClick:t[1]||(t[1]=e=>e.stopPropagation()),name:l.category.category_id},null,8,["modelValue","onChange","name"])],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-category-item__td c-helpdesk-table-category-item__headline u-ellipsis o-table__td o-table__td--bold o-table__td--no-padding",style:(0,i.normalizeStyle)(e.getFieldStyle("name"))},[l.category.name?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"c-helpdesk-table-category-item__name",style:(0,i.normalizeStyle)({backgroundColor:l.category.color})},(0,i.toDisplayString)(l.category.name),5)):(0,i.createCommentVNode)("",!0)],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-category-item__description o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("description"))},[l.category.description?((0,i.openBlock)(),(0,i.createElementBlock)("span",o,(0,i.toDisplayString)(l.category.description),1)):((0,i.openBlock)(),(0,i.createElementBlock)("span",s,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_CATEGORIES_NO_DESCRIPTION")),1))],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-category-item__statistics o-table__td o-table__td--center u-ellipsis",style:(0,i.normalizeStyle)(e.getFieldStyle("statistics"))},[(0,i.createVNode)(h,{uppercase:!1,color:"orange",size:"mini",filled:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(l.category.articles)+" "+(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_CATEGORIES_ARTICLES_LABEL")),1)]),_:1})],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-category-item__date o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("updated_at"))},[l.category.updated_at?((0,i.openBlock)(),(0,i.createElementBlock)("span",n,(0,i.toDisplayString)(e.$filters.date.timeAgo(l.category.updated_at)),1)):(0,i.createCommentVNode)("",!0),l.category.created_at?((0,i.openBlock)(),(0,i.createElementBlock)("span",r,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_DATE_CREATED"))+" "+(0,i.toDisplayString)(e.$filters.date.timeAgo(l.category.created_at)),1)):(0,i.createCommentVNode)("",!0)],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-category-item__actions o-table__td o-table__td--right",style:(0,i.normalizeStyle)(e.getFieldStyle("actions"))},[(0,i.createVNode)(_,{class:"c-helpdesk-table-category-item__action",onClick:p.onEditCategory,"left-icon":"settings",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_CATEGORIES_EDIT")),1)]),_:1},8,["onClick"])],4)],2)}},"0c37":function(e,t,l){var i=l("17d0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("e8846174",i,!0,{sourceMap:!1,shadowMode:!1})},1156:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var i=l("7a23");function a(e,t,l,a,o,s){const n=(0,i.resolveComponent)("base-headlines"),r=(0,i.resolveComponent)("base-button"),c=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(c,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:s.onExportHelpdesk,parent:"helpdesk"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(r,{onClick:s.onExportHelpdesk,loading:o.loading,"left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_EXPORT_HELPDESK_PROCEED")),1)]),_:1},8,["onClick","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(n,{title:e.$t("HELPDESK.DEFAULT.POPUPS_EXPORT_HELPDESK_TITLE"),description:e.$t("HELPDESK.DEFAULT.POPUPS_EXPORT_HELPDESK_NOTICE")},null,8,["title","description"])]),_:1},8,["onEnter"])}},"11c4":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var i=l("7a23");function a(e,t,l,a,o,s){const n=(0,i.resolveComponent)("field-input"),r=(0,i.resolveComponent)("base-button"),c=(0,i.resolveComponent)("base-popup"),d=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(d,{as:"div"},{default:(0,i.withCtx)(({meta:l})=>[(0,i.createVNode)(c,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>s.onUpdateOrder(!l.valid),parent:"helpdesk"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(r,{onClick:e=>s.onUpdateOrder(!l.valid),"left-icon":"check_circle",disabled:!l.valid},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_EDIT_ORDER_PROCEED")),1)]),_:2},1032,["onClick","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(n,{class:"u-mb20",modelValue:o.order,"onUpdate:modelValue":t[0]||(t[0]=e=>o.order=e),label:e.$t("HELPDESK.ARTICLE.POPUPS_EDIT_ORDER_ORDER_LABEL"),placeholder:e.$t("HELPDESK.ARTICLE.POPUPS_EDIT_ORDER_ORDER_PLACEHOLDER"),min:0,step:1,name:"order",rules:"required|numeric",size:"medium",type:"number",autofocus:""},null,8,["modelValue","label","placeholder"])]),_:2},1032,["onEnter"])]),_:1})}},1224:function(e,t,l){var i=l("5d7c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("52984abc",i,!0,{sourceMap:!1,shadowMode:!1})},"14fc":function(e,t,l){"use strict";l.r(t);var i=l("c229"),a=l("bc40");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("a28f");a["default"].render=i["render"],t["default"]=a["default"]},"159d":function(e,t,l){"use strict";l.r(t);var i=l("8607"),a=l("2c11");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);a["default"].render=i["render"],t["default"]=a["default"]},"15c2":function(e,t,l){"use strict";var i=l("1156");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"16d29":function(e,t,l){"use strict";var i=l("6f34");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"17d0":function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-alternate-locales .c-base-popup__content{max-height:none!important}.c-alternate-locales .c-alternate-locales__spinner{margin:30px 0}.c-alternate-locales .c-alternate-locales__line{display:-webkit-box;display:-ms-flexbox;display:flex}.c-alternate-locales .c-alternate-locales__line .c-alternate-locales__label{text-align:left}.c-alternate-locales .c-alternate-locales__line .c-alternate-locales__label-locale{-webkit-box-flex:0.28;-ms-flex:0.28;flex:0.28;margin-right:10px;padding-right:8px}.c-alternate-locales .c-alternate-locales__line .c-alternate-locales__label-article{-webkit-box-flex:0.72;-ms-flex:0.72;flex:0.72}",""]),e.exports=t},1878:function(e,t,l){var i=l("4bdf");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("b23b8452",i,!0,{sourceMap:!1,shadowMode:!1})},"1a52":function(e,t,l){"use strict";l.r(t);var i=l("26ec"),a=l("d298");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);a["default"].render=i["render"],t["default"]=a["default"]},"1b4d":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=p;var i=l("7a23");const a={class:"c-helpdesk-index o-layout o-layout--flex"},o={class:"c-helpdesk-index__container o-layout__columns o-table"},s=(0,i.createElementVNode)("div",null,null,-1),n=(0,i.createElementVNode)("div",null,null,-1),r={key:0,class:"c-helpdesk-index__popup"},c={class:"c-helpdesk-index__popup-inner"},d={class:"c-helpdesk-index__editor"};function p(e,t,l,p,u,h){const _=(0,i.resolveComponent)("field-select"),m=(0,i.resolveComponent)("secondary-menu"),f=(0,i.resolveComponent)("base-button"),E=(0,i.resolveComponent)("base-header"),b=(0,i.resolveComponent)("helpdesk-table-section"),k=(0,i.resolveComponent)("helpdesk-table-article-item"),g=(0,i.resolveComponent)("helpdesk-table-category-item"),L=(0,i.resolveComponent)("base-spinner"),C=(0,i.resolveComponent)("vue-infinite-loading"),v=(0,i.resolveComponent)("base-empty-spot"),P=(0,i.resolveComponent)("common-table"),y=(0,i.resolveComponent)("router-view"),S=(0,i.resolveComponent)("initialize-helpdesk"),T=(0,i.resolveComponent)("destroy-locale"),x=(0,i.resolveComponent)("export-helpdesk"),I=(0,i.resolveComponent)("import-helpdesk"),A=(0,i.resolveComponent)("new-article"),D=(0,i.resolveComponent)("new-category"),O=(0,i.resolveComponent)("edit-category"),w=(0,i.resolveComponent)("new-locale"),N=(0,i.resolveComponent)("remove-items");return(0,i.openBlock)(),(0,i.createElementBlock)("div",a,[(0,i.createVNode)(m,{class:"c-helpdesk-index__menu js-menu",lists:h.lists,locked:u.loading},{header:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{class:"c-helpdesk-index__locale-switcher",modelValue:u.locale,"onUpdate:modelValue":t[0]||(t[0]=e=>u.locale=e),disabled:h.localeSwitcherOptions.length<=1,options:h.localeSwitcherOptions,name:"localeSwitcher",size:"small",dark:"",searchable:""},null,8,["modelValue","disabled","options"])]),_:1},8,["lists","locked"]),(0,i.createElementVNode)("div",o,[(0,i.createVNode)(E,{class:"c-helpdesk-index__header",onSearch:h.onSearch,"search-loading":u.searching,"search-disabled":u.loading&&!u.searching,"search-value":u.query.search_name||u.query.search_title,title:h.title,icon:"book",search:""},{buttons:(0,i.withCtx)(()=>[(0,i.createVNode)(f,{class:"c-helpdesk-index__action c-helpdesk-index__action--minimized c-helpdesk-index__action--minimized-early",onClick:h.onViewDocumentation,id:"view_helpdesk",color:"blue","left-icon":"help",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.COMMON.DOCUMENTATION")),1)]),_:1},8,["onClick"]),"articles"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(f,{key:0,class:"c-helpdesk-index__action c-helpdesk-index__action--minimized",onClick:t[1]||(t[1]=e=>h.onDisplayPopup("newArticle",!0)),color:"black","left-icon":"add_circle",size:"small",id:"new_article"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.COMMON.NEW_ARTICLE")),1)]),_:1})):"categories"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(f,{key:1,class:"c-helpdesk-index__action c-helpdesk-index__action--minimized",onClick:t[2]||(t[2]=e=>h.onDisplayPopup("newCategory",!0)),color:"black","left-icon":"add_circle",size:"small",id:"new_category"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.COMMON.NEW_CATEGORY")),1)]),_:1})):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(f,{class:"c-helpdesk-index__action",onItemClick:h.onItemClick,items:h.buttonItems,color:"white",id:"actions","left-icon":"whatshot",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS")),1)]),_:1},8,["onItemClick","items"])]),_:1},8,["onSearch","search-loading","search-disabled","search-value","title"]),(0,i.createVNode)(P,{class:"c-helpdesk-index__table",data:"categories"===u.itemType?h.categoriesWithoutNone:null,"data-by-section":"articles"===u.itemType?h.articlesByCategory:null,fields:u.table[u.itemType].fields,initialized:u.initialized,"key-field":"articles"===u.itemType?"article_id":"category_id"},(0,i.createSlots)({"section-item":(0,i.withCtx)(({sectionItem:e})=>[(0,i.createVNode)(b,{section:e},null,8,["section"])]),item:(0,i.withCtx)(({item:e,index:t})=>["articles"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(k,{key:0,onCheck:h.onCheckboxChange,active:-1!==u.selectedRows.indexOf(e.article_id),article:e,locale:u.locale,fields:u.table.articles.fields},null,8,["onCheck","active","article","locale","fields"])):"categories"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(g,{key:1,onCheck:h.onCheckboxChange,onEdit:h.onEditCategory,active:-1!==u.selectedRows.indexOf(e.category_id),category:e,fields:u.table.categories.fields},null,8,["onCheck","onEdit","active","category","fields"])):(0,i.createCommentVNode)("",!0)]),empty:(0,i.withCtx)(()=>["articles"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(v,{key:0,description:h.emptySpotArticleDescription,title:h.emptySpotArticleTitle,illustration:"helpdesk_articles"},{buttons:(0,i.withCtx)(()=>[u.query.search_title?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(f,{key:0,onClick:t[3]||(t[3]=e=>h.onDisplayPopup("newArticle",!0)),"left-icon":"add_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.COMMON.NEW_ARTICLE")),1)]),_:1})),u.query.search_title?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(f,{key:1,onClick:t[4]||(t[4]=e=>h.onDisplayPopup("importHelpdesk",!0)),"left-icon":"cloud_upload",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS_IMPORT_ARTICLES")),1)]),_:1}))]),_:1},8,["description","title"])):"categories"===u.itemType?((0,i.openBlock)(),(0,i.createBlock)(v,{key:1,description:h.emptySpotCategoryDescription,title:h.emptySpotCategoryTitle,illustration:"helpdesk_categories"},{buttons:(0,i.withCtx)(()=>[u.query.search_name?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(f,{key:0,onClick:t[5]||(t[5]=e=>h.onDisplayPopup("newCategory",!0)),"left-icon":"add_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.COMMON.NEW_CATEGORY")),1)]),_:1}))]),_:1},8,["description","title"])):(0,i.createCommentVNode)("",!0)]),_:2},[h.page>=1&&!u.query.search_title?{name:"infinite-loading",fn:(0,i.withCtx)(()=>[(0,i.createVNode)(C,{class:"o-table__infinite",onInfinite:h.onLoadMoreItems},{spinner:(0,i.withCtx)(()=>[(0,i.createVNode)(L,{class:"o-table__spinner",size:"18px","border-width":"2px"})]),"no-more":(0,i.withCtx)(()=>[s]),"no-results":(0,i.withCtx)(()=>[n]),_:1},8,["onInfinite"])])}:void 0]),1032,["data","data-by-section","fields","initialized","key-field"])]),"app.website.helpdesk.article"===e.$route.name?((0,i.openBlock)(),(0,i.createElementBlock)("div",r,[(0,i.createElementVNode)("div",c,[(0,i.createElementVNode)("div",d,[(0,i.createVNode)(y,{onExit:h.onExitEditor},null,8,["onExit"])])])])):(0,i.createCommentVNode)("",!0),u.popups.initializeHelpdesk.visible?((0,i.openBlock)(),(0,i.createBlock)(S,{key:1,onClose:t[6]||(t[6]=e=>h.onDisplayPopup("initializeHelpdesk",!1)),onImport:h.onReloadAndImport,onNewArticle:h.onReloadAndNewArticle},null,8,["onImport","onNewArticle"])):(0,i.createCommentVNode)("",!0),u.popups.destroyLocale.visible?((0,i.openBlock)(),(0,i.createBlock)(T,{key:2,onClose:t[7]||(t[7]=e=>h.onDisplayPopup("destroyLocale",!1)),onDestroyed:h.onCurrentLocaleDestroyed,flag:h.flagForLocale,locale:u.locale,"locale-label":h.labelForLocale},null,8,["onDestroyed","flag","locale","locale-label"])):(0,i.createCommentVNode)("",!0),u.popups.exportHelpdesk.visible?((0,i.openBlock)(),(0,i.createBlock)(x,{key:3,onClose:t[8]||(t[8]=e=>h.onDisplayPopup("exportHelpdesk",!1)),locale:u.locale},null,8,["locale"])):(0,i.createCommentVNode)("",!0),u.popups.importHelpdesk.visible?((0,i.openBlock)(),(0,i.createBlock)(I,{key:4,onClose:t[9]||(t[9]=e=>h.onDisplayPopup("importHelpdesk",!1)),locale:u.locale},null,8,["locale"])):(0,i.createCommentVNode)("",!0),u.popups.newArticle.visible?((0,i.openBlock)(),(0,i.createBlock)(A,{key:5,onClose:t[10]||(t[10]=e=>h.onDisplayPopup("newArticle",!1)),flag:h.flagForLocale,locale:u.locale},null,8,["flag","locale"])):(0,i.createCommentVNode)("",!0),u.popups.newCategory.visible?((0,i.openBlock)(),(0,i.createBlock)(D,{key:6,onClose:t[11]||(t[11]=e=>h.onDisplayPopup("newCategory",!1)),flag:h.flagForLocale,locale:u.locale},null,8,["flag","locale"])):(0,i.createCommentVNode)("",!0),u.popups.editCategory.visible?((0,i.openBlock)(),(0,i.createBlock)(O,{key:7,onClose:t[12]||(t[12]=e=>h.onDisplayPopup("editCategory",!1)),category:u.popups.editCategory.category,locale:u.locale},null,8,["category","locale"])):(0,i.createCommentVNode)("",!0),u.popups.newLocale.visible?((0,i.openBlock)(),(0,i.createBlock)(w,{key:8,onClose:t[13]||(t[13]=e=>h.onDisplayPopup("newLocale",!1)),onCreated:h.onSetLocale,"available-locales":u.availableLocales},null,8,["onCreated","available-locales"])):(0,i.createCommentVNode)("",!0),u.popups.removeItems.visible?((0,i.openBlock)(),(0,i.createBlock)(N,{key:9,onClose:t[14]||(t[14]=e=>h.onDisplayPopup("removeItems",!1)),onRemove:h.onRemoveItems,"item-type":u.itemType,selected:u.selectedRows.length},null,8,["onRemove","item-type","selected"])):(0,i.createCommentVNode)("",!0)])}},"1bf6":function(e,t,l){"use strict";var i=l("b1e5");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"1f10":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=u;var i=l("7a23");const a={class:"c-helpdesk-article o-layout o-layout--flex"},o={key:0,class:"c-helpdesk-article__container"},s={class:"o-layout__columns c-helpdesk-article__layout"},n={class:"c-helpdesk-article__section c-helpdesk-article__section--category"},r={class:"c-helpdesk-article__label"},c={class:"c-helpdesk-article__link"},d={class:"c-helpdesk-article__link"},p={class:"c-helpdesk-article__link"};function u(e,t,l,u,h,_){const m=(0,i.resolveComponent)("field-input"),f=(0,i.resolveComponent)("base-banner"),E=(0,i.resolveComponent)("base-language"),b=(0,i.resolveComponent)("field-select"),k=(0,i.resolveComponent)("base-icon"),g=(0,i.resolveComponent)("base-button"),L=(0,i.resolveComponent)("common-editor"),C=(0,i.resolveComponent)("base-overlay"),v=(0,i.resolveComponent)("editor-close-warning"),P=(0,i.resolveComponent)("edit-description"),y=(0,i.resolveComponent)("edit-order"),S=(0,i.resolveComponent)("alternate-locales");return(0,i.openBlock)(),(0,i.createElementBlock)("div",a,[h.hideEditor?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("div",o,[(0,i.createElementVNode)("div",s,[(0,i.createVNode)(L,{class:"c-helpdesk-article__editor",modelValue:h.content,"onUpdate:modelValue":t[11]||(t[11]=e=>h.content=e),controls:h.editor.controls,formats:["markdown"],loading:h.isInitializing,format:"markdown","controls-class":"c-helpdesk-article__controls","preview-class":"c-helpdesk-article__preview",type:"helpdesk"},{header:(0,i.withCtx)(()=>[(0,i.createVNode)(m,{class:"c-helpdesk-article__title",modelValue:h.title,"onUpdate:modelValue":t[0]||(t[0]=e=>h.title=e),"has-borders":!1,placeholder:h.isInitializing?null:e.$t("HELPDESK.ARTICLE.EDITOR_TITLE_PLACEHOLDER"),name:"title",size:"large","text-align":"center"},null,8,["modelValue","placeholder"])]),banner:(0,i.withCtx)(()=>[h.status&&"published"!==h.status?((0,i.openBlock)(),(0,i.createBlock)(f,{key:0,class:"c-helpdesk-article__banner",content:e.$t("HELPDESK.ARTICLE.EDITOR_NOTICE_DRAFT"),"has-close":!1,"text-align":"center"},null,8,["content"])):(0,i.createCommentVNode)("",!0),h.status&&"published"===h.status&&"visible"!==h.visibility?((0,i.openBlock)(),(0,i.createBlock)(f,{key:1,class:"c-helpdesk-article__banner",content:e.$t("HELPDESK.ARTICLE.EDITOR_NOTICE_HIDDEN"),"has-close":!1,color:"grey","text-align":"center"},null,8,["content"])):(0,i.createCommentVNode)("",!0)]),leftFooter:(0,i.withCtx)(()=>[(0,i.createVNode)(E,{class:"c-helpdesk-article__language",onClick:t[1]||(t[1]=e=>h.popups.alternateLocales.visible=!0),disabled:_.helpdeskLocales.length<=1,locale:h.locale},null,8,["disabled","locale"]),(0,i.createElementVNode)("div",n,[(0,i.createElementVNode)("div",r,(0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_CATEGORY")),1),(0,i.createVNode)(b,{class:"c-helpdesk-article__categories",modelValue:h.category,"onUpdate:modelValue":t[2]||(t[2]=e=>h.category=e),onChange:_.onChangeCategory,"full-width":!1,options:h.availableCategories,name:"segment",position:"top",size:"small",searchable:""},null,8,["modelValue","onChange","options"])]),(0,i.createElementVNode)("div",{class:"c-helpdesk-article__section c-helpdesk-article__section--order",onClick:t[3]||(t[3]=(...e)=>_.onEditOrder&&_.onEditOrder(...e))},[(0,i.createElementVNode)("span",c,(0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_ORDER")),1)]),(0,i.createElementVNode)("div",{class:"c-helpdesk-article__section c-helpdesk-article__section--description",onClick:t[4]||(t[4]=(...e)=>_.onEditDescription&&_.onEditDescription(...e))},[(0,i.createElementVNode)("span",d,(0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_DESCRIPTION")),1)]),h.url?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"c-helpdesk-article__section c-helpdesk-article__section--view",onClick:t[5]||(t[5]=(...e)=>_.onViewArticle&&_.onViewArticle(...e))},[(0,i.createVNode)(k,{class:"c-helpdesk-article__icon",name:"open_in_browser",size:"18px"}),(0,i.createElementVNode)("span",p,(0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_VIEW")),1)])):(0,i.createCommentVNode)("",!0)]),rightFooter:(0,i.withCtx)(()=>["published"!==h.status&&"hidden"!==h.visibility&&h.title&&h.content?((0,i.openBlock)(),(0,i.createBlock)(g,{class:"c-helpdesk-article__action c-helpdesk-article__action--collapsable",onClick:t[6]||(t[6]=e=>_.onManageArticle("publish")),loading:h.publishLoading,color:"green",key:"publish","left-icon":"cloud_upload"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_ACTION_PUBLISH")),1)]),_:1},8,["loading"])):(0,i.createCommentVNode)("",!0),"published"===h.status&&"visible"===h.visibility?((0,i.openBlock)(),(0,i.createBlock)(g,{class:"c-helpdesk-article__action c-helpdesk-article__action--collapsable",onClick:t[7]||(t[7]=e=>_.onManageArticle("unpublish")),loading:h.unpublishLoading,color:"red",key:"unpublish","left-icon":"cloud_off"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_ACTION_UNPUBLISH")),1)]),_:1},8,["loading"])):(0,i.createCommentVNode)("",!0),"published"===h.status&&"visible"!==h.visibility&&h.title&&h.content?((0,i.openBlock)(),(0,i.createBlock)(g,{class:"c-helpdesk-article__action c-helpdesk-article__action--collapsable",onClick:t[8]||(t[8]=e=>_.onManageArticle("publish","republish")),loading:h.republishLoading,color:"orange",key:"republish","left-icon":"cloud_done"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_ACTION_REPUBLISH")),1)]),_:1},8,["loading"])):(0,i.createCommentVNode)("",!0),"published"!==h.status&&h.title&&h.content&&!_.hasNotBeenModified?((0,i.openBlock)(),(0,i.createBlock)(g,{class:"c-helpdesk-article__action",onClick:t[9]||(t[9]=e=>_.onSaveArticle(!1)),loading:h.saveLoading,key:"saveDraft","left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_ACTION_SAVE_DRAFT")),1)]),_:1},8,["loading"])):(0,i.createCommentVNode)("",!0),"published"===h.status&&h.title&&h.content&&!_.hasNotBeenModified?((0,i.openBlock)(),(0,i.createBlock)(g,{class:"c-helpdesk-article__action",onClick:t[10]||(t[10]=e=>_.onSaveArticle(!1)),loading:h.saveLoading,key:"save","left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.EDITOR_ACTION_SAVE")),1)]),_:1},8,["loading"])):(0,i.createCommentVNode)("",!0)]),_:1},8,["modelValue","controls","loading"])])])),(0,i.createVNode)(C,{onClose:_.onRequestClose,"has-close":""},null,8,["onClose"]),h.closeWarning.visible?((0,i.openBlock)(),(0,i.createBlock)(v,{key:1,class:"c-helpdesk-article__popup",onClose:_.onWarningClose,onBack:_.onWarningBack,type:"article"},null,8,["onClose","onBack"])):(0,i.createCommentVNode)("",!0),h.popups.editDescription.visible?((0,i.openBlock)(),(0,i.createBlock)(P,{key:2,class:"c-helpdesk-article__popup",onClose:t[12]||(t[12]=e=>h.popups.editDescription.visible=!1),onEdit:_.onUpdateDescription,value:h.description},null,8,["onEdit","value"])):(0,i.createCommentVNode)("",!0),h.popups.editOrder.visible?((0,i.openBlock)(),(0,i.createBlock)(y,{key:3,class:"c-helpdesk-article__popup",onClose:t[13]||(t[13]=e=>h.popups.editOrder.visible=!1),onEdit:_.onUpdateOrder,value:h.order},null,8,["onEdit","value"])):(0,i.createCommentVNode)("",!0),h.popups.alternateLocales.visible?((0,i.openBlock)(),(0,i.createBlock)(S,{key:4,class:"c-helpdesk-article__popup",onClose:t[14]||(t[14]=e=>h.popups.alternateLocales.visible=!1),"current-locale":h.locale},null,8,["current-locale"])):(0,i.createCommentVNode)("",!0)])}},"23c0":function(e,t,l){"use strict";var i=l("7c29");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},2591:function(e,t,l){"use strict";l.r(t);var i=l("79b2"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},"25bb6":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(l("6a84")),a=n(l("b174")),o=n(l("d682")),s=n(l("096a"));function n(e){return e&&e.__esModule?e:{default:e}}var r={components:{AlternateLocaleItem:a.default},props:{currentLocale:{type:String,required:!0}},emits:["close"],data(){return{websiteId:this.$route.params.websiteId,articleId:this.$route.params.articleId,locale:this.$route.params.locale,linkLoading:!1,alternatesLoading:!1,availableLocales:[],remainingLocales:[],alternates:[],actions:[]}},computed:{helpdeskLocales(){return this.$store.getters["helpdesk/getLocales"]}},created(){this.loadAlternates().then(()=>{this.availableLocales=this.buildAvailableLocales(),this.remainingLocales=this.buildRemainingLocales()})},methods:{loadAlternates(){if(!0!==this.alternatesLoading)return this.alternatesLoading=!0,Promise.resolve().then(()=>o.default.articleAlternates(this.websiteId,this.locale,this.articleId).get().catch(()=>Promise.resolve(null))).then(e=>(this.alternates=e.map(e=>({locale:e.locale,article_id:e.article_id})),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.alternatesLoading=!1})},buildAvailableLocales(){let e=this.helpdeskLocales.map(e=>e.locale).filter(e=>e!==this.currentLocale);return this.populateLocales(e)},buildRemainingLocales(){let e=this.helpdeskLocales.map(e=>e.locale).filter(e=>e!==this.currentLocale).filter(e=>0===this.alternates.filter(t=>t.locale===e).length);return this.populateLocales(e)},populateLocales(e){return e.map(e=>({flagCountry:this.$filters.locale.countryForLocale(e),label:this.$filters.locale.localeRead(e),value:e}))},removeAlternateAction(e,t,l=null,i=null,a=null,o=null){let s=i=>{let a=i.locale===t&&i.type===e;return null!==l&&(a=a&&i.articleId===l),a},n=e=>!s(e);this.actions.some(s)?(this.actions=this.actions.filter(n),"function"===typeof i&&i()):"function"===typeof a&&a(),"function"===typeof o&&o()},onAlternateAdded(e,t){let l=this.alternates.findIndex(t=>t.locale===e);-1!==l&&(this.alternates.splice(l,1),this.actions.push({type:"remove",locale:e,articleId:this.alternates[l].article_id})),this.alternates.push({locale:e,article_id:t}),this.removeAlternateAction("remove",e,t,null,()=>{this.removeAlternateAction("remove",e,null,()=>{this.actions.push({type:"update",locale:e,articleId:t})},()=>{this.actions.push({type:"add",locale:e,articleId:t})})}),this.remainingLocales=this.buildRemainingLocales()},onAlternateRemoved(e,t){let l=this.alternates.findIndex(t=>t.locale===e);-1!==l&&this.alternates.splice(l,1),this.removeAlternateAction("add",e,null,null,()=>{this.removeAlternateAction("update",e,null,null,null,()=>{this.actions.push({type:"remove",locale:e,articleId:t})})}),this.remainingLocales=this.buildRemainingLocales()},onAlternateUpdated(e,t){this.removeAlternateAction("add",e,null,()=>{this.actions.push({type:"add",locale:e,articleId:t})},()=>{this.removeAlternateAction("update",e,null,null,null,()=>{this.actions.push({type:"update",locale:e,articleId:t})})})},onAlternateClearUpdates(e){this.removeAlternateAction("update",e)},onAlternatesProceed(){this.actions.length>0&&!0!==this.linkLoading&&(this.linkLoading=!0,Promise.resolve().then(()=>Promise.all(this.actions.map(e=>"remove"===e.type||"update"===e.type?o.default.articleAlternate(this.websiteId,this.locale,this.articleId,e.locale).delete():Promise.resolve()))).then(e=>(e||[]).filter(e=>void 0!==e).length>0?s.default.temporizeDataAccess():Promise.resolve()).then(()=>Promise.all(this.actions.map(e=>"add"===e.type||"update"===e.type?o.default.articleAlternate(this.websiteId,this.locale,this.articleId,e.locale).put({article_id:e.articleId}):Promise.resolve()))).then(()=>(i.default.success("helpdesk_article_alternate_locales_saved"),this.onClose(),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.linkLoading=!1}))},onClose(){this.$emit("close"),this.$store.commit("helpdesk/resetAvailableArticles")}}};t.default=r},"26c1":function(e,t,l){"use strict";l("59c6")},"26ec":function(e,t,l){"use strict";var i=l("6d5d");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"2a61":function(e,t,l){var i=l("75b7");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("00e4927e",i,!0,{sourceMap:!1,shadowMode:!1})},"2bd7":function(e,t,l){"use strict";l.r(t);var i=l("6272"),a=l("d23b");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("bf69");a["default"].render=i["render"],t["default"]=a["default"]},"2c11":function(e,t,l){"use strict";l.r(t);var i=l("dc46"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},"2db6":function(e,t,l){"use strict";l.r(t);var i=l("f953"),a=l("ca21");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);a["default"].render=i["render"],t["default"]=a["default"]},3394:function(e,t,l){"use strict";l.r(t);var i=l("c86c"),a=l("2591");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("89c4b");a["default"].render=i["render"],t["default"]=a["default"]},"36ea":function(e,t,l){"use strict";l.r(t);var i=l("54be7"),a=l("f320");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("a24c6");a["default"].render=i["render"],t["default"]=a["default"]},"3e44":function(e,t,l){"use strict";l.r(t);var i=l("aca2"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},"41d2":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{value:{type:Number,default:0}},emits:["close","edit"],data(){return{order:0}},created(){this.order=this.value},methods:{onUpdateOrder(e=!1){!0!==e&&(this.$emit("edit",this.order),this.$emit("close"))}}};t.default=i},"477b":function(e,t,l){var i=l("dd00");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("4bec5c6a",i,!0,{sourceMap:!1,shadowMode:!1})},"4bdf":function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-helpdesk-table-category-item{color:#000;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__name{display:inline-block;padding:0 15px;max-width:150px;height:30px;border-radius:2px;background-color:#2e628a;color:#fff;line-height:30px}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__description{line-height:16px;-webkit-hyphens:auto;hyphens:auto;word-break:break-word}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__headline{padding-left:0}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__status{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#75869c;font-weight:700}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__checkbox{display:inline-block;width:18px;height:18px;margin-bottom:-2px}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__date{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__date .c-helpdesk-table-category-item__updated{font-weight:700;font-size:13px}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__date .c-helpdesk-table-category-item__created{color:#75869c;font-size:12px;line-height:13px;margin-top:2px}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions .c-helpdesk-table-category-item__action{margin-right:15px}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions .c-helpdesk-table-category-item__action:last-child{margin-right:0}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions .c-helpdesk-table-category-item__action--text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#0093ee;-webkit-transition:color .1s linear;transition:color .1s linear;cursor:pointer}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions .c-helpdesk-table-category-item__action--text .c-helpdesk-table-category-item__icon{margin-right:5px;fill:#0093ee;-webkit-transition:fill .1s linear;transition:fill .1s linear}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions .c-helpdesk-table-category-item__action--text .c-helpdesk-table-category-item__label{text-decoration:underline;font-weight:700}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions .c-helpdesk-table-category-item__action--text:hover{color:#3f536e}.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions .c-helpdesk-table-category-item__action--text:hover .c-helpdesk-table-category-item__icon{fill:#3f536e}.c-helpdesk-table-category-item:hover .c-helpdesk-table-category-item__actions{opacity:1}@media (max-width:90.625em){.c-helpdesk-table-category-item .c-helpdesk-table-category-item__actions .c-helpdesk-table-category-item__action .c-base-button__label{display:none}}",""]),e.exports=t},"4d12":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=s;var i=l("7a23");const a={class:"c-helpdesk-table-section o-table__tr"},o={class:"c-helpdesk-table-section__name u-ellipsis"};function s(e,t,l,s,n,r){const c=(0,i.resolveComponent)("base-badge");return(0,i.openBlock)(),(0,i.createElementBlock)("div",a,[(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",{class:"c-helpdesk-table-section__name-inner",style:(0,i.normalizeStyle)({backgroundColor:l.section.color})},(0,i.toDisplayString)(l.section.name),5)]),(0,i.createVNode)(c,{class:"c-helpdesk-table-section__articles",uppercase:!1,size:"mini",filled:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(l.section.count)+" "+(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_SECTION_ARTICLES_ARTICLES")),1)]),_:1})])}},"4fa7":function(e,t,l){"use strict";l.r(t);var i=l("e3a04"),a=l("8405");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);a["default"].render=i["render"],t["default"]=a["default"]},"507d":function(e,t,l){var i=l("b6e7");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("b40b048e",i,!0,{sourceMap:!1,shadowMode:!1})},"54be7":function(e,t,l){"use strict";var i=l("1b4d");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"571f":function(e,t,l){"use strict";var i=l("5fb1");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"59c6":function(e,t,l){var i=l("a891");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("7e80f827",i,!0,{sourceMap:!1,shadowMode:!1})},"5bbc":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{value:{type:String,default:""}},emits:["close","edit"],data(){return{description:""}},created(){this.description=this.value},methods:{onUpdateDescription(e=!1){!0!==e&&(this.$emit("edit",this.description),this.$emit("close"))}}};t.default=i},"5d7c":function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-edit-category .c-edit-category__line{display:-webkit-box;display:-ms-flexbox;display:flex}.c-edit-category .c-edit-category__line .c-edit-category__field{-webkit-box-flex:1;-ms-flex:1;flex:1}",""]),e.exports=t},"5d96":function(e,t,l){"use strict";l.r(t);var i=l("5bbc"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},"5db8":function(e,t,l){"use strict";var i=l("1f10");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"5eb0":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(l("b919"));function a(e){return e&&e.__esModule?e:{default:e}}var o={mixins:[i.default],props:{active:{type:Boolean,default:!1},category:{type:Object,required:!0},fields:{type:Object,required:!0}},emits:["check","edit"],methods:{onCheckboxChange(e,t){this.$emit("check",e,t)},onEditCategory(){this.$emit("edit",this.category)}}};t.default=o},"5fb1":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=s;var i=l("7a23");const a={class:"u-bold"},o={class:"u-bold"};function s(e,t,l,s,n,r){const c=(0,i.resolveComponent)("base-headlines"),d=(0,i.resolveComponent)("field-input"),p=(0,i.resolveComponent)("base-space"),u=(0,i.resolveComponent)("base-heading"),h=(0,i.resolveComponent)("base-button"),_=(0,i.resolveComponent)("base-popup"),m=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(m,{as:""},{default:(0,i.withCtx)(({meta:s})=>["name"===n.step?((0,i.openBlock)(),(0,i.createBlock)(_,{key:0,onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>r.onNext(!s.valid),parent:"helpdesk",size:"medium",alignment:"center"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(h,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(h,{onClick:e=>r.onNext(!s.valid),disabled:!s.valid||!r.localesMatch,loading:n.loading,color:"red","left-icon":"delete"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(c,{class:"u-mb20",title:e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_TITLE"),description:r.description,flag:l.flag,alignment:"center","is-description-html":""},null,8,["title","description","flag"]),(0,i.createVNode)(d,{class:"u-mb20",modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),disabled:n.loading,label:e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_LOCALE_LABEL"),placeholder:e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_LOCALE_PLACEHOLDER")+" "+l.localeLabel,name:"name",rules:"required|max:100",size:"medium",autofocus:""},null,8,["modelValue","disabled","label","placeholder"]),(0,i.createVNode)(u,{color:"red",type:"p"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_EMPHASIS_1")),1),(0,i.createVNode)(p),(0,i.createElementVNode)("span",a,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_EMPHASIS_2")),1)]),_:1})]),_:2},1032,["onEnter"])):"confirm"===n.step?((0,i.openBlock)(),(0,i.createBlock)(_,{key:1,onClose:t[4]||(t[4]=t=>e.$emit("close")),onEnter:r.onNext,parent:"helpdesk",size:"medium",alignment:"center"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(h,{onClick:t[3]||(t[3]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(h,{onClick:r.onNext,loading:n.loading,disabled:!n.countdown.ended,color:"red","left-icon":"delete"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(r.countdownLabel),1)]),_:1},8,["onClick","loading","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(c,{class:"u-mb20",title:e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_CONFIRM"),flag:l.flag,alignment:"center","is-description-html":""},null,8,["title","flag"]),(0,i.createVNode)(u,{color:"red",type:"p"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_EMPHASIS_1")),1),(0,i.createVNode)(p),(0,i.createElementVNode)("span",o,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_EMPHASIS_2")),1)]),_:1})]),_:1},8,["onEnter"])):(0,i.createCommentVNode)("",!0)]),_:1})}},6272:function(e,t,l){"use strict";var i=l("b6ec");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},6630:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(l("6a84"));function a(e){return e&&e.__esModule?e:{default:e}}const o=10,s=1e3;var n={props:{flag:{type:String,required:!0},locale:{type:String,required:!0},localeLabel:{type:String,required:!0}},emits:["close","destroyed"],data(){return{websiteId:this.$route.params.websiteId,step:"name",name:"",loading:!1,countdown:{scheduler:null,step:null,ended:!1}}},computed:{countdownLabel(){return 0===this.countdown.ticks?this.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_PROCEED"):this.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_PROCEED")+` (${this.countdown.ticks})`},description(){return this.$filters.format.parseText(this.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_NOTICE",{locale:this.localeLabel}))},localesMatch(){return this.name===this.localeLabel}},beforeUnmount(){this.countdown.scheduler&&(clearInterval(this.countdown.scheduler),this.countdown.scheduler=null)},methods:{destroyLocale(){!0!==this.loading?(this.loading=!0,this.$store.dispatch("helpdesk/removeLocale",{websiteId:this.websiteId,locale:this.locale}).then(()=>(i.default.success("helpdesk_locale_destroyed"),this.$emit("destroyed"),this.$emit("close"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loading=!1})):i.default.warning("helpdesk_locale_dont_match")},startCountdown(){this.countdown.ticks=o,this.countdown.scheduler=setInterval(()=>{this.countdown.ticks--,0===this.countdown.ticks&&(this.countdown.scheduler&&(clearInterval(this.countdown.scheduler),this.countdown.scheduler=null),this.countdown.ended=!0)},s)},onNext(e=!1){!0!==e&&("name"===this.step&&this.localesMatch?(this.step="confirm",this.startCountdown()):"confirm"===this.step&&this.countdown.ended&&this.destroyLocale())}}};t.default=n},"6b40":function(e,t,l){"use strict";l.r(t);var i=l("15c2"),a=l("c001");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);a["default"].render=i["render"],t["default"]=a["default"]},"6d5d":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var i=l("7a23");function a(e,t,l,a,o,s){const n=(0,i.resolveComponent)("base-headlines"),r=(0,i.resolveComponent)("field-input"),c=(0,i.resolveComponent)("base-button"),d=(0,i.resolveComponent)("base-popup"),p=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(p,{as:""},{default:(0,i.withCtx)(({meta:a})=>[(0,i.createVNode)(d,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>s.onCreateNewArticle(!a.valid),parent:"helpdesk",alignment:"center",size:"medium"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(c,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(c,{onClick:e=>s.onCreateNewArticle(!a.valid),disabled:!a.valid,loading:o.loading,"left-icon":"add_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_NEW_ARTICLE_PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(n,{class:"u-mb20",title:e.$t("HELPDESK.DEFAULT.POPUPS_NEW_ARTICLE_TITLE"),description:e.$t("HELPDESK.DEFAULT.POPUPS_NEW_ARTICLE_NOTICE")+` <strong>${s.formattedLocale}</strong>`,flag:l.flag,alignment:"center","is-description-html":""},null,8,["title","description","flag"]),(0,i.createVNode)(r,{class:"u-mb20",modelValue:o.title,"onUpdate:modelValue":t[0]||(t[0]=e=>o.title=e),disabled:o.loading,label:e.$t("HELPDESK.DEFAULT.POPUPS_NEW_ARTICLE_TITLE_LABEL"),placeholder:e.$t("HELPDESK.DEFAULT.POPUPS_NEW_ARTICLE_TITLE_PLACEHOLDER"),name:"title",rules:"required|max:140",size:"medium",autofocus:""},null,8,["modelValue","disabled","label","placeholder"])]),_:2},1032,["onEnter"])]),_:1})}},"6f34":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=r;var i=l("7a23");const a={class:"c-edit-category__line"},o={class:"c-edit-category__line"},s={class:"c-edit-category__line"},n={class:"c-edit-category__line"};function r(e,t,l,r,c,d){const p=(0,i.resolveComponent)("field-input"),u=(0,i.resolveComponent)("field-textarea"),h=(0,i.resolveComponent)("field-color"),_=(0,i.resolveComponent)("field-file"),m=(0,i.resolveComponent)("base-button"),f=(0,i.resolveComponent)("base-popup"),E=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(E,{as:""},{default:(0,i.withCtx)(({meta:l})=>[(0,i.createVNode)(f,{class:"c-edit-category",onClose:t[5]||(t[5]=t=>e.$emit("close")),onEnter:e=>d.onSaveCategory(!l.valid),parent:"helpdesk","max-height":"720px",size:"medium"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(m,{onClick:t[4]||(t[4]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(m,{onClick:e=>d.onSaveCategory(!l.valid),disabled:c.isUploadingFile||!l.valid,loading:c.loading,"left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createElementVNode)("div",a,[(0,i.createVNode)(p,{class:"c-edit-category__field u-mb20",modelValue:c.name,"onUpdate:modelValue":t[0]||(t[0]=e=>c.name=e),disabled:c.loading,label:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_NAME_LABEL"),placeholder:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_NAME_PLACEHOLDER"),name:"name",rules:"required|max:80",size:"medium",autofocus:""},null,8,["modelValue","disabled","label","placeholder"])]),(0,i.createElementVNode)("div",o,[(0,i.createVNode)(u,{class:"c-edit-category__field u-mb20",modelValue:c.description,"onUpdate:modelValue":t[1]||(t[1]=e=>c.description=e),disabled:c.loading,label:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_DESCRIPTION_LABEL"),placeholder:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_DESCRIPTION_PLACEHOLDER"),name:"description",rules:"max:160",size:"medium"},null,8,["modelValue","disabled","label","placeholder"])]),(0,i.createElementVNode)("div",s,[(0,i.createVNode)(h,{class:"c-edit-category__field u-mb20",modelValue:c.color,"onUpdate:modelValue":t[2]||(t[2]=e=>c.color=e),label:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_COLOR_LABEL"),placeholder:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_COLOR_PLACEHOLDER"),disabled:c.loading,name:"color",size:"medium"},null,8,["modelValue","label","placeholder","disabled"]),(0,i.createVNode)(p,{class:"c-edit-category__field u-mb20 u-ml20",modelValue:c.order,"onUpdate:modelValue":t[3]||(t[3]=e=>c.order=e),label:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_ORDER_LABEL"),placeholder:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_ORDER_PLACEHOLDER"),disabled:c.loading,name:"order",rules:"numeric|min_value:0",size:"medium",type:"number"},null,8,["modelValue","label","placeholder","disabled"])]),(0,i.createElementVNode)("div",n,[(0,i.createVNode)(_,{class:"c-edit-category__field u-mb20",onChange:d.onFileChange,onRemove:d.onFileRemove,accept:e.$CONFIG.CRISP_UPLOAD_MIMES.HELPDESK,"bucket-generated":d.onBucketGenerated,label:e.$t("HELPDESK.DEFAULT.POPUPS_EDIT_CATEGORY_IMAGE_LABEL"),loading:c.isUploadingFile,remove:!1,source:c.image,disabled:c.loading||c.isUploadingFile,name:"image",size:"small",type:"helpdesk",block:""},null,8,["onChange","onRemove","accept","bucket-generated","label","loading","source","disabled"])])]),_:2},1032,["onEnter"])]),_:1})}},7110:function(e,t,l){var i=l("efdb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("36b789c0",i,!0,{sourceMap:!1,shadowMode:!1})},"74b8":function(e,t,l){"use strict";l.r(t);var i=l("e59a"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},"75b7":function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-helpdesk-article .c-helpdesk-article__container{z-index:1001;display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin:0 auto;max-width:1400px;width:calc(100% - 116px);height:100%;-webkit-box-shadow:0 12px 26px 0 rgba(0,0,0,.15);box-shadow:0 12px 26px 0 rgba(0,0,0,.15)}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__layout{overflow:hidden}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor{border-top:none;border-right:none;border-left:none;border-bottom:none;border-radius:0}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__title{-webkit-transition:all .1s linear;transition:all .1s linear}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__title:hover{background-color:#fafbfc}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__title input{font-size:16.5px}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__banner{-webkit-animation:fadeIn .15s linear;animation:fadeIn .15s linear}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:15px;height:24px;border-left:1px solid #e3e8ef;cursor:pointer}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section .c-helpdesk-article__icon{margin-right:6px;fill:#0093ee}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section .c-helpdesk-article__label{margin-right:10px;font-weight:700}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section .c-helpdesk-article__categories{width:200px}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section .c-helpdesk-article__link{margin-right:15px;color:#0093ee;text-decoration:underline;font-weight:700}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section .c-helpdesk-article__link:last-of-type{margin-right:0}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__preview>:first-child.o-markdown.o-markdown-bold{font-weight:700}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__preview>:first-child.o-markdown.o-markdown-bold,.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__preview>:first-child.o-markdown.o-markdown-bold a{color:#5b6f83}.c-helpdesk-article .c-helpdesk-article__popup{z-index:1010}@media (max-width:76.25em){.c-helpdesk-article .c-helpdesk-article__controls[data-id=emphasis]{display:none}}@media (max-width:67.5em){.c-helpdesk-article .c-helpdesk-article__language{display:none}.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section--category{padding-left:0;border-left:0 none}}@media (max-width:65em){.c-helpdesk-article .c-helpdesk-article__controls[data-id=code]{display:none}}@media (max-width:62.5em){.c-helpdesk-article .c-helpdesk-article__action--collapsable .c-base-button__label{display:none}}@media (max-width:58.75em){.c-helpdesk-article .c-helpdesk-article__controls[data-id=list]{display:none}}@media (max-width:57.5em){.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section--view{display:none}}@media (max-width:55em){.c-helpdesk-article .c-helpdesk-article__controls[data-id=insert]{display:none}}@media (max-width:52.5em){.c-helpdesk-article .c-helpdesk-article__container .c-helpdesk-article__editor .c-helpdesk-article__section--description{display:none}}",""]),e.exports=t},"792e":function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-alternate-locale-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-alternate-locale-item .c-alternate-locale-item__select{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-alternate-locale-item .c-alternate-locale-item__select .c-alternate-locale-item__alternate{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0.9;-ms-flex:0.9;flex:0.9}.c-alternate-locale-item .c-alternate-locale-item__select .c-alternate-locale-item__alternate .c-alternate-locale-item__locale{-webkit-box-flex:0.3;-ms-flex:0.3;flex:0.3;margin-right:11px;padding-right:11px;border-right:1px solid #eff3f6}.c-alternate-locale-item .c-alternate-locale-item__select .c-alternate-locale-item__alternate .c-alternate-locale-item__article{-webkit-box-flex:0.7;-ms-flex:0.7;flex:0.7;text-align:center;font-size:14px}.c-alternate-locale-item .c-alternate-locale-item__select .c-alternate-locale-item__alternate .c-alternate-locale-item__article .c-alternate-locale-item__no-locale{line-height:40px;vertical-align:middle;float:left;margin-left:3px;color:#75869c}.c-alternate-locale-item .c-alternate-locale-item__select .c-alternate-locale-item__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-flex:0.1;-ms-flex:0.1;flex:0.1}.c-alternate-locale-item .c-alternate-locale-item__select .c-alternate-locale-item__actions .c-alternate-locale-item__action{margin-right:8px}.c-alternate-locale-item .c-alternate-locale-item__select .c-alternate-locale-item__actions .c-alternate-locale-item__action:last-of-type{margin-right:0}.c-alternate-locale-item .c-alternate-locale-item__consolidate{margin-top:8px;text-align:left;font-size:13.5px}.c-alternate-locale-item .c-alternate-locale-item__consolidate .c-alternate-locale-item__consolidate-question{margin-right:4px}.c-alternate-locale-item .c-alternate-locale-item__consolidate .c-alternate-locale-item__consolidate-action{text-decoration:underline;color:#0093ee}",""]),e.exports=t},7988:function(e,t,l){"use strict";l.r(t);var i=l("7e14"),a=l("c663");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("26c1");a["default"].render=i["render"],t["default"]=a["default"]},"79b2":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{section:{type:Object,required:!0}}};t.default=i},"79d8":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(l("6a84")),a=n(l("227c")),o=n(l("d682")),s=n(l("0315"));function n(e){return e&&e.__esModule?e:{default:e}}var r={components:{QuickTour:a.default},props:{locale:{type:String,required:!0}},emits:["close"],data(){return{websiteId:this.$route.params.websiteId,url:"",loading:!1,step:"configure",steps:[{id:"configure",label:this.$t("POPUPS.IMPORT_HELPDESK.STEP_CONFIGURE")},{id:"import",label:this.$t("POPUPS.IMPORT_HELPDESK.STEP_IMPORT")}]}},methods:{onImportHelpdesk(e=!1){!0!==this.loading&&!0!==e&&(this.loading=!0,o.default.importLocale(this.websiteId,this.locale,this.url).then(()=>(this.step="import",s.default.logEvent("Helpdesk import started",{url:this.url,context:"popup"}),Promise.resolve())).catch(e=>{switch((e||{}).reason){case"import_busy_crawling":i.default.warning("popups_import_helpdesk_is_importing");break;case"quota_limit_exceeded":i.default.warning("popups_import_helpdesk_quota_limit");break;default:i.default.error((e||{}).reason||"popups_import_helpdesk_error")}return Promise.resolve()}).then(()=>{this.loading=!1}))},onUrlInput(e){1===e.length&&(this.url="https://"+e)}}};t.default=r},"7c29":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var i=l("7a23");const a={class:"c-alternate-locales__line u-mb5"},o={key:0,class:"c-alternate-locales"},s={key:1,class:"c-alternate-locales__items"};function n(e,t,l,n,r,c){const d=(0,i.resolveComponent)("base-headlines"),p=(0,i.resolveComponent)("field-label"),u=(0,i.resolveComponent)("base-spinner"),h=(0,i.resolveComponent)("alternate-locale-item"),_=(0,i.resolveComponent)("base-button"),m=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(m,{class:"c-alternate-locales",onClose:c.onClose,onEnter:c.onAlternatesProceed,parent:"helpdesk",alignment:"center",overflow:"visible",size:"wide"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{onClick:c.onClose,color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1},8,["onClick"]),(0,i.createVNode)(_,{onClick:c.onAlternatesProceed,disabled:0===r.actions.length||r.linkLoading,loading:r.linkLoading,"left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_PROCEED")),1)]),_:1},8,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(d,{class:"u-mb30",title:e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_TITLE"),description:e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_NOTICE"),alignment:"center"},null,8,["title","description"]),(0,i.createElementVNode)("div",a,[(0,i.createVNode)(p,{class:(0,i.normalizeClass)(["c-alternate-locales__label","c-alternate-locales__label-locale"])},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_LOCALE_LABEL")),1)]),_:1}),(0,i.createVNode)(p,{class:(0,i.normalizeClass)(["c-alternate-locales__label","c-alternate-locales__label-article"])},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_ARTICLE_LABEL")),1)]),_:1})]),r.alternatesLoading?((0,i.openBlock)(),(0,i.createElementBlock)("div",o,[(0,i.createVNode)(u,{class:"c-alternate-locales__spinner",color:"#25374f",size:"16px","border-width":"2px"})])):((0,i.openBlock)(),(0,i.createElementBlock)("div",s,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(r.alternates,(e,t)=>((0,i.openBlock)(),(0,i.createBlock)(h,{class:"u-mb20",onUpdate:c.onAlternateUpdated,onRemove:c.onAlternateRemoved,onClearUpdates:c.onAlternateClearUpdates,key:t,locale:e.locale,"article-id":e.article_id,"available-locales":r.availableLocales,"has-remove":"","is-locale-locked":""},null,8,["onUpdate","onRemove","onClearUpdates","locale","article-id","available-locales"]))),128)),r.remainingLocales.length>0?((0,i.openBlock)(),(0,i.createBlock)(h,{key:0,class:"u-mb20","available-locales":r.remainingLocales,"locale-from-article":l.currentLocale,"alternates-from-article":r.alternates,onAdd:c.onAlternateAdded},null,8,["available-locales","locale-from-article","alternates-from-article","onAdd"])):(0,i.createCommentVNode)("",!0)]))]),_:1},8,["onClose","onEnter"])}},"7d06":function(e,t,l){var i=l("bb83");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("26eaef1e",i,!0,{sourceMap:!1,shadowMode:!1})},"7e14":function(e,t,l){"use strict";var i=l("87a8");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},8103:function(e,t,l){"use strict";l.r(t);var i=l("1bf6"),a=l("5d96");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);a["default"].render=i["render"],t["default"]=a["default"]},"827cf":function(e,t,l){"use strict";var i=l("c525");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},8405:function(e,t,l){"use strict";l.r(t);var i=l("ea45"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},8607:function(e,t,l){"use strict";var i=l("e7b5");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},"87a8":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=d;var i=l("7a23");const a=(0,i.createElementVNode)("span",{class:"o-table__active"},null,-1),o={key:0,class:"c-helpdesk-table-article-item__title u-ellipsis"},s={key:1},n={class:"c-helpdesk-table-article-item__updated u-ellipsis"},r={class:"c-helpdesk-table-article-item__created u-ellipsis"},c={class:"c-helpdesk-table-article-item__label"};function d(e,t,l,d,p,u){const h=(0,i.resolveComponent)("field-checkbox"),_=(0,i.resolveComponent)("base-availability"),m=(0,i.resolveComponent)("base-badge"),f=(0,i.resolveComponent)("base-icon"),E=(0,i.resolveComponent)("base-button");return(0,i.openBlock)(),(0,i.createElementBlock)("a",{onClick:t[4]||(t[4]=e=>u.onEditArticle(l.article.article_id,e)),class:(0,i.normalizeClass)(["c-helpdesk-table-article-item","o-table__tr","o-table__tr--full-height",{"o-table__tr--active":l.active}])},[a,(0,i.createElementVNode)("div",{class:"c-helpdesk-table-article-item__td o-table__td o-table__td--center o-table__td--checkbox o-table__td--no-padding",onClick:t[2]||(t[2]=(0,i.withModifiers)(()=>{},["stop","prevent"])),style:(0,i.normalizeStyle)(e.getFieldStyle("checkbox"))},[(0,i.createVNode)(h,{class:"c-helpdesk-table-article-item__custom c-helpdesk-table-article-item__checkbox",modelValue:l.active,"onUpdate:modelValue":t[0]||(t[0]=e=>l.active=e),onChange:u.onCheckboxChange,onClick:t[1]||(t[1]=e=>e.stopPropagation()),name:l.article.article_id,size:"medium"},null,8,["modelValue","onChange","name"])],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-article-item__td c-helpdesk-table-article-item__headline o-table__td o-table__td--bold o-table__td--no-padding",style:(0,i.normalizeStyle)(e.getFieldStyle("title"))},[l.article.title?((0,i.openBlock)(),(0,i.createElementBlock)("div",o,(0,i.toDisplayString)(l.article.title),1)):(0,i.createCommentVNode)("",!0)],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-article-item__status o-table__td o-table__td--center",style:(0,i.normalizeStyle)(e.getFieldStyle("status"))},["published"===l.article.status?((0,i.openBlock)(),(0,i.createElementBlock)("span",{key:0,class:(0,i.normalizeClass)(["c-helpdesk-table-article-item__published u-ellipsis",{"c-helpdesk-table-article-item__published--visible":"visible"===l.article.visibility,"c-helpdesk-table-article-item__published--hidden":"hidden"===l.article.visibility}])},[(0,i.createVNode)(_,{class:"c-helpdesk-table-article-item__availability",color:"visible"===l.article.visibility?"green":"orange",size:"small"},null,8,["color"]),(0,i.createTextVNode)((0,i.toDisplayString)(u.getItemStatus(l.article.status,l.article.visibility)),1)],2)):((0,i.openBlock)(),(0,i.createElementBlock)("span",s,(0,i.toDisplayString)(u.getItemStatus(l.article.status)),1))],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-article-item__statistics o-table__td o-table__td--center u-ellipsis",style:(0,i.normalizeStyle)(e.getFieldStyle("statistics"))},[(0,i.createVNode)(m,{color:"draft"===l.article.status?"grey":"blue",uppercase:!1,size:"mini",filled:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(l.article.visits)+" "+(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_ARTICLES_VISITS_LABEL")),1)]),_:1},8,["color"])],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-article-item__date o-table__td",style:(0,i.normalizeStyle)(e.getFieldStyle("updated_at"))},[(0,i.createElementVNode)("span",n,(0,i.toDisplayString)(e.$filters.date.timeAgo(l.article.updated_at)),1),(0,i.createElementVNode)("span",r,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_DATE_CREATED"))+" "+(0,i.toDisplayString)(e.$filters.date.timeAgo(l.article.created_at)),1)],4),(0,i.createElementVNode)("div",{class:"c-helpdesk-table-article-item__actions o-table__td o-table__td--right",style:(0,i.normalizeStyle)(e.getFieldStyle("actions"))},["published"===l.article.status&&"visible"===l.article.visibility?((0,i.openBlock)(),(0,i.createElementBlock)("span",{key:0,class:"c-helpdesk-table-article-item__action c-helpdesk-table-article-item__action--text",onClick:t[3]||(t[3]=(0,i.withModifiers)(e=>u.onViewItem(l.article.url),["prevent","stop"]))},[(0,i.createVNode)(f,{class:"c-helpdesk-table-article-item__icon",name:"visibility",size:"16px"}),(0,i.createElementVNode)("span",c,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_VIEW")),1)])):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(E,{class:"c-helpdesk-table-article-item__action",onClick:u.onEditArticle,id:l.article.article_id,"left-icon":"settings",size:"small"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.ROW_ARTICLES_EDIT")),1)]),_:1},8,["onClick","id"])],4)],2)}},"89c4b":function(e,t,l){"use strict";l("7d06")},"8cee":function(e,t,l){"use strict";l("7110")},"8d12":function(e,t,l){"use strict";l.r(t);var i=l("827cf"),a=l("caa5");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("8cee");a["default"].render=i["render"],t["default"]=a["default"]},"8e44":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(l("6a84")),a=o(l("0315"));function o(e){return e&&e.__esModule?e:{default:e}}var s={props:{flag:{type:String,required:!0},locale:{type:String,required:!0}},emits:["close"],data(){return{websiteId:this.$route.params.websiteId,title:"",loading:!1}},computed:{formattedLocale(){return this.$filters.locale.localeRead(this.locale)}},methods:{onCreateNewArticle(e=!1){!0!==this.loading&&!0!==e&&(this.loading=!0,this.$store.dispatch("helpdesk/createArticle",{websiteId:this.websiteId,locale:this.locale,title:this.title}).then(e=>(i.default.success("helpdesk_article_added"),a.default.logEvent("Helpdesk article created",{locale:this.locale}),this.$emit("close"),Promise.resolve(e))).catch(()=>Promise.resolve()).then(e=>{this.loading=!1,this.$router.push({name:"app.website.helpdesk.article",params:{websiteId:this.websiteId,filter:"articles",locale:this.locale,articleId:e.article_id}}).catch(()=>{})}))}}};t.default=s},"8e65":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(l("6a84")),a=c(l("227c")),o=c(l("3225")),s=c(l("d682")),n=c(l("096a")),r=c(l("0315"));function c(e){return e&&e.__esModule?e:{default:e}}var d={components:{QuickTour:a.default},emits:["import","newArticle","close"],data(){return{loading:!1,step:"intro",locale:"en",locales:[],helpdesk:{name:"",domain_basic:""},steps:[{id:"intro",label:this.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_STEP_INTRO")},{id:"configure",label:this.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_STEP_CONFIGURE")},{id:"locale",label:this.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_STEP_LOCALE")},{id:"import",label:this.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_STEP_IMPORT")}],slideshow:[{type:"image",path:"/images/popups/InitializeHelpdesk/step_educate.png",title:this.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_SLIDESHOW_STEP_EDUCATE_TITLE"),description:this.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_SLIDESHOW_STEP_EDUCATE_DESCRIPTION")},{type:"image",path:"/images/popups/InitializeHelpdesk/step_browse.png",title:this.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_SLIDESHOW_STEP_BROWSE_TITLE"),description:this.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_SLIDESHOW_STEP_BROWSE_TITLE")}]}},computed:{websiteId(){return this.$store.getters["websites/getWebsiteId"]}},mounted(){this.locales=this.$CONFIG.CRISP_LOCALES_PRIORITY.map(e=>({flagCountry:e,label:this.$filters.locale.localeRead(e),value:e.toLowerCase()}))},methods:{initializeHelpdesk(e=!1){!0!==this.loading&&!0!==e&&(this.loading=!0,s.default.helpdesk(this.websiteId).post(this.helpdesk).then(n.default.temporizeDataAccess).then(()=>(r.default.logEvent("helpdesk_initialized"),this.step="locale",Promise.resolve())).catch(e=>(e&&e.reason&&i.default.error(e.reason),Promise.resolve())).finally(()=>{this.loading=!1}))},createNewLocale(){this.locale&&!0!==this.loading&&(this.loading=!0,this.$store.dispatch("helpdesk/createLocale",{websiteId:this.websiteId,locale:this.locale}).then(()=>(this.step="import",Promise.resolve())).catch(()=>Promise.resolve()).finally(()=>{this.loading=!1}))},onImportArticles(){this.reload().then(()=>{this.$emit("import"),this.$emit("close")})},onNewArticle(){this.reload().then(()=>{this.$emit("newArticle"),this.$emit("close")})},reload(){return o.default.reload()}}};t.default=d},"93d0":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=o;var i=l("7a23");const a={class:"u-bold"};function o(e,t,l,o,s,n){const r=(0,i.resolveComponent)("base-headlines"),c=(0,i.resolveComponent)("base-space"),d=(0,i.resolveComponent)("base-heading"),p=(0,i.resolveComponent)("base-button"),u=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(u,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:n.onRemoveItems,parent:"helpdesk",size:"medium"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(p,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(p,{onClick:n.onRemoveItems,loading:s.loading,color:"red","left-icon":"delete"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(n.proceedLabel),1)]),_:1},8,["onClick","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{class:"u-mb20",title:n.title,description:n.description,"is-description-html":""},null,8,["title","description"]),(0,i.createVNode)(d,{color:"red",type:"p"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(n.emphasis),1),(0,i.createVNode)(c),(0,i.createElementVNode)("span",a,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_DESTROY_LOCALE_EMPHASIS_2")),1)]),_:1})]),_:1},8,["onEnter"])}},"9bca":function(e,t,l){"use strict";l("1224")},a24c6:function(e,t,l){"use strict";l("507d")},a274:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=h(l("6a84")),a=h(l("aff1")),o=h(l("a3ce")),s=h(l("8103")),n=h(l("2db6")),r=h(l("4676")),c=h(l("fd75")),d=h(l("9ee9")),p=h(l("d682")),u=h(l("09ff"));function h(e){return e&&e.__esModule?e:{default:e}}var _={components:{CommonEditor:a.default,EditDescription:s.default,EditOrder:n.default,EditorCloseWarning:r.default,AlternateLocales:c.default,SecondaryMenu:o.default},emits:["exit"],data(){return{websiteId:this.$route.params.websiteId,locale:this.$route.params.locale,articleId:this.$route.params.articleId,lastSavedTitle:null,lastSavedContent:null,lastSavedDescription:null,lastSavedOrder:0,title:null,category:null,content:null,description:null,order:0,status:null,url:null,visibility:0,isInitializing:!0,isSaving:!1,hideEditor:!1,categoryLoading:!1,publishLoading:!1,unpublishLoading:!1,republishLoading:!1,saveLoading:!1,autosaveDelay:5e3,autosaveDefer:null,cacheBang:"",availableCategories:[],closeWarning:{visible:!1},popups:{editDescription:{visible:!1},editOrder:{visible:!1},alternateLocales:{visible:!1}},editor:{controls:[{id:"format",items:["bold","italic","underline","insertColor"]},{id:"title",items:["titleLarge","titleMedium","titleSmall"]},{id:"list",items:["list"]},{id:"code",items:["code","blockquote"]},{id:"insert",items:["insertLink","insertImage","insertGif","insertVideo"]},{id:"emphasis",items:["emphasisTip","emphasisInfo","emphasisWarning"]}]}}},computed:{hasNotBeenModified(){return this.lastSavedTitle===this.title&&this.lastSavedContent===this.content&&this.lastSavedDescription===this.description&&this.lastSavedOrder===this.order},helpdeskLocales(){return this.$store.getters["helpdesk/getLocales"]},helpdeskCategories(){return this.$store.getters["helpdesk/getCategories"]}},watch:{content(e,t){e&&void 0!==t&&e!==t&&this.scheduleAutosave()}},created(){return this.isInitializing=!0,Promise.resolve().then(()=>{let e=[];return e.push(this.initializeCacheBang(),this.initializeCategories()),0===this.helpdeskLocales.length&&e.push(this.$store.dispatch("helpdesk/acquireLocales",{websiteId:this.websiteId})),e.push(this.synchronizeArticle()),e.push(p.default.articleCategory(this.websiteId,this.locale,this.articleId).get().then(e=>(this.category=e.category_id,Promise.resolve()))),Promise.all(e)}).then(()=>{this.isInitializing=!1})},unmounted(){this.unscheduleAutosave()},methods:{autosaveArticleContent(){!1===this.saveLoading&&this.content&&(this.saveLoading=!0,p.default.articleOne(this.websiteId,this.locale,this.articleId).patch({content:this.content}).catch(()=>Promise.resolve()).then(()=>(this.saveLoading=!1,Promise.resolve())))},bumpCacheBang(){this.cacheBang=Date.now()},synchronizeArticle(){return p.default.getArticle(this.websiteId,this.locale,this.articleId).then(e=>(this.title=e.title,this.content=e.content,this.description=e.description,this.order=e.order,this.status=e.status,this.url=e.url,this.visibility=e.visibility,this.synchronizeArticleLastSaved(e.title,e.content,e.description,e.order),Promise.resolve())).catch(e=>{switch((e||{}).status){case 404:this.$router.push({name:"app.website.helpdesk.index",params:{websiteId:this.websiteId}}).catch(()=>{});break;case 402:d.default.show({pluginName:"Helpdesk",pluginUrn:"urn:crisp.im:helpdesk:0",plan:"unlimited",closable:!1});break}return Promise.reject()})},synchronizeArticleLastSaved(e,t,l,i){this.lastSavedTitle=e,this.lastSavedContent=t,this.lastSavedDescription=l,this.lastSavedOrder=i},initializeCacheBang(){return this.bumpCacheBang(),Promise.resolve()},initializeCategories(){return Promise.resolve().then(()=>this.$store.dispatch("helpdesk/acquireAllCategories",{websiteId:this.websiteId,locale:this.locale})).then(e=>(e.length&&(this.availableCategories=[{label:this.$t("HELPDESK.ARTICLE.EDITOR_CATEGORY_NONE"),value:""}].concat(e.map(e=>({label:e.name,value:e.category_id})))),Promise.resolve()))},scheduleAutosave(){this.unscheduleAutosave(),!1===this.saveLoading&&"published"!==this.status&&this.content&&(this.autosaveDefer=setTimeout(()=>{this.autosaveDefer=null,this.autosaveArticleContent()},this.autosaveDelay))},unscheduleAutosave(){null!==this.autosaveDefer&&(clearTimeout(this.autosaveDefer),this.autosaveDefer=null)},onChangeCategory(e){if(!1===this.categoryLoading&&!1===this.isSaving){this.categoryLoading=!0,this.isSaving=!0;let t=e||null;this.unscheduleAutosave(),p.default.articleCategory(this.websiteId,this.locale,this.articleId).patch({category_id:t}).then(()=>(i.default.success("helpdesk_article_category_changed"),this.bumpCacheBang(),Promise.resolve())).then(()=>t?p.default.categoryOne(this.websiteId,this.locale,t).get():Promise.resolve(null)).then(e=>{this.$store.commit("helpdesk/updateArticle",{articleId:this.articleId,patch:{category:e}})}).then(()=>(this.categoryLoading=!1,this.isSaving=!1,Promise.resolve()))}},onWarningBack(){this.closeWarning.visible=!1,this.hideEditor=!1},onWarningClose(){this.onExit()},onEditDescription(){this.popups.editDescription.visible=!0},onEditOrder(){this.popups.editOrder.visible=!0},onRequestClose(){this.hasNotBeenModified?this.onExit():(this.hideEditor=!0,this.closeWarning.visible=!0)},onExit(){this.$emit("exit")},onManageArticle(e,t=null){t=t||e;const l=t+"Loading";!1===this[l]&&!1===this.isSaving&&(this[l]=!0,this.isSaving=!0,Promise.resolve().then(()=>"publish"===e?this.onSaveArticle(!0):Promise.resolve()).then(()=>p.default["article"+this.$filters.format.capitalize(e)](this.websiteId,this.locale,this.articleId).post({})).then(l=>{i.default.success(`helpdesk_article_${t}ed`),(l||{}).url?this.url=l.url:this.url=null,this.bumpCacheBang(),"publish"===e?(this.visibility="visible","publish"===t&&(this.status="published")):"unpublish"===e&&(this.visibility="hidden"),this.$store.commit("helpdesk/updateArticle",{articleId:this.articleId,patch:{visibility:this.visibility,status:this.status,url:l.url}})}).catch(()=>Promise.resolve()).then(()=>(this[l]=!1,this.isSaving=!1,Promise.resolve())))},onSaveArticle(e){if(!1===this.saveLoading&&(!1===this.isSaving||!0===e))return!1===e&&(this.saveLoading=!0,this.isSaving=!0),this.unscheduleAutosave(),p.default.articleOne(this.websiteId,this.locale,this.articleId).put({title:this.title||"",description:this.description||null,content:this.content||"",order:this.order||0}).then(()=>(!1===e&&(i.default.success("helpdesk_article_saved"),this.synchronizeArticleLastSaved(this.title,this.content,this.description,this.order),this.bumpCacheBang()),this.$store.commit("helpdesk/updateArticle",{articleId:this.articleId,patch:{title:this.title}}),Promise.resolve(!1))).catch(()=>Promise.resolve(!0)).then(t=>(!1===e&&(this.saveLoading=!1,this.isSaving=!1),!0===e&&this.synchronizeArticle(),!0===t&&!0===e?Promise.reject():Promise.resolve()))},onUpdateDescription(e){this.description=e},onUpdateOrder(e){this.order=e},onViewArticle(){u.default.openExternal(`${this.url}?bust=${this.cacheBang}`)}}};t.default=_},a28f:function(e,t,l){"use strict";l("1878")},a3e3:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(l("6a84")),a=o(l("d682"));function o(e){return e&&e.__esModule?e:{default:e}}var s={props:{locale:{type:String,required:!0}},emits:["close"],data(){return{websiteId:this.$route.params.websiteId,loading:!1}},methods:{onExportHelpdesk(){!0!==this.loading&&(this.loading=!0,a.default.exportLocale(this.websiteId,this.locale).then(()=>{i.default.success("helpdesk_articles_exporting"),this.$emit("close")}).catch(()=>{this.loading=!1}))}}};t.default=s},a891:function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-helpdesk-table-article-item{color:#000;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__name{display:inline-block;overflow:hidden;padding:0 15px;height:30px;border-radius:2px;background-color:#2e628a;color:#fff;text-overflow:ellipsis;white-space:nowrap;line-height:30px}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__headline{padding-left:0}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__status{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#75869c;font-weight:700}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__status .c-helpdesk-table-article-item__published .c-helpdesk-table-article-item__availability{margin-right:4px;margin-bottom:1px}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__status .c-helpdesk-table-article-item__published--visible{color:#4ece3d}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__status .c-helpdesk-table-article-item__published--hidden{color:#fd7b1f}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__checkbox{display:inline-block;width:18px;height:18px;margin-bottom:-2px}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__date{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__date .c-helpdesk-table-article-item__updated{font-weight:700;font-size:13px}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__date .c-helpdesk-table-article-item__created{color:#75869c;font-size:12px;line-height:13px;margin-top:2px}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action{margin-right:15px}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action:last-child{margin-right:0}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action--text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#0093ee;-webkit-transition:color .1s linear;transition:color .1s linear;cursor:pointer}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action--text .c-helpdesk-table-article-item__icon{fill:#0093ee;-webkit-transition:fill .1s linear;transition:fill .1s linear;margin-bottom:-1px}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action--text .c-helpdesk-table-article-item__label{margin-left:4px;text-decoration:underline;font-weight:700}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action--text:hover{color:#3f536e}.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action--text:hover .c-helpdesk-table-article-item__icon{fill:#3f536e}.c-helpdesk-table-article-item:hover .c-helpdesk-table-article-item__actions{opacity:1}@media (max-width:66.25em){.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action--text .c-helpdesk-table-article-item__label{display:none}}@media (max-width:90.625em){.c-helpdesk-table-article-item .c-helpdesk-table-article-item__actions .c-helpdesk-table-article-item__action .c-base-button__label{display:none}}",""]),e.exports=t},aca2:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(l("6a84")),a=n(l("ca5b")),o=n(l("d682")),s=n(l("c27e"));function n(e){return e&&e.__esModule?e:{default:e}}var r={props:{category:{type:Object,required:!0},locale:{type:String,required:!0}},emits:["close"],data(){return{websiteId:this.$route.params.websiteId,name:"",description:"",color:"",order:0,image:"",loading:!1,isUploadingFile:!1,pendingFile:{}}},created(){this.name=this.category.name,this.description=this.category.description,this.color=this.category.color,this.order=this.category.order,this.image=this.category.image},methods:{onBucketGenerated(e){!0===this.isUploadingFile&&s.default.proceed({states:this.pendingFile,action:(e.url||{}).signed,resource:(e.url||{}).resource,size_limit:(e.policy||{}).size_limit,fnDone:(e,t)=>{this.isUploadingFile=!1,this.image=t},fnClean:()=>{this.isUploadingFile=!1}})},onFileChange(e){if(e){let t=e[0];if(!t||!0===this.isUploadingFile)return;this.pendingFile.id=Date.now(),this.pendingFile.files=[t],a.default.bucketUrlHelpdeskGenerate(this.websiteId,{from:"website",file:{name:t.name||this.$CONFIG.CRISP_FILE_NAME_DEFAULT,type:t.type||this.$CONFIG.CRISP_FILE_TYPE_DEFAULT}}),this.isUploadingFile=!0}},onFileRemove(){this.image=""},onSaveCategory(e=!1){if(!0!==this.loading&&!0!==e){const e={name:this.name||null,description:this.description||null,color:this.color||null,order:this.order||0,image:this.image||null};this.loading=!0,o.default.categoryOne(this.websiteId,this.locale,this.category.category_id).patch(e).then(()=>{i.default.success("helpdesk_category_edited"),this.$store.commit("helpdesk/updateCategory",{categoryId:this.category.category_id,...e}),this.$emit("close")}).catch(()=>{this.loading=!1})}}}};t.default=r},ae08:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(l("09ff")),a=o(l("b919"));function o(e){return e&&e.__esModule?e:{default:e}}var s={mixins:[a.default],props:{active:{type:Boolean,default:!1},article:{type:Object,required:!0},fields:{type:Object,required:!0},locale:{type:String,required:!0}},emits:["check"],data(){return{websiteId:this.$route.params.websiteId,cacheBang:Date.now()}},methods:{getItemStatus(e,t){return"hidden"===t?this.$t("HELPDESK.DEFAULT.ROW_ARTICLES_STATUS_HIDDEN"):"published"===e?this.$t("HELPDESK.DEFAULT.ROW_ARTICLES_STATUS_ONLINE"):"draft"===e?this.$t("HELPDESK.DEFAULT.ROW_ARTICLES_STATUS_DRAFT"):void 0},onCheckboxChange(e,t){this.$emit("check",e,t)},onEditArticle(e,t){t&&(t.preventDefault(),t.stopPropagation()),this.$router.push({name:"app.website.helpdesk.article",params:{websiteId:this.websiteId,filter:this.$route.params.filter||"articles",locale:this.locale,articleId:this.article.article_id}}).catch(()=>{})},onViewItem(e){i.default.openExternal(`${e}?bust=${this.cacheBang}`)}}};t.default=s},ae11:function(e,t,l){"use strict";var i=l("93d0");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},b174:function(e,t,l){"use strict";l.r(t);var i=l("0025"),a=l("bb36");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("d94d");a["default"].render=i["render"],t["default"]=a["default"]},b1e5:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var i=l("7a23");function a(e,t,l,a,o,s){const n=(0,i.resolveComponent)("field-textarea"),r=(0,i.resolveComponent)("base-button"),c=(0,i.resolveComponent)("base-popup"),d=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(d,{as:"div"},{default:(0,i.withCtx)(({meta:l})=>[(0,i.createVNode)(c,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>s.onUpdateDescription(!l.valid),parent:"helpdesk",size:"medium"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(r,{onClick:e=>s.onUpdateDescription(!l.valid),disabled:!l.valid,"left-icon":"check_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_EDIT_DESCRIPTION_PROCEED")),1)]),_:2},1032,["onClick","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(n,{class:"u-mb20",modelValue:o.description,"onUpdate:modelValue":t[0]||(t[0]=e=>o.description=e),label:e.$t("HELPDESK.ARTICLE.POPUPS_EDIT_DESCRIPTION_DESCRIPTION_LABEL"),placeholder:e.$t("HELPDESK.ARTICLE.POPUPS_EDIT_DESCRIPTION_DESCRIPTION_PLACEHOLDER"),name:"description",rules:"max:800",value:"description",autofocus:""},null,8,["modelValue","label","placeholder"])]),_:2},1032,["onEnter"])]),_:1})}},b6e7:function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-helpdesk-index .c-helpdesk-index__menu{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-helpdesk-index .c-helpdesk-index__menu .c-helpdesk-index__locale-switcher{margin-top:-20px}.c-helpdesk-index .c-helpdesk-index__menu .c-helpdesk-index__locale-switcher.c-field-select--disabled .c-field-select__container{opacity:1}.c-helpdesk-index .c-helpdesk-index__container{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-helpdesk-index .c-helpdesk-index__container .c-helpdesk-index__header{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-helpdesk-index .c-helpdesk-index__editor{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%;height:100%}.c-helpdesk-index .c-helpdesk-index__popup{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1000}.c-helpdesk-index .c-helpdesk-index__popup .c-helpdesk-index__popup-inner{position:relative;z-index:1001;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%}@media (max-width:78.75em){.c-helpdesk-index .c-helpdesk-index__header .c-helpdesk-index__action--minimized-early .c-base-button__label{display:none}}@media (max-width:75em){.c-helpdesk-index .c-helpdesk-index__menu{width:200px}}@media (max-width:67.5em){.c-helpdesk-index .c-helpdesk-index__container .c-helpdesk-index__header .c-helpdesk-index__action--secondary .c-base-button__label{display:none}}@media (max-width:66.875em){.c-helpdesk-index .c-helpdesk-index__menu{width:170px}.c-helpdesk-index .c-helpdesk-index__container .c-helpdesk-index__header .c-helpdesk-index__action--minimized .c-base-button__label{display:none}}",""]),e.exports=t},b6ec:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=p;var i=l("7a23");const a={class:"c-initialize-helpdesk__form"},o={class:"c-initialize-helpdesk__emphasis u-mb20 u-italic"},s={class:"c-initialize-helpdesk__form"},n={class:"c-initialize-helpdesk__emphasis u-italic u-mb20"},r=(0,i.createElementVNode)("div",{class:"u-fireworks o-full-screen"},[(0,i.createElementVNode)("div",{class:"u-fireworks-before"}),(0,i.createElementVNode)("div",{class:"u-fireworks-after"})],-1),c={class:"c-initialize-helpdesk__done"},d={class:"c-initialize-helpdesk__emphasis u-italic u-mb10"};function p(e,t,l,p,u,h){const _=(0,i.resolveComponent)("quick-tour"),m=(0,i.resolveComponent)("base-slideshow"),f=(0,i.resolveComponent)("base-button"),E=(0,i.resolveComponent)("base-popup"),b=(0,i.resolveComponent)("base-headlines"),k=(0,i.resolveComponent)("field-input"),g=(0,i.resolveComponent)("validation-observer"),L=(0,i.resolveComponent)("field-select");return"intro"===u.step?((0,i.openBlock)(),(0,i.createBlock)(E,{key:0,class:"c-initialize-helpdesk",onClose:t[1]||(t[1]=t=>e.$emit("close")),parent:"helpdesk","min-height":"450px",alignment:"center",title:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_TITLE")},{quickTour:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{active:u.step,steps:u.steps},null,8,["active","steps"])]),actions:(0,i.withCtx)(()=>[(0,i.createVNode)(f,{onClick:t[0]||(t[0]=e=>u.step="configure"),"right-icon":"chevron_right",size:"medium"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_ACTION_CREATE")),1)]),_:1})]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(m,{class:"c-initialize-helpdesk__slideshow",resources:u.slideshow,loop:""},null,8,["resources"])]),_:1},8,["title"])):"configure"===u.step?((0,i.openBlock)(),(0,i.createBlock)(g,{key:1,as:""},{default:(0,i.withCtx)(({meta:l})=>[(0,i.createVNode)(E,{class:"c-initialize-helpdesk",onClose:t[4]||(t[4]=t=>e.$emit("close")),title:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_TITLE"),parent:"helpdesk","min-height":"450px",alignment:"center"},{quickTour:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{active:u.step,steps:u.steps},null,8,["active","steps"])]),actions:(0,i.withCtx)(()=>[(0,i.createVNode)(f,{onClick:e=>h.initializeHelpdesk(!l.valid),loading:u.loading,disabled:!l.valid,"right-icon":"chevron_right",size:"medium"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_ACTION_CREATE")),1)]),_:2},1032,["onClick","loading","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(b,{title:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_CONFIGURE_TITLE"),description:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_CONFIGURE_DESCRIPTION"),alignment:"center"},null,8,["title","description"]),(0,i.createElementVNode)("div",a,[(0,i.createVNode)(k,{class:"u-mb20",modelValue:u.helpdesk.name,"onUpdate:modelValue":t[2]||(t[2]=e=>u.helpdesk.name=e),disabled:u.loading,label:e.$t("SETTINGS.HELPDESK.POPUPS_INITIALIZE_NAME_LABEL"),placeholder:e.$t("SETTINGS.HELPDESK.POPUPS_INITIALIZE_NAME_PLACEHOLDER"),name:"name",rules:"required|max:40",size:"medium",autofocus:""},null,8,["modelValue","disabled","label","placeholder"]),(0,i.createVNode)(k,{class:"u-mb10",modelValue:u.helpdesk.domain_basic,"onUpdate:modelValue":t[3]||(t[3]=e=>u.helpdesk.domain_basic=e),disabled:u.loading,label:e.$t("SETTINGS.HELPDESK.POPUPS_INITIALIZE_DOMAIN_BASIC_LABEL"),placeholder:e.$t("SETTINGS.HELPDESK.POPUPS_INITIALIZE_DOMAIN_BASIC_PLACEHOLDER"),suffix:"."+e.$CONFIG.CRISP_HOST_HELPDESK,name:"domain",rules:"required|min:3|max:40|domain_basic",size:"medium"},null,8,["modelValue","disabled","label","placeholder","suffix"]),(0,i.createElementVNode)("span",o,(0,i.toDisplayString)(e.$t("SETTINGS.HELPDESK.POPUPS_INITIALIZE_DOMAIN_BASIC_ENTICE")),1)])]),_:2},1032,["title"])]),_:1})):"locale"===u.step?((0,i.openBlock)(),(0,i.createBlock)(E,{key:2,class:"c-initialize-helpdesk",onClose:t[6]||(t[6]=t=>e.$emit("close")),parent:"helpdesk","min-height":"450px",alignment:"center",title:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_TITLE")},{quickTour:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{active:u.step,steps:u.steps},null,8,["active","steps"])]),actions:(0,i.withCtx)(()=>[(0,i.createVNode)(f,{onClick:h.createNewLocale,loading:u.loading,disabled:!u.locale,"right-icon":"chevron_right",size:"medium"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_ACTION_CONFIGURE")),1)]),_:1},8,["onClick","loading","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(b,{title:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_LOCALE_TITLE"),description:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_LOCALE_DESCRIPTION"),alignment:"center"},null,8,["title","description"]),(0,i.createElementVNode)("div",s,[(0,i.createVNode)(L,{class:"u-mb10",modelValue:u.locale,"onUpdate:modelValue":t[5]||(t[5]=e=>u.locale=e),disabled:u.loading,label:e.$t("HELPDESK.DEFAULT.POPUPS_ADD_LOCALE_LOCALE_LABEL"),options:u.locales,name:"locale",searchable:""},null,8,["modelValue","disabled","label","options"]),(0,i.createElementVNode)("span",n,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_ADD_LOCALE_LOCALE_ENTICE")),1)])]),_:1},8,["title"])):"import"===u.step?((0,i.openBlock)(),(0,i.createBlock)(E,{key:3,class:"c-initialize-helpdesk",onClose:t[7]||(t[7]=t=>e.$emit("close")),parent:"helpdesk","min-height":"450px",alignment:"center",title:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_TITLE")},{background:(0,i.withCtx)(()=>[r]),quickTour:(0,i.withCtx)(()=>[(0,i.createVNode)(_,{active:u.step,steps:u.steps},null,8,["active","steps"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(b,{class:"u-mb30",title:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_DONE_TITLE"),description:e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_DONE_DESCRIPTION"),alignment:"center"},null,8,["title","description"]),(0,i.createElementVNode)("div",c,[(0,i.createVNode)(f,{class:"u-mb10",onClick:h.onNewArticle,"left-icon":"add_circle",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_ACTION_CREATE_ARTICLE")),1)]),_:1},8,["onClick"]),(0,i.createElementVNode)("span",d,(0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_OR")),1),(0,i.createVNode)(f,{onClick:h.onImportArticles,"left-icon":"cloud_upload"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_INITIALIZE_ACTION_IMPORT")),1)]),_:1},8,["onClick"])])]),_:1},8,["title"])):(0,i.createCommentVNode)("",!0)}},bb36:function(e,t,l){"use strict";l.r(t);var i=l("fae2"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},bb83:function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-helpdesk-table-section{padding-right:30px;padding-left:65px;border-bottom:none!important}.c-helpdesk-table-section .c-helpdesk-table-section__name{line-height:0;width:180px;margin-right:12px}.c-helpdesk-table-section .c-helpdesk-table-section__name .c-helpdesk-table-section__name-inner{display:inline-block;padding:0 15px;height:30px;border-radius:2px;background-color:#2e628a;color:#fff;line-height:30px}.c-helpdesk-table-section .c-helpdesk-table-section__articles{margin-bottom:-1px}",""]),e.exports=t},bc40:function(e,t,l){"use strict";l.r(t);var i=l("5eb0"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},bf69:function(e,t,l){"use strict";l("477b")},c001:function(e,t,l){"use strict";l.r(t);var i=l("a3e3"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},c229:function(e,t,l){"use strict";var i=l("0a3a");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},c525:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var i=l("7a23");function a(e,t,l,a,o,s){const n=(0,i.resolveComponent)("quick-tour"),r=(0,i.resolveComponent)("base-headlines"),c=(0,i.resolveComponent)("field-input"),d=(0,i.resolveComponent)("base-button"),p=(0,i.resolveComponent)("base-popup"),u=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(u,{as:""},{default:(0,i.withCtx)(({meta:l})=>["configure"===o.step?((0,i.openBlock)(),(0,i.createBlock)(p,{key:0,class:"c-import-helpdesk",onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:e=>s.onImportHelpdesk(!l.valid),title:e.$t("POPUPS.IMPORT_HELPDESK.TITLE"),parent:"helpdesk",alignment:"center"},{quickTour:(0,i.withCtx)(()=>[(0,i.createVNode)(n,{active:o.step,steps:o.steps},null,8,["active","steps"])]),actions:(0,i.withCtx)(()=>[(0,i.createVNode)(d,{onClick:e=>s.onImportHelpdesk(!l.valid),disabled:!l.valid,loading:o.loading,key:"configureButton",size:"medium",block:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("POPUPS.IMPORT_HELPDESK.CONFIGURE_PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{class:"c-import-helpdesk__headlines",title:e.$t("POPUPS.IMPORT_HELPDESK.CONFIGURE_TITLE"),description:e.$t("POPUPS.IMPORT_HELPDESK.CONFIGURE_LABEL"),disabled:o.loading,size:"big",alignment:"center"},null,8,["title","description","disabled"]),(0,i.createVNode)(c,{modelValue:o.url,"onUpdate:modelValue":t[0]||(t[0]=e=>o.url=e),onInput:s.onUrlInput,label:e.$t("POPUPS.IMPORT_HELPDESK.FORM_FIELD_HELPDESK_URL_LABEL"),placeholder:e.$t("POPUPS.IMPORT_HELPDESK.FORM_FIELD_HELPDESK_URL_PLACEHOLDER"),name:"url",rules:"required|url",size:"medium"},null,8,["modelValue","onInput","label","placeholder"])]),_:2},1032,["onEnter","title"])):"import"===o.step?((0,i.openBlock)(),(0,i.createBlock)(p,{key:1,class:"c-import-helpdesk",onClose:t[3]||(t[3]=t=>e.$emit("close")),title:e.$t("POPUPS.IMPORT_HELPDESK.TITLE"),alignment:"center"},{quickTour:(0,i.withCtx)(()=>[(0,i.createVNode)(n,{active:o.step,steps:o.steps},null,8,["active","steps"])]),actions:(0,i.withCtx)(()=>[(0,i.createVNode)(d,{onClick:t[2]||(t[2]=t=>e.$emit("close")),loading:o.loading,color:"green",key:"proceedButton",size:"medium",block:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("POPUPS.IMPORT_HELPDESK.PROCEED_CLOSE")),1)]),_:1},8,["loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(r,{class:"c-import-helpdesk__headlines",title:e.$t("POPUPS.IMPORT_HELPDESK.PROCEED_TITLE"),description:e.$t("POPUPS.IMPORT_HELPDESK.PROCEED_LABEL"),size:"big",alignment:"center"},null,8,["title","description"])]),_:1},8,["title"])):(0,i.createCommentVNode)("",!0)]),_:1})}},c663:function(e,t,l){"use strict";l.r(t);var i=l("ae08"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},c86c:function(e,t,l){"use strict";var i=l("4d12");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},c8a92:function(e,t,l){"use strict";l("2a61")},ca21:function(e,t,l){"use strict";l.r(t);var i=l("41d2"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},caa5:function(e,t,l){"use strict";l.r(t);var i=l("79d8"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},cb89:function(e,t,l){var i=l("792e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=l("499e").default;a("19bdf381",i,!0,{sourceMap:!1,shadowMode:!1})},ceb2:function(e,t,l){"use strict";l.r(t);var i=l("5db8"),a=l("dd12");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("c8a92");a["default"].render=i["render"],t["default"]=a["default"]},d01c:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=_;var i=l("7a23");const a={class:(0,i.normalizeClass)(["c-alternate-locale-item"])},o={class:"c-alternate-locale-item__select"},s={class:"c-alternate-locale-item__alternate"},n={class:"c-alternate-locale-item__locale"},r={class:"c-alternate-locale-item__article"},c={key:1,class:"c-alternate-locale-item__no-locale"},d={key:0,class:"c-alternate-locale-item__actions"},p={key:0,class:"c-alternate-locale-item__consolidate"},u={class:"c-alternate-locale-item__consolidate-question"},h=(0,i.createElementVNode)("span",null,(0,i.toDisplayString)(" - "),-1);function _(e,t,l,_,m,f){const E=(0,i.resolveComponent)("field-select"),b=(0,i.resolveComponent)("base-button");return(0,i.openBlock)(),(0,i.createElementBlock)("div",a,[(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",s,[(0,i.createElementVNode)("div",n,[(0,i.createVNode)(E,{modelValue:m.alternate.locale,"onUpdate:modelValue":t[0]||(t[0]=e=>m.alternate.locale=e),onChange:f.onChangeLocale,options:l.availableLocales,disabled:m.articlesLoading||l.isLocaleLocked,searchable:m.articlesLoading||l.isLocaleLocked,name:"locale"},null,8,["modelValue","onChange","options","disabled","searchable"])]),(0,i.createElementVNode)("div",r,[m.alternate.locale?((0,i.openBlock)(),(0,i.createBlock)(E,{key:0,modelValue:m.alternate.articleId,"onUpdate:modelValue":t[1]||(t[1]=e=>m.alternate.articleId=e),onChange:f.onChangeArticle,options:f.availableArticles[m.alternate.locale],"default-option":f.articleDefaultOption,loading:m.articlesLoading,name:"article",searchable:""},null,8,["modelValue","onChange","options","default-option","loading"])):((0,i.openBlock)(),(0,i.createElementBlock)("span",c,(0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_NO_LOCALE")),1))])]),f.isNew||l.hasRemove?((0,i.openBlock)(),(0,i.createElementBlock)("div",d,[f.isNew?((0,i.openBlock)(),(0,i.createBlock)(b,{key:0,class:"c-alternate-locale-item__action",onClick:f.onAddAlternateLocale,disabled:!f.canSubmit,loading:m.alternatesLoading,"left-icon":"add_circle",size:"small"},null,8,["onClick","disabled","loading"])):(0,i.createCommentVNode)("",!0),l.hasRemove?((0,i.openBlock)(),(0,i.createBlock)(b,{key:1,class:"c-alternate-locale-item__action",onClick:f.onRemoveAlternateLocale,"left-icon":"delete",color:"red",size:"small"},null,8,["onClick"])):(0,i.createCommentVNode)("",!0)])):(0,i.createCommentVNode)("",!0)]),m.alternates&&m.alternates.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",p,[(0,i.createElementVNode)("span",u,(0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_CONSOLIDATE_QUESTION",{alternatesCount:m.alternates.length})),1),(0,i.createElementVNode)("a",{class:"span c-alternate-locale-item__consolidate-action",onClick:t[2]||(t[2]=(...e)=>f.onConsolidate&&f.onConsolidate(...e))},(0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_CONSOLIDATE_ANSWER_YES")),1),h,(0,i.createElementVNode)("a",{class:"span c-alternate-locale-item__consolidate-action",onClick:t[3]||(t[3]=(...e)=>f.onAddAlternateLocaleProceed&&f.onAddAlternateLocaleProceed(...e))},(0,i.toDisplayString)(e.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_CONSOLIDATE_ANSWER_NO")),1)])):(0,i.createCommentVNode)("",!0)])}},d23b:function(e,t,l){"use strict";l.r(t);var i=l("8e65"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},d298:function(e,t,l){"use strict";l.r(t);var i=l("8e44"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},d597:function(e,t,l){"use strict";l.r(t);var i=l("571f"),a=l("070b");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);a["default"].render=i["render"],t["default"]=a["default"]},d933:function(e,t,l){"use strict";l("0c37")},d94d:function(e,t,l){"use strict";l("cb89")},dc46:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(l("6a84"));function a(e){return e&&e.__esModule?e:{default:e}}var o={props:{availableLocales:{type:Array,required:!0}},emits:["close","created"],data(){return{websiteId:this.$route.params.websiteId,locale:"",locales:[],loading:!1}},computed:{helpdeskLocales(){return this.$store.getters["helpdesk/getLocales"]}},created(){this.locales=this.$CONFIG.CRISP_LOCALES_PRIORITY.map(e=>({flagCountry:e,label:this.$filters.locale.localeRead(e),value:e.toLowerCase()})),this.availableLocales.forEach(e=>{const t=this.helpdeskLocales.findIndex(t=>t.locale===e.value),l=this.locales.findIndex(t=>t.value===e.value);-1===t&&-1===l&&this.locales.push(e)})},methods:{onCreateNewLocale(){this.locale&&!0!==this.loading&&(this.loading=!0,this.$store.dispatch("helpdesk/createLocale",{websiteId:this.websiteId,locale:this.locale}).then(()=>(i.default.success("helpdesk_locale_added"),this.$emit("created",this.locale),this.$emit("close"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loading=!1}))}}};t.default=o},dd00:function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-initialize-helpdesk .c-base-popup__content{min-height:0!important;max-height:550px!important;width:650px;flex-direction:column}.c-initialize-helpdesk .c-base-popup__content,.c-initialize-helpdesk .c-initialize-helpdesk__form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.c-initialize-helpdesk .c-initialize-helpdesk__form{margin-left:20px;margin-right:20px;margin-top:20px;flex-direction:column;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-initialize-helpdesk .c-initialize-helpdesk__done{margin-bottom:24px;margin-left:auto;margin-right:auto;display:-webkit-box;display:-ms-flexbox;display:flex;width:300px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.c-initialize-helpdesk .c-initialize-helpdesk__emphasis{text-align:left;font-size:15px}",""]),e.exports=t},dd12:function(e,t,l){"use strict";l.r(t);var i=l("a274"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},dd6b:function(e,t,l){"use strict";l.r(t);var i=l("16d29"),a=l("3e44");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("9bca");a["default"].render=i["render"],t["default"]=a["default"]},e3a04:function(e,t,l){"use strict";var i=l("fc5d");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},e59a:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{itemType:{type:String,required:!0},selected:{type:Number,default:null}},emits:["close","remove"],data(){return{loading:!1}},computed:{description(){switch(this.itemType){case"articles":return this.$filters.format.parseText(this.$t("HELPDESK.DEFAULT.POPUPS_REMOVE_ARTICLES_NOTICE",{selected:this.selected}));case"categories":return this.$filters.format.parseText(this.$t("HELPDESK.DEFAULT.POPUPS_REMOVE_CATEGORIES_NOTICE",{selected:this.selected}));default:return}},emphasis(){switch(this.itemType){case"articles":return this.$t("HELPDESK.DEFAULT.POPUPS_REMOVE_ARTICLES_EMPHASIS_1");case"categories":return this.$t("HELPDESK.DEFAULT.POPUPS_REMOVE_CATEGORIES_EMPHASIS_1");default:return}},proceedLabel(){switch(this.itemType){case"articles":return this.$t("HELPDESK.DEFAULT.POPUPS_REMOVE_ARTICLES_PROCEED");case"categories":return this.$t("HELPDESK.DEFAULT.POPUPS_REMOVE_CATEGORIES_PROCEED");default:return}},title(){switch(this.itemType){case"articles":return this.$t("HELPDESK.DEFAULT.POPUPS_REMOVE_ARTICLES_TITLE");case"categories":return this.$t("HELPDESK.DEFAULT.POPUPS_REMOVE_CATEGORIES_TITLE");default:return}}},methods:{onRemoveItems(){!0!==this.loading&&(this.loading=!0,this.$emit("remove",()=>{this.loading=!1}))}}};t.default=i},e7b5:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var i=l("7a23");function a(e,t,l,a,o,s){const n=(0,i.resolveComponent)("base-headlines"),r=(0,i.resolveComponent)("field-select"),c=(0,i.resolveComponent)("base-button"),d=(0,i.resolveComponent)("base-popup");return(0,i.openBlock)(),(0,i.createBlock)(d,{onClose:t[2]||(t[2]=t=>s.helpdeskLocales.length>0?e.$emit("close"):null),onEnter:s.onCreateNewLocale,parent:"helpdesk",alignment:"center",overflow:"visible",size:"medium"},{actions:(0,i.withCtx)(()=>[s.helpdeskLocales.length>0?((0,i.openBlock)(),(0,i.createBlock)(c,{key:0,onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1})):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(c,{onClick:s.onCreateNewLocale,loading:o.loading,disabled:!o.locale,"left-icon":"add_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_ADD_LOCALE_PROCEED")),1)]),_:1},8,["onClick","loading","disabled"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(n,{class:"u-mb20",title:e.$t("HELPDESK.DEFAULT.POPUPS_ADD_LOCALE_TITLE"),description:e.$t("HELPDESK.DEFAULT.POPUPS_ADD_LOCALE_NOTICE"),alignment:"center"},null,8,["title","description"]),(0,i.createVNode)(r,{class:"u-mb20",modelValue:o.locale,"onUpdate:modelValue":t[0]||(t[0]=e=>o.locale=e),disabled:o.loading,label:e.$t("HELPDESK.DEFAULT.POPUPS_ADD_LOCALE_LOCALE_LABEL"),options:o.locales,name:"locale",searchable:""},null,8,["modelValue","disabled","label","options"])]),_:1},8,["onEnter"])}},ea45:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(l("6a84"));function a(e){return e&&e.__esModule?e:{default:e}}var o={props:{flag:{type:String,required:!0},locale:{type:String,required:!0}},emits:["close"],data(){return{websiteId:this.$route.params.websiteId,name:"",loading:!1}},computed:{formattedLocale(){return this.$filters.locale.localeRead(this.locale)}},methods:{onCreateNewCategory(e=!1){!0!==this.loading&&!0!==e&&(this.loading=!0,this.$store.dispatch("helpdesk/createCategory",{websiteId:this.websiteId,locale:this.locale,name:this.name}).then(()=>(i.default.success("helpdesk_category_added"),this.$emit("close"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.loading=!1}))}}};t.default=o},efdb:function(e,t,l){var i=l("24fb");t=i(!1),t.push([e.i,".c-import-helpdesk .c-import-helpdesk__headlines{max-width:650px;margin-bottom:30px}",""]),e.exports=t},f320:function(e,t,l){"use strict";l.r(t);var i=l("fa66"),a=l.n(i);for(var o in l.d(t,"default",(function(){return a.a})),i)["default","default"].indexOf(o)<0&&function(e){l.d(t,e,(function(){return i[e]}))}(o)},f80e:function(e,t,l){"use strict";l.r(t);var i=l("ae11"),a=l("74b8");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);a["default"].render=i["render"],t["default"]=a["default"]},f953:function(e,t,l){"use strict";var i=l("11c4");l.o(i,"render")&&l.d(t,"render",(function(){return i["render"]}))},fa66:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l("70d6"),a=y(l("f37d")),o=y(l("cd3f")),s=y(l("6a84")),n=y(l("8b30")),r=y(l("7988")),c=y(l("14fc")),d=y(l("3394")),p=y(l("a3ce")),u=y(l("2bd7")),h=y(l("d597")),_=y(l("dd6b")),m=y(l("6b40")),f=y(l("8d12")),E=y(l("1a52")),b=y(l("4fa7")),k=y(l("159d")),g=y(l("9ee9")),L=y(l("f80e")),C=y(l("09ff")),v=y(l("0bb7")),P=y(l("0315"));function y(e){return e&&e.__esModule?e:{default:e}}const S=200,T=["status_published","status_draft","visibility_visible","visibility_hidden"];var x={components:{CommonTable:n.default,InitializeHelpdesk:u.default,DestroyLocale:h.default,EditCategory:_.default,HelpdeskTableArticleItem:r.default,HelpdeskTableCategoryItem:c.default,HelpdeskTableSection:d.default,ExportHelpdesk:m.default,ImportHelpdesk:f.default,NewArticle:E.default,NewCategory:b.default,NewLocale:k.default,RemoveItems:L.default,SecondaryMenu:p.default},data(){return{websiteId:this.$route.params.websiteId,lastFilter:"",initialized:!1,itemType:"articles",availableLocales:[],locale:null,localeStats:null,selectedRows:[],loading:!1,searching:!1,sortField:"status",sortOrder:"descending",query:{filter_status_published:0,filter_status_draft:0,filter_visibility_visible:0,filter_visibility_hidden:0,search_title:"",search_name:""},popups:{initializeHelpdesk:{visible:!1},destroyLocale:{visible:!1},editCategory:{visible:!1,category:null},exportHelpdesk:{visible:!1},importHelpdesk:{visible:!1},newArticle:{visible:!1},newCategory:{visible:!1},newLocale:{visible:!1},removeItems:{visible:!1}},table:{articles:{fields:{checkbox:{alignment:"center",noPadding:!0,width:"65px"},title:{noPaddingLeft:!0,title:this.$t("HELPDESK.DEFAULT.HEAD_ARTICLES_TITLE"),minWidth:"100px",width:"33%"},status:{alignment:"center",title:this.$t("HELPDESK.DEFAULT.HEAD_ARTICLES_STATUS"),minWidth:"100px",width:"20%"},statistics:{alignment:"center",title:this.$t("HELPDESK.DEFAULT.HEAD_ARTICLES_STATISTICS"),minWidth:"100px",width:"12%"},updated_at:{title:this.$t("HELPDESK.DEFAULT.HEAD_LAST_UPDATE"),minWidth:"100px",width:"15%"},actions:{alignment:"right",title:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS"),minWidth:"100px",width:"20%"}}},categories:{fields:{checkbox:{alignment:"center",noPadding:!0,width:"65px"},name:{noPaddingLeft:!0,title:this.$t("HELPDESK.DEFAULT.HEAD_CATEGORIES_NAME"),minWidth:"100px",width:"15%"},description:{title:this.$t("HELPDESK.DEFAULT.HEAD_CATEGORIES_DESCRIPTION"),minWidth:"100px",width:"37%"},statistics:{alignment:"center",title:this.$t("HELPDESK.DEFAULT.HEAD_CATEGORIES_STATISTICS"),minWidth:"100px",width:"15%"},updated_at:{title:this.$t("HELPDESK.DEFAULT.HEAD_LAST_UPDATE"),minWidth:"100px",width:"15%"},actions:{alignment:"right",title:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS"),minWidth:"100px",width:"18%"}}}}}},computed:{buttonItems(){let e=[{icon:"open_in_new",id:"view_helpdesk",label:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS_VIEW_HELPDESK"),blue:!0},{icon:"language",id:"add_locale",label:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS_ADD_LOCALE")},{icon:"cloud_download",id:"import_helpdesk",label:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS_IMPORT_ARTICLES")},{icon:"cloud_upload",id:"export_helpdesk",label:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS_EXPORT_ARTICLES")},{icon:"delete",id:"destroy_locale",label:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS_DESTROY_LOCALE"),red:!0}];if(this.selectedRows.length>0)switch(this.itemType){case"articles":e.unshift({icon:"close",id:"remove_selected_articles",label:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS_ARTICLE_REMOVE"),red:!0});break;case"categories":e.unshift({icon:"close",id:"remove_selected_categories",label:this.$t("HELPDESK.DEFAULT.CONTROLS_ACTIONS_CATEGORY_REMOVE"),red:!0});break}return e},articlesByCategory(){let e={};return this.articles.forEach(t=>{let l;l=t.category?t.category.category_id:"none",e[l]||(e[l]={},e[l].data=[],"none"===l?e["none"].section={count:0,category_id:"none",color:"",name:this.$t("HELPDESK.DEFAULT.ROW_SECTION_ARTICLES_NO_CATEGORY")}:(e[l].section=(0,o.default)(t.category),e[l].section.count=0)),e[l].section.count+=1,e[l].data.push(t)}),0===Object.keys(e).length?null:e},categoriesWithoutNone(){return this.$store.getters["helpdesk/getCategoriesWithoutNone"]},flagForLocale(){const e=this.availableLocales.find(e=>e.value===this.locale);return e.flagCountry},labelForLocale(){const e=this.availableLocales.find(e=>e.value===this.locale);return e.label},emptySpotArticleDescription(){return this.query.search_title?this.$t("HELPDESK.DEFAULT.EMPTY_NO_ARTICLE_SEARCH_LABEL"):this.$t("HELPDESK.DEFAULT.EMPTY_NO_ARTICLE_DEFAULT_LABEL")},emptySpotArticleTitle(){return this.query.search_title?this.$t("HELPDESK.DEFAULT.EMPTY_NO_ARTICLE_SEARCH_TITLE"):this.$t("HELPDESK.DEFAULT.EMPTY_NO_ARTICLE_DEFAULT_TITLE")},emptySpotCategoryDescription(){return this.query.search_name?this.$t("HELPDESK.DEFAULT.EMPTY_NO_CATEGORY_SEARCH_LABEL"):this.$t("HELPDESK.DEFAULT.EMPTY_NO_CATEGORY_DEFAULT_LABEL")},emptySpotCategoryTitle(){return this.query.search_name?this.$t("HELPDESK.DEFAULT.EMPTY_NO_CATEGORY_SEARCH_TITLE"):this.$t("HELPDESK.DEFAULT.EMPTY_NO_CATEGORY_DEFAULT_TITLE")},lists(){return[{title:this.$t("HELPDESK.DEFAULT.CONTROLS_NAME"),items:[{id:"articles",label:this.$t("HELPDESK.DEFAULT.FILTERS_CATEGORY_ARTICLES_TITLE"),link:{name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:"articles"}}},{id:"categories",label:this.$t("HELPDESK.DEFAULT.FILTERS_CATEGORY_CATEGORIES_TITLE"),link:{name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:"categories"}}}]},{title:this.$t("HELPDESK.DEFAULT.FILTERS_STATUS_TITLE"),items:[{id:"published",label:this.$t("HELPDESK.DEFAULT.FILTERS_STATUS_PUBLISHED"),link:{name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:"published"}}},{id:"draft",label:this.$t("HELPDESK.DEFAULT.FILTERS_STATUS_DRAFT"),link:{name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:"draft"}}},{id:"visible",label:this.$t("HELPDESK.DEFAULT.FILTERS_VISIBILITY_VISIBLE"),link:{name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:"visible"}}},{id:"hidden",label:this.$t("HELPDESK.DEFAULT.FILTERS_VISIBILITY_HIDDEN"),link:{name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:"hidden"}}}]}]},localeSwitcherOptions(){return this.availableLocales.filter(e=>{const t=this.locales.findIndex(t=>e.value===t.locale);return-1!==t})},title(){let e="";const t=this.$route.params.filter;return"categories"===t?(this.localeStats&&(e+=this.localeStats.categories+" "),e+=this.$t("HELPDESK.DEFAULT.FILTERS_CATEGORY_CATEGORIES_TITLE")):(this.localeStats&&(this.selectedRows.length>0&&(e+=this.selectedRows.length+" / "),e+=this.localeStats.articles+" "),e+=this.$t("HELPDESK.DEFAULT.FILTERS_CATEGORY_ARTICLES_TITLE")),e},articles(){return this.$store.getters["helpdesk/getArticles"]},categories(){return this.$store.getters["helpdesk/getCategories"]},locales(){return this.$store.getters["helpdesk/getLocales"]},name(){return this.$store.getters["helpdesk/getName"]},page(){return this.$store.getters["helpdesk/getPage"]},url(){return this.$store.getters["helpdesk/getUrl"]}},watch:{$route:{immediate:!0,handler(e,t){(0,a.default)(e.name,"app.website.helpdesk")&&(v.default.update(this.$t("TITLES.HELPDESK")),void 0!==t&&this.lastFilter===e.params.filter||(this.selectedRows=[],this.locale&&this.loadItems()))}},locales:{deep:!0,handler(e){0===e.length&&this.onDisplayPopup("newLocale",!0)}},locale:{immediate:!0,handler(e){e&&(this.loadLocaleStatistics(),this.loadItems(),localStorage.setItem("helpdesk_locale",e))}}},created(){const e=this.$route.query.query;e&&(this.query.search_title=e,this.query.search_name=e),this.initiate()},methods:{initiate(){return this.availableLocales=this.buildAvailableLocales(),Promise.all([this.$store.dispatch("helpdesk/acquireInformation",{websiteId:this.websiteId}),this.$store.dispatch("helpdesk/acquireLocales",{websiteId:this.websiteId})]).then(e=>{let t=e[1];if(0===t.length)this.onDisplayPopup("newLocale",!0);else{const e=t.map(e=>e.locale),l=localStorage.getItem("helpdesk_locale");l&&e.includes(l)?this.locale=l:this.locale=t[0].locale}return Promise.resolve()}).catch(e=>{switch((e||{}).reason){case"helpdesk_not_configured":this.onDisplayPopup("initializeHelpdesk",!0);break;case"subscription_upgrade_required":g.default.show({pluginName:"Helpdesk",pluginUrn:"urn:crisp.im:helpdesk:0",plan:"unlimited",closable:!1});break}})},buildAvailableLocales(){const e=this.$CONFIG.CRISP_LOCALES_COUNTRIES;let t=[];return i.languages.forEach(l=>{t.push({flagCountry:l.country,label:l.name,value:l.code}),e[l.code]&&e[l.code].forEach(e=>{t.push({flagCountry:e,label:`${l.name} (${e.toUpperCase()})`,value:`${l.code}-${e}`})})}),t},clearQueryFilters(){for(let e=0;e<T.length;e++)this.query["filter_"+T[e]]=0},craftQueryArticles(){let e={};this.query.search_title&&(e.search_title=this.query.search_title);for(let t=0;t<T.length;t++){let l="filter_"+T[t];1===this.query[l]&&(e[l]=1)}return e},craftQueryCategories(){let e={};return this.query.search_name&&(e.search_name=this.query.search_name),e},loadItems(e){if(!0!==this.loading){let t="",l={websiteId:this.websiteId,locale:this.locale};this.loading=!0,this.clearQueryFilters();const i=this.$route.params.filter;switch(i){case"published":this.query.filter_status_published=1;break;case"draft":this.query.filter_status_draft=1;break;case"visible":this.query.filter_visibility_visible=1;break;case"hidden":this.query.filter_visibility_hidden=1;break}return this.itemType="categories"===i?"categories":"articles",this.lastFilter=i,e||(this.initialized=!1,this.$store.commit("helpdesk/setPage",{value:1})),"articles"===this.itemType?(this.query.search_title?(t="helpdesk/acquireAllArticles",l.mustCommit=!0):t="helpdesk/acquireCategoriesWithArticles",l.query=this.craftQueryArticles()):"categories"===this.itemType&&(t="helpdesk/acquireCategories",l.query=this.craftQueryCategories()),this.$store.dispatch(t,l).then(()=>(this.initialized=!0,this.loading=!1,null===this.page&&e?e.complete():e?e.loaded():this.initialized=!0,Promise.resolve())).catch(()=>{this.loading=!1})}return Promise.resolve()},loadLocaleStatistics(){return this.localeStats=null,Promise.resolve().then(()=>this.locale?this.$store.dispatch("helpdesk/acquireLocale",{websiteId:this.websiteId,locale:this.locale}):Promise.resolve(null)).then(e=>{this.localeStats=e?{articles:e.articles||0,categories:e.categories||0}:null})},onCurrentLocaleDestroyed(){this.locales.length>0?this.locale=this.locales[0].locale:this.locale=null},onCheckboxChange(e,t){if(e)this.selectedRows.push(t);else{const e=this.selectedRows.findIndex(e=>e===t);this.selectedRows.splice(e,1)}},onDisplayPopup(e,t){this.popups[e].visible=t},onEditCategory(e){this.popups.editCategory.visible=!0,this.popups.editCategory.category=e},onExitEditor(){this.$router.push({name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:this.lastFilter||""}}).catch(()=>{})},onReloadAndImport(){this.initiate().then(()=>{this.onDisplayPopup("importHelpdesk",!0)})},onReloadAndNewArticle(){this.initiate().then(()=>{this.onDisplayPopup("newArticle",!0)})},onItemClick(e){switch(e){case"add_locale":this.onDisplayPopup("newLocale",!0);break;case"destroy_locale":this.onDisplayPopup("destroyLocale",!0);break;case"export_helpdesk":this.onDisplayPopup("exportHelpdesk",!0);break;case"import_helpdesk":this.onDisplayPopup("importHelpdesk",!0);break;case"remove_selected_articles":this.onDisplayPopup("removeItems",!0);break;case"remove_selected_categories":this.onDisplayPopup("removeItems",!0);break;case"view_helpdesk":this.onViewHelpdesk();break}},onLoadMoreItems(e){this.page?!0!==this.loading&&!this.searching&&this.page>1&&this.loadItems(e):e.complete()},onRemoveItems(e){Promise.resolve().then(()=>{switch(this.itemType){case"articles":return this.$store.dispatch("helpdesk/removeArticles",{websiteId:this.websiteId,locale:this.locale,articleIds:this.selectedRows});case"categories":return this.$store.dispatch("helpdesk/removeCategories",{websiteId:this.websiteId,locale:this.locale,categoryIds:this.selectedRows});default:return Promise.resolve()}}).then(()=>(this.selectedRows=[],s.default.success("factory_datatable_item_deleted"),this.onDisplayPopup("removeItems",!1),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{e()})},onSearch(e){this.searching=!0,e?(this.query.search_name=e,this.query.search_title=e,this.$router.push({name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:this.$route.params.filter},query:{query:e}}).catch(()=>{})):(this.query.search_name="",this.query.search_title="",this.$router.push({name:"app.website.helpdesk.index",params:{websiteId:this.websiteId,filter:this.$route.params.filter}}).catch(()=>{})),this.loadItems().then(()=>(this.searching=!1,Promise.resolve()))},onSetLocale(e){setTimeout(()=>{this.locale=e},S)},onViewDocumentation(){P.default.logEvent("Helpdesk opened",{source:"helpdesk"}),C.default.openExternal(this.$CONFIG.CRISP_URL_HELP+"/en/category/du6vi0/",!0)},onViewHelpdesk(){C.default.openExternal(this.url)}}};t.default=x},fae2:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(l("d682"));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},o.apply(this,arguments)}const s=500;var n={props:{alternatesFromArticle:{type:Array,default:()=>[]},articleId:{type:String,default:null},availableLocales:{type:Array,required:!0},hasRemove:{type:Boolean,default:!1},isLocaleLocked:{type:Boolean,default:!1},locale:{type:String,default:null},localeFromArticle:{type:String,default:null}},emits:["update","clearUpdates","remove","add"],data(){return{websiteId:this.$route.params.websiteId,articlesLoading:!1,alternatesLoading:!1,submitDisabled:!1,alternate:{locale:null,articleId:null},lastSavedAlternate:{},alternates:[]}},computed:{articleDefaultOption(){return this.isNew?{label:this.$t("HELPDESK.ARTICLE.POPUPS_ALTERNATE_LOCALES_ARTICLE_SELECT_EMPTY"),value:""}:null},availableArticles(){return this.$store.getters["helpdesk/getAvailableArticles"]},isNew(){return!this.articleId},canSubmit(){return this.isNew&&this.alternate.articleId&&""!==this.alternate.articleId&&!this.submitDisabled}},watch:{locale(e){this.alternate.locale=e},articleId(e){this.alternate.articleId=e},"alternate.locale":{handler(e){e&&this.loadAlternate()}}},created(){this.isNew||(this.alternate={locale:this.locale,articleId:this.articleId},this.lastSavedAlternate=o({},this.alternate),this.loadAlternate())},methods:{loadAlternate(){let e=!1;this.alternate.locale&&!0!==this.articlesLoading&&(this.alternate.locale in this.availableArticles||(e=!0,this.articlesLoading=!0,this.$store.commit("helpdesk/setLocaleAvailableArticles",{locale:this.alternate.locale,value:[]})),Promise.resolve().then(()=>!0===e?this.loadArticles(this.alternate.locale):Promise.resolve()).catch(()=>Promise.resolve()).then(()=>new Promise(e=>{setTimeout(e,s)})).then(()=>{this.articlesLoading=!1}))},loadArticles(e){return Promise.resolve().then(()=>this.$store.dispatch("helpdesk/acquireAllArticles",{websiteId:this.websiteId,locale:e,query:{},mustCommit:!1})).then(t=>{let l=t.map(e=>({label:e.title,value:e.article_id}));return this.$store.commit("helpdesk/setLocaleAvailableArticles",{locale:e,value:l}),Promise.resolve()})},reset(){this.alternate={locale:null,articleId:null},this.lastSavedAlternate=o({},this.alternate),this.alternates=[]},onChangeLocale(){this.alternate.articleId=null,this.submitDisabled=!1,this.alternates=[]},onChangeArticle(e){this.submitDisabled=!1,this.alternates=[],this.isNew||(e!==this.lastSavedAlternate.articleId?this.onUpdateAlternateLocale():this.onClearAlternateLocaleUpdates())},onAddAlternateLocale(){this.alternate.locale&&this.alternate.articleId&&(this.alternatesLoading=!0,this.submitDisabled=!0,Promise.resolve().then(()=>i.default.articleAlternates(this.websiteId,this.alternate.locale,this.alternate.articleId).get()).catch(()=>Promise.resolve([])).then(e=>{let t=[];return e.length&&(t=e.filter(e=>e.locale!==this.localeFromArticle).filter(e=>!this.alternatesFromArticle.some(t=>t.locale===e.locale&&t.article_id===e.article_id)).map(e=>({locale:e.locale,article_id:e.article_id}))),Promise.resolve(t)}).then(e=>{e.length>0?setTimeout(()=>{this.alternates=e,this.alternatesLoading=!1},s):(this.alternatesLoading=!1,this.onAddAlternateLocaleProceed())}).catch(()=>Promise.resolve()))},onUpdateAlternateLocale(){this.$emit("update",this.alternate.locale,this.alternate.articleId)},onClearAlternateLocaleUpdates(){this.$emit("clearUpdates",this.alternate.locale)},onRemoveAlternateLocale(){this.hasRemove&&this.$emit("remove",this.alternate.locale,this.alternate.articleId)},onConsolidate(){this.$emit("add",this.alternate.locale,this.alternate.articleId),this.alternates.forEach(e=>{this.$emit("add",e.locale,e.article_id)}),this.reset()},onAddAlternateLocaleProceed(){this.$emit("add",this.alternate.locale,this.alternate.articleId),this.reset()}}};t.default=n},fc5d:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var i=l("7a23");function a(e,t,l,a,o,s){const n=(0,i.resolveComponent)("base-headlines"),r=(0,i.resolveComponent)("field-input"),c=(0,i.resolveComponent)("base-button"),d=(0,i.resolveComponent)("base-popup"),p=(0,i.resolveComponent)("validation-observer");return(0,i.openBlock)(),(0,i.createBlock)(p,{as:""},{default:(0,i.withCtx)(({meta:a})=>[(0,i.createVNode)(d,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>s.onCreateNewCategory(!a.valid),parent:"helpdesk",size:"medium",alignment:"center"},{actions:(0,i.withCtx)(()=>[(0,i.createVNode)(c,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,i.createVNode)(c,{onClick:e=>s.onCreateNewCategory(!a.valid),disabled:!a.valid,loading:o.loading,"left-icon":"add_circle"},{default:(0,i.withCtx)(()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.$t("HELPDESK.DEFAULT.POPUPS_NEW_CATEGORY_PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,i.withCtx)(()=>[(0,i.createVNode)(n,{class:"u-mb20",title:e.$t("HELPDESK.DEFAULT.POPUPS_NEW_CATEGORY_TITLE"),description:e.$t("HELPDESK.DEFAULT.POPUPS_NEW_CATEGORY_NOTICE")+` <strong>${s.formattedLocale}</strong>`,flag:l.flag,alignment:"center","is-description-html":""},null,8,["title","description","flag"]),(0,i.createVNode)(r,{class:"u-mb20",modelValue:o.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e),label:e.$t("HELPDESK.DEFAULT.POPUPS_NEW_CATEGORY_NAME_LABEL"),disabled:o.loading,placeholder:e.$t("HELPDESK.DEFAULT.POPUPS_NEW_CATEGORY_NAME_PLACEHOLDER"),name:"name",rules:"required|max:80",size:"medium",autofocus:""},null,8,["modelValue","label","disabled","placeholder"])]),_:2},1032,["onEnter"])]),_:1})}},fd75:function(e,t,l){"use strict";l.r(t);var i=l("23c0"),a=l("0719");for(var o in a)"default"!==o&&function(e){l.d(t,e,(function(){return a[e]}))}(o);l("d933");a["default"].render=i["render"],t["default"]=a["default"]}}]);