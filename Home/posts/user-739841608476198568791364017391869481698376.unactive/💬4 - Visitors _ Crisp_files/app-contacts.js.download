(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-contacts"],{"01f5":function(e,t,i){"use strict";var o=i("49e2");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"033f":function(e,t,i){"use strict";var o=i("ea3f");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"038f":function(e,t,i){"use strict";i("75f2")},"0449":function(e,t,i){var o=i("61b0");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("445b3940",o,!0,{sourceMap:!1,shadowMode:!1})},"0459":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var o=i("7a23");function a(e,t,i,a,n,c){const r=(0,o.resolveComponent)("base-headlines"),l=(0,o.resolveComponent)("base-button"),s=(0,o.resolveComponent)("base-popup");return(0,o.openBlock)(),(0,o.createBlock)(s,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:c.onExportContacts,parent:"contacts"},{actions:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,o.createVNode)(l,{onClick:c.onExportContacts,loading:n.loading,"left-icon":"check_circle"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.POPUPS_EXPORT_PROFILES_PROCEED")),1)]),_:1},8,["onClick","loading"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(r,{title:e.$t("CONTACTS.DEFAULT.POPUPS_EXPORT_PROFILES_TITLE"),description:e.$t("CONTACTS.DEFAULT.POPUPS_EXPORT_PROFILES_NOTICE")},null,8,["title","description"])]),_:1},8,["onEnter"])}},"045d":function(e,t,i){"use strict";i.r(t);var o=i("9a54"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"0698":function(e,t,i){var o=i("50f5");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("37457a94",o,!0,{sourceMap:!1,shadowMode:!1})},"0734":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("70bc"));function a(e){return e&&e.__esModule?e:{default:e}}var n={components:{ProfileBox:o.default},beforeCreate(){this.peopleId=this.$route.params.peopleId,this.websiteId=this.$route.params.websiteId}};t.default=n},"08d3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(i("c6e9")),a=c(i("82c7")),n=c(i("ef0e"));function c(e){return e&&e.__esModule?e:{default:e}}var r={components:{ProfileCardDefault:o.default,ProfileItemDefault:a.default,ProfileItemEmpty:n.default},props:{firstName:{type:String,required:!0},peopleId:{type:String,required:!0},websiteId:{type:String,required:!0}},data(){return{loading:!0,page:1}},computed:{campaigns(){return this.$store.getters["contacts/getProfile"](this.peopleId).campaigns}},mounted(){this.loadCampaigns(null,!0)},methods:{finalStatistic(e){return e.replace("campaign:","")},loadCampaigns(e,t=!1){if(!0!==this.loading||!0===t)return this.loading=!0,this.$store.dispatch("contacts/acquireProfileCampaigns",{peopleId:this.peopleId,websiteId:this.websiteId,page:this.page}).then(t=>(this.loading=!1,t?this.page=-1:this.page++,e&&(t?e.complete():e.loaded()),Promise.resolve())).catch(()=>{this.loading=!1})},onCampaignClick(e){this.$router.push({name:"app.website.campaigns.analytics",params:{websiteId:this.websiteId,campaignId:e,filterType:"types",filterValue:"all"}}).catch(()=>{})},onLoadMoreCampaigns(e){this.page>1?this.loadCampaigns(e,!0):e&&e.complete()}}};t.default=r},"09c3":function(e,t,i){"use strict";i.r(t);var o=i("bdf4"),a=i("ae58");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("40e8");a["default"].render=o["render"],t["default"]=a["default"]},"0c3c":function(e,t,i){var o=i("2449");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("c4c281a6",o,!0,{sourceMap:!1,shadowMode:!1})},"0d94":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=l;var o=i("7a23");const a={class:"c-profile-card-data"},n={key:0,class:"c-profile-card-data__items c-profile-card-data__items-scroll"},c={key:1,class:"c-profile-card-data__empty"},r={key:0,class:(0,o.normalizeClass)(["c-profile-card-data__items c-profile-card-data__items--add"])};function l(e,t,i,l,s,d){const p=(0,o.resolveComponent)("profile-item-data");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[i.data&&i.data.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.data,e=>((0,o.openBlock)(),(0,o.createBlock)(p,{class:"c-profile-card-data__item",onUpdate:d.onDatumUpdated,onRemove:d.onDatumRemoved,"field-key":e.fieldKey,"field-value":e.fieldValue,key:e.fieldKey},null,8,["onUpdate","onRemove","field-key","field-value"]))),128))])):i.addActivated?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",c,(0,o.toDisplayString)(e.$t("CONTACTS.PROFILE.BOXES.DATA.EMPTY")),1)),(0,o.createVNode)(o.Transition,{"enter-active-class":"animated fade-in fast"},{default:(0,o.withCtx)(()=>[i.addActivated?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(p,{class:"c-profile-card-data__item",onAdd:d.onDatumAdded,"has-remove":!1,"website-id":i.websiteId,"has-submit":""},null,8,["onAdd","website-id"])])):(0,o.createCommentVNode)("",!0)]),_:1})])}},"0da5":function(e,t,i){"use strict";i("bba9")},"0e08":function(e,t,i){"use strict";i.r(t);var o=i("acf7"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"0fd6":function(e,t,i){"use strict";i.r(t);var o=i("92cc"),a=i("7d44");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("e755");a["default"].render=o["render"],t["default"]=a["default"]},"158c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{data:{type:Array,default(){return[]}},dataBySection:{type:Object,default:null},fields:{type:Object,required:!0},initialized:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},keyField:{type:String,required:!0},minItemHeight:{type:Number,default:70},overflow:{type:String,default:null},sortField:{type:String,default:null},sortOrder:{type:String,default:null}},emits:["sortColumn"],data(){return{allTagsForUsers:{},selectedRows:[],tableWidth:null,tableInnerWidth:null,windowHeight:1400}},computed:{displayedDataBySection(){return Object.values(this.dataBySection||{}).filter(e=>e.display||void 0===e.display)}},methods:{onSortColumn(e){if(e.sortable){const t="ascending"===this.sortOrder?"descending":"ascending";this.$emit("sortColumn",e.sortFieldId,t)}}}};t.default=o},"18e8":function(e,t,i){var o=i("2dd8");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("7c653ed8",o,!0,{sourceMap:!1,shadowMode:!1})},"19e6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(i("cd3f")),a=p(i("6a84")),n=p(i("227c")),c=p(i("4522")),r=p(i("ca5b")),l=p(i("9100")),s=p(i("0315")),d=p(i("c27e"));function p(e){return e&&e.__esModule?e:{default:e}}const m=["email","person.nickname"],f=["_.person.first_name","_.person.last_name"],u=[";",","],_=new RegExp('^(([^<>()[\\]\\.,;:\\s@"]+(\\.[^<>()[\\]\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z-0-9]+\\.)+[a-zA-Z]{2,}))$'),b=new RegExp("^data.(.+)","i"),g=/^([A-Za-z0-9_-]+)$/,h=2e3;var x={components:{CreateCustomDataKey:c.default,QuickTour:n.default},emits:["close","reloadContacts"],data(){return{websiteId:this.$route.params.websiteId,step:"file",selectFile:{firstLine:"",loading:!1,selectedFile:null,file:{id:null,files:[]}},configure:{columns:[],columnsToImport:[],loading:!1,options:{column_separator:"",skip_header:!1},showCustomKeyPopup:!1,choicesForColumn:[{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_SKIP"),value:""},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.EMAIL"),value:"email",autodetectRegex:new RegExp("email|e-mail","i")},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.PERSON_FIRSTNAME"),value:"_.person.first_name",autodetectRegex:new RegExp("first-name|first name|first_name","i")},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.PERSON_LASTNAME"),value:"_.person.last_name",autodetectRegex:new RegExp("last-name|last name|last_name","i")},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.PERSON_NICKNAME"),value:"person.nickname",autodetectRegex:new RegExp("^name|nickname","i")},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.PERSON_PHONE"),value:"person.phone",autodetectRegex:new RegExp("phone","i")},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.PERSON_ADDRESS"),value:"person.address"},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.PERSON_WEBSITE"),value:"person.website"},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.PERSON_GEOLOCATION_COUNTRY"),value:"person.geolocation.country"},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.PERSON_GEOLOCATION_CITY"),value:"person.geolocation.city"},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.COMPANY_NAME"),value:"company.name"},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.SEGMENTS"),value:"segments",autodetectRegex:new RegExp("segments|tags|segment|tag","i")},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.NOTEPAD"),value:"notepad",autodetectRegex:new RegExp("^note","i")},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.CREATED_AT"),value:"created_at",autodetectRegex:new RegExp("Reg Date|created_at|created at|creation date|signed up","i")},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.ACTIVE"),value:"active"},{label:this.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_CHOICES.IS_UNSUBSCRIBED"),value:"_.unsubscribed"}]},importing:{importId:null,loading:!0,progress:{estimated:0,current:0,remaining:0,percent:0}},steps:[{id:"file",label:this.$t("POPUPS.IMPORT_CONTACTS.STEP_FILE")},{id:"configure",label:this.$t("POPUPS.IMPORT_CONTACTS.STEP_CONFIGURE")},{id:"import",label:this.$t("POPUPS.IMPORT_CONTACTS.STEP_IMPORT")}]}},computed:{descriptionForImport(){let e=this.importing.progress.current+" "+this.$t("POPUPS.IMPORT_CONTACTS.PROCEED_TEXT_LABEL_IMPORTED")+" - "+(this.importing.progress.skipped||0)+" "+this.$t("POPUPS.IMPORT_CONTACTS.PROCEED_TEXT_LABEL_SKIPPED")+" - "+this.importing.progress.remaining+" "+this.$t("POPUPS.IMPORT_CONTACTS.PROCEED_TEXT_LABEL_REMAINING");return this.importing.progress.estimated>0&&(e+=" "+this.$t("POPUPS.IMPORT_CONTACTS.PROCEED_TEXT_LABEL_ESTIMATED",{minutes:this.importing.progress.estimated})),e},me(){return this.$store.getters["user/getMe"]},previousImport(){return this.$store.getters["contacts/getImport"]}},created(){l.default.bindPeopleImportHandlers(this.onPeopleImportProgress,this.onPeopleImportDone)},unmounted(){l.default.unbindPeopleImportHandlers()},methods:{onBucketGenerated(e){d.default.proceed({states:this.selectFile.file,action:(e.url||{}).signed,resource:(e.url||{}).resource,size_limit:(e.policy||{}).size_limit,fnClean:()=>{this.selectFile.file||this.onProceedStepProceed()},fnDone:(e,t)=>{this.selectFile.importUrl=t,this.selectFile.loading=!1}})},checkValidImportColumns(e=[]){let t=[];return e.forEach(e=>{let i=e.field;-1!==f.indexOf(i)&&(i="person.nickname"),-1!==m.indexOf(i)&&-1===t.indexOf(i)&&t.push(i)}),t.length>=m.length},generateColumnsToImport(){let e=this.configure.columns.filter(e=>e.column>0&&e.field).map(e=>({column:e.column,field:e.field}));return e},refreshAutodetectSeparator(){if(this.selectFile.firstLine){let e=-1;while(++e<u.length&&!this.configure.options.column_separator)-1!==this.selectFile.firstLine.indexOf(u[e])&&(this.configure.options.column_separator=u[e]);this.configure.options.column_separator||(this.configure.options.column_separator=u[0])}},refreshAutodetectSkipHeader(){if(this.selectFile.firstLine){let e=-1,t=this.selectFile.firstLine.split(this.configure.options.column_separator);while(++e<t.length)if(!0===_.test(t[e])){this.configure.options.skip_header=!0;break}}},refreshColumns(){if(this.selectFile.firstLine&&this.configure.options.column_separator){let e=this.selectFile.firstLine.split(this.configure.options.column_separator);this.configure.columns=e.map((e,t)=>({column:t+1,field:"",value:this.$filters.format.parseQuoted(e)}))}},autoDetectFieldsGeneric(){this.configure.choicesForColumn.forEach(e=>{if(e.autodetectRegex){let t=this.configure.columns;for(let i=0;i<t.length;i++){let o=t[i];if(!o.field&&e.autodetectRegex.test(o.value)){o.field=e.value;break}}}})},autoDetectFieldsCustomData(){let e=this.configure.columns;for(let t=0;t<e.length;t++){let i=e[t];if(!i.field){let e=i.value.match(b);e&&e[1]&&(this.onCreateCustomDataKey(e[1],!1),i.field="data."+e[1])}}},restorePreviousConfiguration(e){JSON.stringify(e)===JSON.stringify(this.configure.columns)&&(this.previousImport.options||{}).column_separator&&(this.configure.columnsToImport=(0,o.default)(this.previousImport.columnsToImport),this.configure.options=(0,o.default)(this.previousImport.options),this.configure.columns=(0,o.default)(this.previousImport.mappedColumns),this.configure.choicesForColumn=(0,o.default)(this.previousImport.choicesForColumn))},runImport(){l.default.import(this.websiteId).post({url:this.selectFile.importUrl,mapping:this.configure.columnsToImport,options:this.configure.options}).then(e=>(this.importing.importId=e.import_id,this.$store.commit("contacts/setImportKey",{key:"mappedColumns",value:this.configure.columns}),this.$store.commit("contacts/setImportKey",{key:"options",value:this.configure.options}),this.$store.commit("contacts/setImportKey",{key:"choicesForColumn",value:this.configure.choicesForColumn}),s.default.logEvent("Contacts import started",{context:"popup"}),Promise.resolve())).catch(e=>{let t=null;switch((e||{}).reason){case"import_busy_ingesting":t="popups_import_contacts_busy_ingesting";break;case"quota_limit_exceeded":t="popups_import_contacts_quota_limit";break}this.onProceedStepProceed(!0,!1,t,(e||{}).reason)})},onClose(){this.$emit("close")},onCloseImport(){this.onProceedStepProceed(!1,!this.importing.loading)},onCreateCustomDataKey(e,t=!0){let i=this.configure.choicesForColumn.find(t=>t.label===e);!i&&g.test(e)?(this.configure.choicesForColumn.push({label:e,value:"data."+e}),t&&a.default.success("popups_import_contacts_data_key_added")):t&&a.default.warning("popups_import_contacts_invalid_data_key")},onImportFileChange(e){e?(this.selectFile.loading=!0,this.selectFile.file.id=Date.now(),this.selectFile.file.files=[e[0]],this.selectFile.selectedFile=e[0],r.default.bucketUrlProcessingGenerate(this.me.user_id,{from:"operator",file:{name:e[0].name||this.$CONFIG.CRISP_FILE_NAME_DEFAULT,type:e[0].type||this.$CONFIG.CRISP_FILE_TYPE_DEFAULT}})):this.selectFile.file.id=null},onNext(){"file"===this.step?this.step="configure":"configure"===this.step&&(this.step="import")},onPeopleImportProgress(e,t,i,o){if(t===this.importing.importId){if(this.importing.progress.lastTick){let e=Date.now()-this.importing.progress.lastTick,t=this.importing.progress.remaining-o.remaining;this.importing.progress.estimated=parseInt(o.remaining/t*e/1e3/60)}this.importing.loading=!0,this.importing.progress.current=o.total-o.remaining-o.skipped,this.importing.progress.remaining=o.remaining,this.importing.progress.skipped=o.skipped,this.importing.progress.percent=i,this.importing.progress.lastTick=Date.now()}},onPeopleImportDone(e,t,i){t===this.importing.importId&&(this.importing.loading=!1,!0===i&&this.onProceedStepProceed(!0))},onProceedStepRead(){try{this.selectFile.loading=!0;let e=(0,o.default)((this.previousImport||{}).columns),t=new FileReader;t.addEventListener("load",i=>{let o=i.target.result,a=-1,n=!1;while(++a<o.length&&a<h&&!1===n)"\n"===o[a]||"\r"===o[a]?n=!0:this.selectFile.firstLine+=o[a];this.selectFile.firstLine=this.selectFile.firstLine.trim(),this.selectFile.firstLine?(this.refreshAutodetectSeparator(),this.refreshAutodetectSkipHeader(),this.refreshColumns(),this.autoDetectFieldsGeneric(),this.autoDetectFieldsCustomData(),t=void 0,this.selectFile.loading=!1,this.$store.commit("contacts/setImportKey",{key:"columns",value:this.configure.columns}),this.restorePreviousConfiguration(e),this.onNext()):this.onProceedStepProceed(!0)}),t.addEventListener("error",()=>{this.onProceedStepProceed(!0)}),t.readAsText(this.selectFile.selectedFile,"UTF-8")}catch(e){this.onProceedStepProceed(!0)}},onProceedStepConfigure(){if(null!==this.selectFile.file){if(this.configure.columnsToImport=this.generateColumnsToImport(),!1===this.checkValidImportColumns(this.configure.columnsToImport))return a.default.warning("popups_import_contacts_invalid_mapping");if(!this.configure.options.column_separator)return a.default.warning("popups_import_contacts_invalid_separator");this.onNext(),this.runImport()}},onProceedStepProceed(e=!1,t=!1,i=null,o=null){this.onClose(),!0===e&&(i?a.default.warning(i):a.default.error(o||"popups_import_contacts_error")),!0===t&&this.$emit("reloadContacts")}}};t.default=x},"1b57":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-profile-card-history{overflow-x:hidden;overflow-y:auto;max-height:400px}.c-profile-card-history .c-profile-card-history__metrics{display:-webkit-box;display:-ms-flexbox;display:flex;background-color:rgba(239,243,246,.2)}.c-profile-card-history .c-profile-card-history__metrics>div{-webkit-box-flex:1;-ms-flex:1;flex:1;border-right:1px solid #e3e8ef;border-bottom:1px solid #e3e8ef}.c-profile-card-history .c-profile-card-history__metrics>div:last-of-type{border-right:none}.c-profile-card-history .c-profile-card-history__pages{overflow-x:hidden;overflow-y:auto;max-height:250px}.c-profile-card-history .c-profile-card-history__more{padding:10px 0;border-top:1px solid #e3e8ef;background-color:#fff;color:#75869c;text-align:center;text-transform:uppercase;font-weight:700;font-size:12px;-webkit-transition:background-color .1s linear;transition:background-color .1s linear;cursor:pointer}.c-profile-card-history .c-profile-card-history__more:hover{background-color:#fafbfc}.c-profile-card-history .c-profile-card-history__more:active{background-color:#f4f6f8}",""]),e.exports=t},"1f23":function(e,t,i){"use strict";i("440c")},"1f75":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("9100")),a=n(i("9829"));function n(e){return e&&e.__esModule?e:{default:e}}var c={methods:{onChatWithProfile(e){o.default.profileConversations(this.websiteId,e,1).get().then(t=>{if(t.length>0)this.$router.push({name:"app.website.inbox.conversation",params:{websiteId:this.websiteId,sessionId:t[0]}}).catch(()=>{});else{let t;a.default.createConversation(this.websiteId).then(i=>{t=i.session_id;let a=this.$store.getters["contacts/getProfile"](e);return a?Promise.resolve(a):o.default.profileOne(this.websiteId,e).get()}).then(e=>{let i={email:e.email};e.person&&e.person.nickname&&(i.nickname=e.person.nickname),a.default.updateMeta(this.websiteId,t,i).then(()=>{this.$router.push({name:"app.website.inbox.conversation",params:{websiteId:this.websiteId,sessionId:t}}).catch(()=>{})})})}})}}};t.default=c},"1fcd":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(i("6a84")),a=c(i("9ee9")),n=c(i("9100"));function c(e){return e&&e.__esModule?e:{default:e}}var r={emits:["close"],data(){return{websiteId:this.$route.params.websiteId,loading:!1}},methods:{onExportContacts(){!0!==this.loading&&(this.loading=!0,n.default.export(this.websiteId).post().then(()=>{o.default.success("contacts_index_profiles_exporting"),this.$emit("close")}).catch(e=>{402===e.status&&a.default.show({pluginName:"User Export",pluginUrn:"urn:crisp.im:user-export:0",plan:"unlimited"}),this.loading=!1}))}}};t.default=r},2002:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-contact-segmentation{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:280px;background-color:#25374f}.c-contact-segmentation .c-contact-segmentation__header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:12px 15px;background-color:#25374f;font-size:15px}.c-contact-segmentation .c-contact-segmentation__header .c-contact-segmentation__icon{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:5px;fill:#a8c6df}.c-contact-segmentation .c-contact-segmentation__header .c-contact-segmentation__input,.c-contact-segmentation .c-contact-segmentation__header .c-contact-segmentation__title{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:10px}.c-contact-segmentation .c-contact-segmentation__header .c-contact-segmentation__title{color:#a8c6df;font-weight:700}.c-contact-segmentation .c-contact-segmentation__header .c-contact-segmentation__input{padding:4px;margin:-4px 0 -6px;outline:0;border:none;background-color:transparent;border-bottom:1px solid hsla(0,0%,100%,.075);color:#fff;font-size:15px;-webkit-transition:all 75ms linear;transition:all 75ms linear;-webkit-transition-property:color,background-color;transition-property:color,background-color;border-radius:0}.c-contact-segmentation .c-contact-segmentation__header .c-contact-segmentation__input:hover{background-color:hsla(0,0%,100%,.025)}.c-contact-segmentation .c-contact-segmentation__header .c-contact-segmentation__input:focus{background-color:hsla(0,0%,100%,.05);color:#fff}.c-contact-segmentation .c-contact-segmentation__filters{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-contact-segmentation .c-contact-segmentation__filters .c-contact-segmentation__filter{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:8px 30px 8px;cursor:pointer;background-color:#2c405a;border-top:1px solid #25374f;-webkit-transition:color .15s linear;transition:color .15s linear}.c-contact-segmentation .c-contact-segmentation__filters .c-contact-segmentation__filter .c-contact-segmentation__label{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#a8c6df;font-size:14px}.c-contact-segmentation .c-contact-segmentation__filters .c-contact-segmentation__filter:hover{background-color:rgba(44,64,90,.95)}.c-contact-segmentation .c-contact-segmentation__filters .c-contact-segmentation__filter:hover .c-contact-segmentation__label{color:#fff}.c-contact-segmentation .c-contact-segmentation__filters .c-contact-segmentation__filter:active{background-color:rgba(44,64,90,.9)}.c-contact-segmentation .c-contact-segmentation__box{width:100%;overflow:hidden}.c-contact-segmentation .c-contact-segmentation__box--expended{height:100%}.c-contact-segmentation .c-contact-segmentation__controls{z-index:30;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-top-width:1px;border-top-style:solid;border-top-color:#3f536e;background-color:#2c405a;text-align:center}.c-contact-segmentation .c-contact-segmentation__controls .c-contact-segmentation__button{margin:0 15px;margin-bottom:10px}.c-contact-segmentation .c-contact-segmentation__controls .c-contact-segmentation__button:first-of-type{margin-top:15px}.c-contact-segmentation .c-contact-segmentation__controls .c-contact-segmentation__button:last-of-type{margin-bottom:15px}",""]),e.exports=t},"20ec":function(e,t,i){"use strict";i("efbb")},"22dc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i("5afd"),a=i("e11e"),n=s(i("5cb1")),c=s(i("b281")),r=s(i("aa17")),l=s(i("8232"));function s(e){return e&&e.__esModule?e:{default:e}}var d={components:{LIcon:o.LIcon,LMap:o.LMap,LMarker:o.LMarker,LTileLayer:o.LTileLayer,SocialProfiles:n.default,MagicMapMarker:c.default,ProfileItemSpinner:r.default},mixins:[l.default],props:{active:{type:Object,default:null},avatar:{type:String,default:null},description:{type:String,default:null},geolocation:{type:Object,default:null},loading:{type:Boolean,default:!1},nickname:{type:String,default:null},socialProfiles:{type:Array,default:null}},emits:["chat"],data(){return{options:{attributionControl:!1,zoomControl:!1},icon:(0,a.icon)({iconUrl:"default"}),actionLoading:!1}},computed:{profileDescription(){let e=this.description;return e=this.$filters.format.cutText(e,180),e=this.$filters.format.parseText(e),e=this.$filters.format.parseTwitter(e),e},coordinates(){if(this.geolocation&&this.geolocation.coordinates){const e=this.geolocation.coordinates.latitude,t=this.geolocation.coordinates.longitude;return[e,t]}},centerOffsetCoordinates(){return this.coordinates?[this.coordinates[0]-.1,this.coordinates[1]-2]:[-.1,-2]}},methods:{onChatWithProfile(){!0!==this.actionLoading&&(this.actionLoading=!0,this.$emit("chat"))}}};t.default=d},2449:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'.c-profile-item-map{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border:1px solid rgba(168,198,223,.5);-webkit-box-shadow:0 3px 4px 0 rgba(117,134,156,.1);box-shadow:0 3px 4px 0 rgba(117,134,156,.1);color:#3f536e}.c-profile-item-map,.c-profile-item-map .c-profile-item-map__loaded,.c-profile-item-map .c-profile-item-map__loading{background-color:#fff}.c-profile-item-map .c-profile-item-map__loading{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:20px 20px 14px}.c-profile-item-map .c-profile-item-map__loading .c-profile-item-map__spinner{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-profile-item-map .c-profile-item-map__loaded{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__map{position:relative;overflow:hidden;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin:-1px -1px -40px -1px;width:calc(100% + 2px);height:130px;pointer-events:none}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__map .c-profile-item-map__map-inner{width:100%;height:100%}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__map .c-profile-item-map__map-inner .c-profile-item-map__leaflet .leaflet-pane .leaflet-marker-icon{pointer-events:none;cursor:default}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__map .c-profile-item-map__map-inner .c-profile-item-map__leaflet .leaflet-pane .leaflet-overlay-pane{margin-top:-50000px;margin-left:-50000px;width:calc(100000px + 100%);height:calc(100000px + 100%);background-color:rgba(0,112,206,.7)}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__map:after{content:"";background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(35,56,77,0)),to(rgba(35,56,77,.2)));background-image:linear-gradient(-180deg,rgba(35,56,77,0),rgba(35,56,77,.2));position:absolute;top:0;bottom:0;left:0;right:0;z-index:1}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__avatar{z-index:400;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-bottom:10px}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__avatar .c-base-avatar__picture{-webkit-box-shadow:0 1px 4px rgba(0,0,0,.1);box-shadow:0 1px 4px rgba(0,0,0,.1)}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;padding:0 15px 20px 15px;max-width:300px;color:#75869c;text-align:center;font-size:13px}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__nickname{color:#2c405a;font-weight:900;font-size:20px;line-height:26px}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__action{margin-top:12px}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__activity{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;font-weight:700}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__activity .c-profile-item-map__value{margin-left:2px}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__activity--online{color:#40b630}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__activity--offline{color:#75869c}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__description{margin-top:20px;color:#75869c;font-size:12.5px;line-height:14px;text-align:center}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__description a:hover{text-decoration:underline}.c-profile-item-map .c-profile-item-map__loaded .c-profile-item-map__details .c-profile-item-map__social-profiles{margin-top:15px}',""]),e.exports=t},2703:function(e,t,i){"use strict";i.r(t);var o=i("1fcd"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"2dd8":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-profile-card-conversations{overflow-x:hidden;overflow-y:auto;max-height:400px}.c-profile-card-conversations .c-profile-card-conversations__conversation:last-of-type{border-bottom:none}",""]),e.exports=t},"2f12":function(e,t,i){"use strict";i("895c")},"31dd":function(e,t,i){"use strict";var o=i("7c84");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},3617:function(e,t,i){"use strict";i.r(t);var o=i("9f53"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"36a2":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'.c-profile-box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-profile-box .c-profile-box__banner{line-height:20px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-bottom:26px;border-radius:2px;-webkit-animation:fadeIn .15s linear;animation:fadeIn .15s linear}.c-profile-box .c-profile-box__cards{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-wrap:wrap;flex-wrap:wrap}.c-profile-box .c-profile-box__cards .c-profile-box__main{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-profile-box .c-profile-box__cards .c-profile-box__main .c-profile-box__card{border-bottom:none}.c-profile-box .c-profile-box__cards .c-profile-box__main .c-profile-box__card .c-profile-box__segments{font-style:normal;margin:20px;width:338px}.c-profile-box .c-profile-box__cards .c-profile-box__main .c-profile-box__card:last-of-type{border-bottom:1px solid rgba(168,198,223,.6)}.c-profile-box .c-profile-box__cards .c-profile-box__main .c-profile-box__card-profile .c-profile-card-default__loaded{max-height:450px}.c-profile-box .c-profile-box__cards .c-profile-box__secondary{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-left:44px}.c-profile-box .c-profile-box__cards .c-profile-box__secondary .c-profile-box__column .c-profile-box__card{margin-bottom:22px}.c-profile-box--sidebar .c-profile-box__cards{overflow-x:hidden;overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1}.c-profile-box--sidebar .c-profile-box__cards .c-profile-box__main:after{content:"";height:16px;display:block}.c-profile-box--sidebar .c-profile-box__actions{background-color:#fafbfc;border-top:1px solid #e3e8ef;padding:6px 8px;text-align:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-profile-box--sidebar .c-profile-box__actions .c-profile-box__action{margin:2px 3px}@media (max-width:67.5em){.c-profile-box .c-profile-box__cards{display:block}.c-profile-box .c-profile-box__cards .c-profile-box__main .c-profile-box__card{border-bottom:none}.c-profile-box .c-profile-box__cards .c-profile-box__main .c-profile-box__card .c-profile-box__segments{margin-left:16px;width:calc(100% - 32px)}.c-profile-box .c-profile-box__cards .c-profile-box__main .c-profile-box__card:last-of-type{margin-bottom:20px}.c-profile-box .c-profile-box__cards .c-profile-box__secondary{margin-left:0}}@media (min-width:100em){.c-profile-box .c-profile-box__secondary{display:-webkit-box;display:-ms-flexbox;display:flex}.c-profile-box .c-profile-box__secondary .c-profile-box__column{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-profile-box .c-profile-box__secondary .c-profile-box__column:first-of-type{margin-right:40px}}',""]),e.exports=t},"36df":function(e,t,i){"use strict";var o=i("0d94");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"36f4":function(e,t,i){"use strict";var o=i("7865");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"39a6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var o=i("7a23");function a(e,t,i,a,n,c){const r=(0,o.resolveComponent)("field-input"),l=(0,o.resolveComponent)("base-button"),s=(0,o.resolveComponent)("base-popup"),d=(0,o.resolveComponent)("validation-observer");return(0,o.openBlock)(),(0,o.createBlock)(d,{as:""},{default:(0,o.withCtx)(({meta:i})=>[(0,o.createVNode)(s,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>c.onCreateCustomKey(!i.valid),parent:"contacts",overflow:"visible"},{actions:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,o.createVNode)(l,{onClick:e=>c.onCreateCustomKey(!i.valid),disabled:!i.valid,"left-icon":"add_circle"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_POPUP_CUSTOM_DATA_PROCEED")),1)]),_:2},1032,["onClick","disabled"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(r,{class:"u-mb20",modelValue:n.customKey,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customKey=e),label:e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_POPUP_CUSTOM_DATA_LABEL"),placeholder:e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_POPUP_CUSTOM_DATA_PLACEHOLDER"),suggestions:c.suggestions,name:"custom_key",rules:"required|max:100",size:"medium","suggestion-type":"data",autofocus:"",autocompletion:""},null,8,["modelValue","label","placeholder","suggestions"])]),_:2},1032,["onEnter"])]),_:1})}},"3b4a":function(e,t,i){"use strict";var o=i("0459");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"3c37":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-import-contacts .c-base-popup__content{max-height:600px!important}.c-import-contacts .c-import-contacts__headlines{margin:0 120px 20px;width:580px}.c-import-contacts .c-import-contacts__select-file{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:40px 0 40px}.c-import-contacts .c-import-contacts__select-file .c-import-contacts__illustration{float:left;height:180px;width:200px;margin-right:70px}.c-import-contacts .c-import-contacts__select-file .c-import-contacts__upload-field{width:280px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.c-import-contacts .c-import-contacts__configure{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:30px}.c-import-contacts .c-import-contacts__configure .c-import-contacts__options{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:20px;width:200px;text-align:left}.c-import-contacts .c-import-contacts__configure .c-import-contacts__options .c-import-contacts__item,.c-import-contacts .c-import-contacts__configure .c-import-contacts__options .c-import-contacts__title{border-bottom:1px solid #e3e8ef}.c-import-contacts .c-import-contacts__configure .c-import-contacts__options .c-import-contacts__title{padding-bottom:4px;color:#2c405a;font-weight:700;font-size:16px;line-height:30px}.c-import-contacts .c-import-contacts__configure .c-import-contacts__options .c-import-contacts__item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 0}.c-import-contacts .c-import-contacts__configure .c-import-contacts__options .c-import-contacts__item .c-import-contacts__key{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:140px;font-weight:700;font-size:14px}.c-import-contacts .c-import-contacts__configure .c-import-contacts__options .c-import-contacts__item .c-import-contacts__value{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-import-contacts .c-import-contacts__configure .c-import-contacts__options .c-import-contacts__custom-data{margin:20px 0}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping{overflow:auto;-webkit-box-flex:1;-ms-flex:1;flex:1;margin-left:40px;margin-bottom:10px;height:350px;border:1px solid #e3e8ef;text-align:left;background-color:#fafbfc;border-radius:2px}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;border-bottom:1px solid #e3e8ef;-webkit-transition:background-color border-left .1s linear;transition:background-color border-left .1s linear;border-left:2px solid transparent}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column:last-of-type{border-bottom:none}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column .c-import-contacts__index{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:20px;font-weight:700;font-size:14px}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column .c-import-contacts__value{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:13px;margin-right:20px}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column .c-import-contacts__maps-to{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#75869c;font-size:13px;margin-right:20px;font-style:italic}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column .c-import-contacts__choices{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:200px}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column--selected{background-color:#fff;border-left:2px solid #40b630}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column--selected .c-import-contacts__choices .c-field-select__field,.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column--selected .c-import-contacts__index,.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column--selected .c-import-contacts__value{opacity:.3}.c-import-contacts .c-import-contacts__configure .c-import-contacts__mapping .c-import-contacts__column--selected .c-import-contacts__maps-to{opacity:.65}.c-import-contacts .c-import-contacts__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.c-import-contacts .c-import-contacts__actions--spaced{margin-top:12px}.c-import-contacts .c-import-contacts__actions .c-import-contacts__action{min-width:250px;margin:0 auto}.c-import-contacts .c-import-contacts__actions .c-import-contacts__help{margin-top:10px;color:#75869c;font-size:14px}",""]),e.exports=t},4023:function(e,t,i){var o=i("2002");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("9bd4f93c",o,!0,{sourceMap:!1,shadowMode:!1})},"40e8":function(e,t,i){"use strict";i("d7b0")},"42a9":function(e,t,i){"use strict";var o=i("498e");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"440c":function(e,t,i){var o=i("c104");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("d4c580b2",o,!0,{sourceMap:!1,shadowMode:!1})},4522:function(e,t,i){"use strict";i.r(t);var o=i("b475"),a=i("5b30");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);a["default"].render=o["render"],t["default"]=a["default"]},"463b":function(e,t,i){"use strict";var o=i("6ce6");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"498e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=u;var o=i("7a23");const a=["id","index"],n=["onClick"],c={class:"c-profile-card-campaigns__campaign-title u-ellipsis"},r=(0,o.createElementVNode)("div",{class:"c-profile-card-campaigns__campaign-divider"},null,-1),l={class:"c-profile-card-campaigns__campaign-statistics"},s=(0,o.createElementVNode)("span",{class:"c-profile-card-campaigns__campaign-statistic-dot"},null,-1),d={class:"c-profile-card-campaigns__campaign-timestamp"},p={class:"c-profile-card-campaigns__campaign-tooltip u-has-tooltip"},m=(0,o.createElementVNode)("div",null,null,-1),f=(0,o.createElementVNode)("div",null,null,-1);function u(e,t,i,u,_,b){const g=(0,o.resolveComponent)("base-icon"),h=(0,o.resolveComponent)("base-tooltip"),x=(0,o.resolveComponent)("base-spinner"),v=(0,o.resolveComponent)("vue-infinite-loading"),C=(0,o.resolveComponent)("profile-card-default");return(0,o.openBlock)(),(0,o.createBlock)(C,{class:"c-profile-box__card c-profile-card-campaigns","website-id":i.websiteId,"people-id":i.peopleId,title:e.$t("CONTACTS.PROFILE.BOXES.CAMPAIGNS.NAME")+" "+i.firstName,help:e.$t("TOOLTIPS.CONTACTS_PROFILE_CAMPAIGNS"),"empty-string":e.$t("CONTACTS.PROFILE.BOXES.CAMPAIGNS.EMPTY"),loading:!b.campaigns,id:"campaigns"},(0,o.createSlots)({_:2},[b.campaigns&&b.campaigns.length>0?{name:"items",fn:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(b.campaigns,(i,m)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"c-profile-card-campaigns__campaign",id:i.campaign_id,key:i.campaign_id+"_"+m,index:m},[(0,o.createElementVNode)("div",{class:"c-profile-card-campaigns__campaign-wrapper",onClick:e=>b.onCampaignClick(i.campaign_id)},[(0,o.createElementVNode)("span",c,(0,o.toDisplayString)(i.name),1),r,(0,o.createElementVNode)("div",l,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.statistics,(t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["c-profile-card-campaigns__campaign-statistic","c-profile-card-campaigns__campaign-statistic--"+b.finalStatistic(t)])},[s,(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.PROFILE.BOXES.CAMPAIGNS.STATE_"+b.finalStatistic(t).toUpperCase())),1)],2))),256))])],8,n),(0,o.createElementVNode)("span",d,(0,o.toDisplayString)(e.$filters.date.monthYearFromTimestamp(i.occurred_at,"full",!0)),1),(0,o.createElementVNode)("span",p,[(0,o.createVNode)(g,{class:"c-profile-card-campaigns__campaign-icon",onClick:e=>b.onCampaignClick(i.campaign_id),cursor:"pointer",name:"chevron_right",size:"20px"},null,8,["onClick"]),t[0]||((0,o.setBlockTracking)(-1),t[0]=(0,o.createVNode)(h,{align:"left",direction:"middle"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("TOOLTIPS.PROFILE_CAMPAIGN_OPEN")),1)]),_:1}),(0,o.setBlockTracking)(1),t[0])])],8,a))),128)),_.page>=1?((0,o.openBlock)(),(0,o.createBlock)(v,{key:0,onInfinite:b.onLoadMoreCampaigns},{spinner:(0,o.withCtx)(()=>[(0,o.createVNode)(x,{class:"c-profile-card-campaigns__spinner",size:"14px","border-width":"2px",speed:"1000ms"})]),"no-more":(0,o.withCtx)(()=>[m]),"no-results":(0,o.withCtx)(()=>[f]),_:1},8,["onInfinite"])):(0,o.createCommentVNode)("",!0)])}:void 0]),1032,["website-id","people-id","title","help","empty-string","loading"])}},"49bc":function(e,t,i){"use strict";i.r(t);var o=i("d80f"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"49e2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var o=i("7a23");function a(e,t,i,a,n,c){const r=(0,o.resolveComponent)("base-headlines"),l=(0,o.resolveComponent)("base-button"),s=(0,o.resolveComponent)("base-popup");return(0,o.openBlock)(),(0,o.createBlock)(s,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:c.onRemoveSelectedContacts,parent:"contacts"},{actions:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,o.createVNode)(l,{onClick:c.onRemoveSelectedContacts,loading:n.loading,color:"red","left-icon":"delete"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.POPUPS_REMOVE_CONTACTS_PROCEED")),1)]),_:1},8,["onClick","loading"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(r,{title:e.$t("CONTACTS.DEFAULT.POPUPS_REMOVE_CONTACTS_TITLE"),description:e.$t("CONTACTS.DEFAULT.POPUPS_REMOVE_CONTACTS_NOTICE")},null,8,["title","description"])]),_:1},8,["onEnter"])}},"4d1d":function(e,t,i){"use strict";i.r(t);var o=i("b6ca"),a=i("605a");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("7f6c");a["default"].render=o["render"],t["default"]=a["default"]},"4e45":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("b919"));function a(e){return e&&e.__esModule?e:{default:e}}var n={mixins:[o.default],props:{active:{type:Boolean,default:!1},contact:{type:Object,required:!0},fields:{type:Object,required:!0},index:{type:Number,required:!0},opened:{type:Boolean,default:!1},websiteId:{type:String,required:!0}},emits:["checked","preview"],data(){return{maxTags:4,actionLoading:!1}},computed:{displayedSegments(){return this.contact.segments.filter(e=>""!==e).slice(0,this.maxTags)},geolocation(){return this.contact.person&&this.contact.person.geolocation&&this.contact.person.geolocation.country?{country:this.contact.person.geolocation.country,city:this.contact.person.geolocation.city}:this.contact.company&&this.contact.company.geolocation&&this.contact.company.geolocation.country?{country:this.contact.company.geolocation.country,city:this.contact.company.geolocation.city}:{}}},methods:{onCheckboxChange(e,t){this.$emit("checked",e,t)},onGoToProfile(){this.$router.push({name:"app.website.contacts.profile",params:{websiteId:this.websiteId,peopleId:this.contact.people_id}}).catch(()=>{})}}};t.default=n},"4ea7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var o=i("7a23");function a(e,t,i,a,n,c){const r=(0,o.resolveComponent)("base-headlines"),l=(0,o.resolveComponent)("base-button"),s=(0,o.resolveComponent)("base-popup");return(0,o.openBlock)(),(0,o.createBlock)(s,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:t[3]||(t[3]=e=>c.onUpgrade()),parent:i.parent},{actions:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,o.createVNode)(l,{onClick:t[1]||(t[1]=e=>c.onUpgrade()),loading:n.isLoading,color:"orange","right-icon":"chevron_right"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(i.actionLabel),1)]),_:1},8,["loading"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(r,{class:"u-mb20",title:c.preferredTitle,description:c.descriptionHtml,"is-description-html":i.formatDescriptionText,emphasis:""},null,8,["title","description","is-description-html"])]),_:1},8,["parent"])}},"4eea":function(e,t,i){"use strict";i.r(t);var o=i("aaee"),a=i("f477");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("038f");a["default"].render=o["render"],t["default"]=a["default"]},"4f4b":function(e,t,i){"use strict";var o=i("4ea7");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"503e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{websiteId:{type:String,required:!0}},emits:["close","create"],data(){return{customKey:""}},computed:{suggestions(){return this.$store.getters["data/getKeys"](this.websiteId,"people")}},mounted(){this.acquireDataKeys()},methods:{onCreateCustomKey(e=!1){!0!==e&&(this.$emit("create",this.customKey),this.$emit("close"))},acquireDataKeys(){this.$store.dispatch("data/acquireKeys",{websiteId:this.websiteId,type:"people"})}}};t.default=o},"50f5":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'.c-common-table{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;overflow-x:auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.c-common-table .c-common-table__loading{position:absolute;top:40px;right:0;bottom:0;left:0;z-index:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#fff}.c-common-table .c-common-table__thead{z-index:10;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-bottom:-42px;height:42px;background-color:rgba(250,251,252,.975);text-align:left;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.c-common-table .c-common-table__thead .c-common-table__tr .c-common-table__th{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#75869c;text-transform:uppercase;font-weight:700;font-size:12px;line-height:21px}.c-common-table .c-common-table__thead .c-common-table__tr .c-common-table__th .c-common-table__sort{visibility:hidden;margin-right:-20px;margin-left:6px;margin-top:-2px;fill:#2c405a;-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear;-webkit-transform:rotate(0deg);transform:rotate(0deg)}.c-common-table .c-common-table__thead .c-common-table__tr .c-common-table__th .c-common-table__sort--ascending{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.c-common-table .c-common-table__thead .c-common-table__tr .c-common-table__th--center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.c-common-table .c-common-table__thead .c-common-table__tr .c-common-table__th--left{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.c-common-table .c-common-table__thead .c-common-table__tr .c-common-table__th--right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.c-common-table .c-common-table__thead .c-common-table__tr .c-common-table__th--sortable:hover{color:#2c405a;-webkit-transition:color .1s linear;transition:color .1s linear;cursor:pointer}.c-common-table .c-common-table__thead .c-common-table__tr .c-common-table__th--sortable:hover .c-common-table__sort{visibility:visible}.c-common-table .c-common-table__empty,.c-common-table .c-common-table__tbody{background-color:#fff}.c-common-table .c-common-table__tbody{overflow-x:hidden;overflow-y:auto;-webkit-box-flex:1;-ms-flex:1;flex:1;padding-top:42px}.c-common-table .c-common-table__tbody:after{content:"";height:34px;display:block}.c-common-table .c-common-table__tbody .c-common-table__section{height:56px;border-bottom:1px solid #e3e8ef;background-color:#f7f8fa;font-weight:700;font-size:12px;line-height:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.c-common-table .c-common-table__tbody .c-common-table__recycle-scroller{min-height:100%}.c-common-table .c-common-table__tbody .c-common-table__recycle-scroller .vue-recycle-scroller__item-view:nth-of-type(odd){background-color:#fff}.c-common-table .c-common-table__tbody .c-common-table__recycle-scroller .vue-recycle-scroller__item-view:nth-of-type(2n){background-color:#fdfefe}.c-common-table .c-common-table__tbody .c-common-table__recycle-scroller .vue-recycle-scroller__item-view.hover{z-index:1}.c-common-table .c-common-table__empty{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}',""]),e.exports=t},"531a":function(e,t,i){"use strict";i.r(t);var o=i("eed8"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"576a":function(e,t,i){"use strict";i("0c3c")},"5b30":function(e,t,i){"use strict";i.r(t);var o=i("503e"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"5cc0":function(e,t,i){"use strict";i.r(t);var o=i("3b4a"),a=i("2703");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);a["default"].render=o["render"],t["default"]=a["default"]},"5d9b":function(e,t,i){"use strict";i.r(t);var o=i("4e45"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"5e58":function(e,t,i){"use strict";i("0698")},"605a":function(e,t,i){"use strict";i.r(t);var o=i("dddf"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},6139:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={emits:["close","update"],data(){return{loading:!1}},methods:{onUpdate(){!0!==this.loading&&(this.loading=!0,this.$emit("update",null,()=>{this.loading=!1}))}}};t.default=o},6162:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=C;var o=i("7a23");const a={class:"c-import-contacts__select-file"},n={class:"c-import-contacts__actions"},c={class:"c-import-contacts__help"},r={class:"c-import-contacts__configure"},l={class:"c-import-contacts__options"},s={class:"c-import-contacts__title"},d={class:"c-import-contacts__item"},p={class:"c-import-contacts__key"},m={class:"c-import-contacts__item"},f={class:"c-import-contacts__key"},u={class:"c-import-contacts__mapping"},_={class:"c-import-contacts__index"},b={class:"c-import-contacts__value u-ellipsis"},g={class:"c-import-contacts__maps-to"},h={class:"c-import-contacts__actions"},x={class:"c-import-contacts__actions c-import-contacts__actions--spaced"},v={key:0,class:"c-import-contacts__help"};function C(e,t,i,C,k,y){const T=(0,o.resolveComponent)("quick-tour"),w=(0,o.resolveComponent)("base-headlines"),O=(0,o.resolveComponent)("base-illustration"),E=(0,o.resolveComponent)("field-file"),N=(0,o.resolveComponent)("base-button"),S=(0,o.resolveComponent)("base-popup"),P=(0,o.resolveComponent)("field-input"),I=(0,o.resolveComponent)("field-toggle"),A=(0,o.resolveComponent)("base-icon"),R=(0,o.resolveComponent)("field-select"),L=(0,o.resolveComponent)("create-custom-data-key"),B=(0,o.resolveComponent)("base-progress");return"file"===k.step?((0,o.openBlock)(),(0,o.createBlock)(S,{key:0,class:"c-import-contacts",onClose:y.onClose,parent:"contacts",title:e.$t("POPUPS.IMPORT_CONTACTS.TITLE"),"min-height":"450px",alignment:"center"},{quickTour:(0,o.withCtx)(()=>[(0,o.createVNode)(T,{active:k.step,steps:k.steps},null,8,["active","steps"])]),actions:(0,o.withCtx)(()=>[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(N,{class:"c-import-contacts__action",onClick:y.onProceedStepRead,disabled:!k.selectFile.file.id||k.selectFile.loading,"right-icon":"chevron_right",size:"medium"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.UPLOAD_PROCEED")),1)]),_:1},8,["onClick","disabled"]),(0,o.createElementVNode)("span",c,(0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.UPLOAD_FORM_LABEL")),1)])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(w,{class:"c-import-contacts__headlines",title:e.$t("POPUPS.IMPORT_CONTACTS.UPLOAD_TITLE"),description:e.$t("POPUPS.IMPORT_CONTACTS.UPLOAD_LABEL"),size:"big",alignment:"center"},null,8,["title","description"]),(0,o.createElementVNode)("div",a,[(0,o.createVNode)(O,{class:"c-import-contacts__illustration",name:"import_users"}),(0,o.createVNode)(E,{class:"c-import-contacts__upload-field",onChange:y.onImportFileChange,accept:e.$CONFIG.CRISP_UPLOAD_MIMES.PROCESSING,"bucket-generated":y.onBucketGenerated,loading:k.selectFile.loading,name:"import_upload_file",size:"large",type:"processing",block:""},null,8,["onChange","accept","bucket-generated","loading"])])]),_:1},8,["onClose","title"])):"configure"===k.step?((0,o.openBlock)(),(0,o.createBlock)(S,{key:1,class:"c-import-contacts",onClose:y.onClose,title:e.$t("POPUPS.IMPORT_CONTACTS.TITLE"),alignment:"center"},{quickTour:(0,o.withCtx)(()=>[(0,o.createVNode)(T,{active:k.step,steps:k.steps},null,8,["active","steps"])]),actions:(0,o.withCtx)(()=>[(0,o.createElementVNode)("div",h,[(0,o.createVNode)(N,{class:"c-import-contacts__action",onClick:y.onProceedStepConfigure,"right-icon":"chevron_right",size:"medium"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_PROCEED")),1)]),_:1},8,["onClick"])])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(w,{class:"c-import-contacts__headlines",title:e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_TITLE"),description:e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_LABEL"),alignment:"center"},null,8,["title","description"]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("span",s,(0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_OPTIONS_TITLE")),1),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("span",p,(0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_OPTIONS_COLUMN_SEPARATOR")),1),(0,o.createVNode)(P,{class:"c-import-contacts__input",modelValue:k.configure.options.column_separator,"onUpdate:modelValue":t[0]||(t[0]=e=>k.configure.options.column_separator=e),name:"separator",size:"mini"},null,8,["modelValue"])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("span",f,(0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_OPTIONS_SKIP_HEADER")),1),(0,o.createVNode)(I,{class:"c-import-contacts__input",modelValue:k.configure.options.skip_header,"onUpdate:modelValue":t[1]||(t[1]=e=>k.configure.options.skip_header=e),name:"separator"},null,8,["modelValue"])]),(0,o.createVNode)(N,{class:"c-import-contacts__custom-data",onClick:t[2]||(t[2]=e=>k.configure.showCustomKeyPopup=!0),color:"black","left-icon":"add_circle",size:"small"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_POPUP_CUSTOM_DATA_PROCEED")),1)]),_:1})]),(0,o.createElementVNode)("div",u,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(k.configure.columns,(t,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.column,class:(0,o.normalizeClass)(["c-import-contacts__column",{"c-import-contacts__column--selected":t.field}])},[(0,o.createElementVNode)("span",_,(0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_COLUMN"))+" "+(0,o.toDisplayString)(t.column),1),(0,o.createVNode)(A,{name:"chevron_right",color:"#DEE4ED"}),(0,o.createElementVNode)("span",b,(0,o.toDisplayString)(t.value),1),(0,o.createElementVNode)("span",g,(0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.CONFIGURE_MAPPING_LABEL")),1),(0,o.createVNode)(R,{class:"c-import-contacts__choices",modelValue:t.field,"onUpdate:modelValue":e=>t.field=e,options:k.configure.choicesForColumn,position:i<4?"bottom":"top",name:"choices"},null,8,["modelValue","onUpdate:modelValue","options","position"])],2))),128))])]),k.configure.showCustomKeyPopup?((0,o.openBlock)(),(0,o.createBlock)(L,{key:0,onClose:t[3]||(t[3]=e=>k.configure.showCustomKeyPopup=!1),onCreate:y.onCreateCustomDataKey,"website-id":k.websiteId},null,8,["onCreate","website-id"])):(0,o.createCommentVNode)("",!0)]),_:1},8,["onClose","title"])):"import"===k.step?((0,o.openBlock)(),(0,o.createBlock)(S,{key:2,class:"c-import-contacts",onClose:y.onCloseImport,padding:"28px 58px",title:e.$t("POPUPS.IMPORT_CONTACTS.TITLE"),alignment:"center"},{quickTour:(0,o.withCtx)(()=>[(0,o.createVNode)(T,{active:k.step,steps:k.steps},null,8,["active","steps"])]),actions:(0,o.withCtx)(()=>[(0,o.createElementVNode)("div",x,[(0,o.createVNode)(N,{class:"c-import-contacts__action",onClick:t[4]||(t[4]=e=>y.onProceedStepProceed(!1,!0)),loading:k.importing.loading,color:"green",size:"medium"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.PROCEED_CLOSE")),1)]),_:1},8,["loading"]),k.importing.loading?((0,o.openBlock)(),(0,o.createElementBlock)("span",v,(0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.PROCEED_HELP")),1)):(0,o.createCommentVNode)("",!0)])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(w,{class:"u-mb20",title:k.importing.loading?e.$t("POPUPS.IMPORT_CONTACTS.PROCEED_TEXT_TITLE_PENDING"):e.$t("POPUPS.IMPORT_CONTACTS.PROCEED_TEXT_TITLE_DONE"),description:y.descriptionForImport,illustration:"users_selected",alignment:"center"},null,8,["title","description"]),(0,o.createVNode)(B,{color:k.importing.loading?"blue":"green",progress:k.importing.progress.percent},null,8,["color","progress"])]),_:1},8,["onClose","title"])):(0,o.createCommentVNode)("",!0)}},"61b0":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-profile-card-device{padding:0 15px;font-size:14px}.c-profile-card-device .c-profile-card-device__header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 0;min-height:46px}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__actions{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__headlines{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:180px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__headlines .c-profile-card-device__title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding-right:20px;font-weight:700;color:#1c293b}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__headlines .c-profile-card-device__title .c-profile-card-device__icon{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:10px;fill:#3f536e}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__headlines .c-profile-card-device__subtitle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-top:1px;color:#75869c}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__headlines .c-profile-card-device__subtitle .c-profile-card-device__icon{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:6px}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__headlines .c-profile-card-device__subtitle .c-base-tooltip[data-align=left]{margin-left:-4px;margin-bottom:2px}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__headlines .c-profile-card-device__subtitle .c-base-tooltip[data-align=left]:after{margin-left:7px}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__availability{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding-left:20px;height:24px;border-left:1px solid #e3e8ef;text-transform:lowercase;font-size:13px;font-weight:700}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__availability .c-profile-card-device__dot{margin-right:4px}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__availability--away{color:#fd7b1f}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__availability--offline{color:#75869c}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__availability--online{color:#4ece3d}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__availability--blocked{color:#e0102b}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__availability--blocked .c-profile-card-device__dot{fill:#e0102b}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__actions .c-profile-card-device__action{display:-webkit-box;display:-ms-flexbox;display:flex;margin-right:10px}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__actions .c-profile-card-device__action:last-of-type{margin-right:0}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__actions .c-profile-card-device__action .c-base-tooltip[data-align=right]{margin-right:-5px}.c-profile-card-device .c-profile-card-device__header .c-profile-card-device__actions .c-profile-card-device__action .c-base-tooltip[data-align=right]:after{margin-right:18px}.c-profile-card-device .c-profile-card-device__details{padding-bottom:14px;color:#3f536e}.c-profile-card-device .c-profile-card-device__details .c-profile-card-device__detail{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:9px;padding-bottom:8px;padding-left:10px;border-left:2px solid #75869c}.c-profile-card-device .c-profile-card-device__details .c-profile-card-device__detail .c-profile-card-device__label{margin-right:10px;font-weight:700}.c-profile-card-device .c-profile-card-device__details .c-profile-card-device__detail:last-of-type{padding-bottom:0}.c-profile-card-device--blue{color:#0093ee}.c-profile-card-device--blue .c-profile-card-device__icon{fill:#0093ee}.c-profile-card-device--blue .c-profile-card-device__details .c-profile-card-device__detail{border-color:#0093ee}.c-profile-card-device--green{color:#40b630}.c-profile-card-device--green .c-profile-card-device__icon{fill:#40b630}.c-profile-card-device--green .c-profile-card-device__details .c-profile-card-device__detail{border-color:#40b630}.c-profile-card-device--purple{color:#ab7df6}.c-profile-card-device--purple .c-profile-card-device__icon{fill:#ab7df6}.c-profile-card-device--purple .c-profile-card-device__details .c-profile-card-device__detail{border-color:#ab7df6}.c-profile-card-device--red{color:#e0102b}.c-profile-card-device--red .c-profile-card-device__icon{fill:#e0102b}.c-profile-card-device--red .c-profile-card-device__details .c-profile-card-device__detail{border-color:#e0102b}",""]),e.exports=t},"661a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{descriptionText:{type:String,required:!0},actionLabel:{type:String,required:!0},title:{type:String,default:null},parent:{type:String,default:null},formatDescriptionText:{type:Boolean,default:!0}},emits:["close","upgrade"],data(){return{isLoading:!1}},computed:{preferredTitle(){return this.title?this.title:this.$t("POPUPS.LIMIT_REACHED.UPGRADE_TITLE")},descriptionHtml(){return!0===this.formatDescriptionText?this.$filters.format.parseText(this.descriptionText):this.descriptionText}},methods:{onUpgrade(){!0!==this.isLoading&&(this.isLoading=!0,this.$emit("upgrade",()=>{this.isLoading=!1}))}}};t.default=o},"679f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{availability:{type:String,default:null},active:{type:Boolean,default:!1},blocked:{type:Boolean,default:!1},browser:{type:String,default:null},os:{type:String,default:null},ip:{type:String,default:null},color:{type:String,default:"white"},index:{type:Number,default:-1},websiteId:{type:String,required:!0},sessionId:{type:String,required:!0}},computed:{availabilityState(){return this.blocked?"blocked":"online"===this.availability?!0===this.active?"online":"away":"offline"},availabilityColor(){switch(this.availabilityState){case"away":return"orange";case"online":return"green";case"blocked":return"red";default:return"grey"}},hasMagicBrowse(){return"online"===this.availabilityState||"away"===this.availabilityState},title(){return`${this.browser} ${this.$t("CONTACTS.PROFILE.BOXES.DEVICES.ON")} ${this.os}`},subtitle(){return this.ip}},methods:{onMagicBrowse(){this.$router.push({name:"app.website.visitors.browsing",params:{websiteId:this.websiteId,sessionId:this.sessionId}}).catch(()=>{})}}};t.default=o},"6b21":function(e,t,i){"use strict";var o=i("a8fc");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"6c5a":function(e,t,i){var o=i("79ae");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("9080023e",o,!0,{sourceMap:!1,shadowMode:!1})},"6ce6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var o=i("7a23");function a(e,t,i,a,n,c){const r=(0,o.resolveComponent)("base-headlines"),l=(0,o.resolveComponent)("base-button"),s=(0,o.resolveComponent)("base-popup");return(0,o.openBlock)(),(0,o.createBlock)(s,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:c.onUpdate,parent:"contacts"},{actions:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,o.createVNode)(l,{onClick:c.onUpdate,loading:n.loading,"left-icon":"check_circle"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.POPUPS_UPDATE_FILTER_PROCEED")),1)]),_:1},8,["onClick","loading"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(r,{title:e.$t("CONTACTS.DEFAULT.POPUPS_UPDATE_FILTER_TITLE"),description:e.$t("CONTACTS.DEFAULT.POPUPS_UPDATE_FILTER_LABEL")},null,8,["title","description"])]),_:1},8,["onEnter"])}},"6dc7":function(e,t,i){"use strict";i.r(t);var o=i("36df"),a=i("531a");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("1f23");a["default"].render=o["render"],t["default"]=a["default"]},"6efe":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-profile-card-campaigns{max-height:300px}.c-profile-card-campaigns .c-profile-card-campaigns__campaign{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 15px;border-bottom:1px solid #e3e8ef;background-color:#fff;cursor:pointer}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;color:#75869c}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-title{width:260px;font-size:13px;line-height:24px;color:#2c405a;font-weight:700}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-divider{border-left:1px solid #e3e8ef;margin:0 20px}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics{display:-webkit-box;display:-ms-flexbox;display:flex}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:10px;height:24px;font-size:13px;font-weight:700}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic .c-profile-card-campaigns__campaign-statistic-dot{display:inline-block;width:8px;height:8px;border-radius:100%;margin-right:4px}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic:last-of-type{margin-right:0}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic--opened{color:#0093ee}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic--opened .c-profile-card-campaigns__campaign-statistic-dot{background-color:#0093ee}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic--clicked{color:#fd7b1f}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic--clicked .c-profile-card-campaigns__campaign-statistic-dot{background-color:#fd7b1f}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic--unsubscribed{color:#e0102b}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-wrapper .c-profile-card-campaigns__campaign-statistics .c-profile-card-campaigns__campaign-statistic--unsubscribed .c-profile-card-campaigns__campaign-statistic-dot{background-color:#e0102b}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-timestamp{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;color:#75869c;font-size:12px}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-tooltip{display:none;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:20px;height:20px}.c-profile-card-campaigns .c-profile-card-campaigns__campaign .c-profile-card-campaigns__campaign-tooltip .c-profile-card-campaigns__campaign-icon{fill:#0093ee}.c-profile-card-campaigns .c-profile-card-campaigns__campaign:last-of-type{border-bottom:none}.c-profile-card-campaigns .c-profile-card-campaigns__campaign:hover{background-color:#fafbfc}.c-profile-card-campaigns .c-profile-card-campaigns__campaign:hover .c-profile-card-campaigns__campaign-timestamp{display:none}.c-profile-card-campaigns .c-profile-card-campaigns__campaign:hover .c-profile-card-campaigns__campaign-tooltip{display:block}.c-profile-card-campaigns .c-profile-card-campaigns__campaign:active{background-color:#f7f8fa}.c-profile-card-campaigns .c-profile-card-campaigns__spinner{margin:15px 0}",""]),e.exports=t},"703c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var o=i("7a23");function a(e,t,i,a,n,c){const r=(0,o.resolveComponent)("base-headlines"),l=(0,o.resolveComponent)("base-button"),s=(0,o.resolveComponent)("base-popup");return(0,o.openBlock)(),(0,o.createBlock)(s,{onClose:t[1]||(t[1]=t=>e.$emit("close")),onEnter:c.onRemove},{actions:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{onClick:t[0]||(t[0]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,o.createVNode)(l,{onClick:c.onRemove,loading:n.loading,color:"red","left-icon":"delete_forever"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.POPUPS_DESTROY_CONTACTS_PROCEED")),1)]),_:1},8,["onClick","loading"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(r,{title:e.$t("CONTACTS.DEFAULT.POPUPS_DESTROY_CONTACTS_TITLE"),description:e.$t("CONTACTS.DEFAULT.POPUPS_DESTROY_CONTACTS_NOTICE")},null,8,["title","description"])]),_:1},8,["onEnter"])}},"70bc":function(e,t,i){"use strict";i.r(t);var o=i("9e11"),a=i("0e08");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("91cb");a["default"].render=o["render"],t["default"]=a["default"]},"716a":function(e,t,i){"use strict";i.r(t);var o=i("b26e"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},7331:function(e,t,i){"use strict";i.r(t);var o=i("ce51"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"737d":function(e,t,i){"use strict";i.r(t);var o=i("01f5"),a=i("84ad");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);a["default"].render=o["render"],t["default"]=a["default"]},"75f2":function(e,t,i){var o=i("3c37");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("544c06a4",o,!0,{sourceMap:!1,shadowMode:!1})},"776a":function(e,t,i){"use strict";i.r(t);var o=i("a163"),a=i("3617");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("a235");a["default"].render=o["render"],t["default"]=a["default"]},7865:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=p;var o=i("7a23");const a={class:"c-profile-card-device__header"},n={key:0,class:"c-profile-card-device__headlines"},c={key:0,class:"c-profile-card-device__title u-select"},r={class:"c-profile-card-device__string u-ellipsis"},l={key:1,class:"c-profile-card-device__subtitle u-select u-has-tooltip"},s={class:"c-profile-card-device__actions"},d=(0,o.createTextVNode)("MagicBrowse");function p(e,t,i,p,m,f){const u=(0,o.resolveComponent)("base-tooltip"),_=(0,o.resolveComponent)("base-browser"),b=(0,o.resolveComponent)("base-icon"),g=(0,o.resolveComponent)("base-availability"),h=(0,o.resolveComponent)("base-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["c-profile-card-device","c-profile-card-device--"+i.color])},[(0,o.createElementVNode)("div",a,[f.title||f.subtitle?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[f.title?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("div",r,(0,o.toDisplayString)(f.title),1)])):(0,o.createCommentVNode)("",!0),f.subtitle?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)(u,{align:"left"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_PROFILE_DEVICES_IP")),1)]),_:1}),i.browser?((0,o.openBlock)(),(0,o.createBlock)(_,{key:0,class:"c-profile-card-device__icon",browser:i.browser.toLowerCase(),size:"small"},null,8,["browser"])):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)((0,o.toDisplayString)(f.subtitle),1)])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),f.availabilityState?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)(["c-profile-card-device__availability","c-profile-card-device__availability--"+f.availabilityState])},["blocked"===f.availabilityState?((0,o.openBlock)(),(0,o.createBlock)(b,{key:0,class:"c-profile-card-device__dot",name:"block",size:"10px"})):((0,o.openBlock)(),(0,o.createBlock)(g,{key:1,class:"c-profile-card-device__dot",color:f.availabilityColor,size:"small"},null,8,["color"])),(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.PROFILE.STATUS."+f.availabilityState.toUpperCase())),1)],2)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["c-profile-card-device__action",{"u-has-tooltip":!f.hasMagicBrowse}])},[f.hasMagicBrowse?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,direction:0!==i.index?"top":"bottom",align:"right"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_PROFILE_DEVICES_BROWSING_OFFLINE")),1)]),_:1},8,["direction"])),(0,o.createVNode)(h,{onClick:f.onMagicBrowse,disabled:!f.hasMagicBrowse,color:"black","left-icon":"wand",size:"small"},{default:(0,o.withCtx)(()=>[d]),_:1},8,["onClick","disabled"])],2)])])],2)}},"79ae":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'.c-contacts-profile,.c-contacts-profile .c-contacts-profile__back{display:-webkit-box;display:-ms-flexbox;display:flex}.c-contacts-profile .c-contacts-profile__back{width:54px;height:100%;top:0;bottom:0;left:0;background:#fff;position:absolute;border-right:1px solid rgba(117,134,156,.2);-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.c-contacts-profile .c-contacts-profile__back .c-contacts-profile__back-icon{-webkit-transition:-webkit-transform .25s ease;transition:-webkit-transform .25s ease;transition:transform .25s ease;transition:transform .25s ease,-webkit-transform .25s ease;margin-left:7px}.c-contacts-profile .c-contacts-profile__back:hover .c-contacts-profile__back-icon{-webkit-transform:scale(1.12);transform:scale(1.12)}.c-contacts-profile .c-contacts-profile__box{overflow-x:hidden;overflow-y:auto;padding:40px 60px 0;padding-left:104px;border-right:1px solid #e3e8ef;border-bottom:1px solid #e3e8ef}.c-contacts-profile .c-contacts-profile__box:after{content:"";height:40px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}',""]),e.exports=t},"79f0":function(e,t,i){var o=i("e389");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("2d32a9b4",o,!0,{sourceMap:!1,shadowMode:!1})},"7bac":function(e,t,i){"use strict";i.r(t);var o=i("b382"),a=i("c8b2");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("0da5");a["default"].render=o["render"],t["default"]=a["default"]},"7c84":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=d;var o=i("7a23");const a={class:"c-contact-segmentation"},n={class:"c-contact-segmentation__header"},c={key:0,class:"c-contact-segmentation__title u-ellipsis"},r={key:0,class:"c-contact-segmentation__filters"},l=["onClick"],s={class:"c-contact-segmentation__label u-ellipsis"};function d(e,t,i,d,p,m){const f=(0,o.resolveComponent)("base-icon"),u=(0,o.resolveComponent)("segmentation-box"),_=(0,o.resolveComponent)("save-filter"),b=(0,o.resolveComponent)("update-filter"),g=(0,o.resolveComponent)("remove-filter");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(f,{class:"c-contact-segmentation__icon",name:"filter_list",size:"18px"}),"create"===i.display?((0,o.openBlock)(),(0,o.createElementBlock)("span",c,(0,o.toDisplayString)(e.$t("POPUPS.FILTER.TITLE")),1)):"update"===i.display?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,class:"c-contact-segmentation__input","onUpdate:modelValue":t[0]||(t[0]=e=>m.label=e),type:"text"},null,512)),[[o.vModelText,m.label]]):(0,o.createCommentVNode)("",!0)]),p.showSavedFilters?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(m.filters,e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"c-contact-segmentation__filter",onClick:t=>m.onClickFilter(e),key:e.filter_id},[(0,o.createElementVNode)("span",s,(0,o.toDisplayString)(e.label),1)],8,l))),128))])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(u,{class:(0,o.normalizeClass)(["c-contact-segmentation__box",["c-contact-segmentation__box",{"c-contact-segmentation__box--expended":!p.showSavedFilters}]]),modelValue:m.filter,"onUpdate:modelValue":t[1]||(t[1]=e=>m.filter=e),onStart:m.onStartFilter,onCreate:m.onCreateFilter,onDelete:m.onDeleteFilter,onCancel:m.onCancelFilter,"overriden-window":p.overridenWindow,updating:"update"===i.display,type:"people"},null,8,["modelValue","onStart","onCreate","onDelete","onCancel","overriden-window","updating","class"]),p.popups.saveFilter.visible?((0,o.openBlock)(),(0,o.createBlock)(_,{key:1,onClose:t[2]||(t[2]=e=>{p.popups.saveFilter.visible=!1}),onSave:m.onSaveFilter},null,8,["onSave"])):(0,o.createCommentVNode)("",!0),p.popups.updateFilter.visible?((0,o.openBlock)(),(0,o.createBlock)(b,{key:2,onClose:t[3]||(t[3]=e=>p.popups.updateFilter.visible=!1),onUpdate:m.onSaveFilter},null,8,["onUpdate"])):(0,o.createCommentVNode)("",!0),p.popups.removeFilter.visible?((0,o.openBlock)(),(0,o.createBlock)(g,{key:3,onClose:m.onPopupRemoveHide,onRemove:m.onRemoveFilter,"filter-id":p.popups.removeFilter.filterId},null,8,["onClose","onRemove","filter-id"])):(0,o.createCommentVNode)("",!0)])}},"7d44":function(e,t,i){"use strict";i.r(t);var o=i("0734"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"7f6c":function(e,t,i){"use strict";i("d38c")},"82fe":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=d;var o=i("7a23");const a={class:"c-profile-box__cards"},n={class:"c-profile-box__main"},c={key:0,class:"c-profile-box__secondary"},r={class:"c-profile-box__column"},l={class:"c-profile-box__column"},s={key:1,class:"c-profile-box__actions"};function d(e,t,i,d,p,m){const f=(0,o.resolveComponent)("base-banner"),u=(0,o.resolveComponent)("profile-item-map"),_=(0,o.resolveComponent)("profile-item-default"),b=(0,o.resolveComponent)("profile-card-default"),g=(0,o.resolveComponent)("profile-card-segments"),h=(0,o.resolveComponent)("profile-card-data"),x=(0,o.resolveComponent)("profile-item-footer"),v=(0,o.resolveComponent)("profile-card-events"),C=(0,o.resolveComponent)("profile-card-conversations"),k=(0,o.resolveComponent)("profile-card-device"),y=(0,o.resolveComponent)("profile-item-metric"),T=(0,o.resolveComponent)("profile-card-history"),w=(0,o.resolveComponent)("profile-card-campaigns"),O=(0,o.resolveComponent)("profile-card-notepad"),E=(0,o.resolveComponent)("base-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["c-profile-box","o-layout","o-layout--flex","c-profile-box--"+i.mode])},["default"===i.mode&&m.profile.subscriptions&&!m.profile.subscriptions.email?((0,o.openBlock)(),(0,o.createBlock)(f,{key:0,class:"c-profile-box__banner",onActionClick:m.onSubscribeEmails,action:e.$t("CONTACTS.PROFILE.ALERT_EMAIL_NOT_SUBSCRIBED_ACTION"),content:m.firstName+" "+e.$t("CONTACTS.PROFILE.ALERT_EMAIL_NOT_SUBSCRIBED_LABEL"),"has-close":!1,"is-action-pending":p.isSubscribeEmailsPending,size:"small"},null,8,["onActionClick","action","content","is-action-pending"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(u,{class:"c-profile-box__card",onChat:t[0]||(t[0]=t=>e.onChatWithProfile(m.profile.people_id)),active:m.profile.active,avatar:m.profile.person&&m.profile.person.avatar,description:m.profile.person&&m.profile.person.description,geolocation:m.profile.person&&m.profile.person.geolocation,loading:!m.profile.people_id,nickname:m.nickname,"social-profiles":m.profile.person&&m.profile.person.profiles},null,8,["active","avatar","description","geolocation","loading","nickname","social-profiles"]),(0,o.createVNode)(b,{class:"c-profile-box__card c-profile-box__card-profile","website-id":i.websiteId,"people-id":i.peopleId,closable:!1,loading:!m.profile.people_id,title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.NAME")+" "+m.firstName,help:e.$t("TOOLTIPS.CONTACTS_PROFILE_CONTACT"),id:"profile"},{items:(0,o.withCtx)(()=>[(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_NAME")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_NAME"),value:m.profile&&m.profile.person&&m.profile.person.nickname,editable:"text",id:"person.nickname",icon:"account_box",important:""},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_EMAIL")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_EMAIL"),value:m.profile&&m.profile.email,editable:"text",id:"email",icon:"email","value-icon":"email","value-type":"email",important:"",link:""},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_PHONE")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_PHONE"),value:m.profile&&m.profile.person&&m.profile.person.phone,editable:"text",id:"person.phone",icon:"phone","value-icon":"phone","value-type":"phone"},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_ADDRESS")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_ADDRESS"),value:m.profile&&m.profile.person&&m.profile.person.address,editable:"text",id:"person.address","value-icon":"map","value-type":"location",icon:"home"},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_WEBSITE")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_WEBSITE"),value:m.profile&&m.profile.person&&m.profile.person.website,editable:"text",id:"person.website",icon:"web_asset","value-icon":"open_in_browser","value-type":"website",important:"",link:""},null,8,["onValueUpdated","website-id","placeholder","title","value"]),m.profile&&m.profile.created_at?((0,o.openBlock)(),(0,o.createBlock)(_,{key:0,"website-id":i.websiteId,title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_CREATED_AT"),value:e.$filters.date.timeAgo(m.profile.created_at),id:"created_at",icon:"clock","value-with-margin":""},null,8,["website-id","title","value"])):(0,o.createCommentVNode)("",!0),m.profile&&m.profile.updated_at?((0,o.openBlock)(),(0,o.createBlock)(_,{key:1,"website-id":i.websiteId,title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_UPDATED_AT"),value:e.$filters.date.timeAgo(m.profile.updated_at),id:"updated_at",icon:"clock","value-with-margin":""},null,8,["website-id","title","value"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_GENDER_PLACEHOLDER"),title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_GENDER"),value:m.profile&&m.profile.person&&m.profile.person.gender,editable:"select",id:"person.gender",icon:"wc","select-type":"gender"},null,8,["onValueUpdated","website-id","placeholder","title","value"]),m.profile&&m.profile.subscriptions?((0,o.openBlock)(),(0,o.createBlock)(_,{key:2,onValueUpdated:m.onUpdateSubscription,"website-id":i.websiteId,title:e.$t("CONTACTS.PROFILE.BOXES.CONTACT.FIELD_SUBSCRIPTION"),value:!0!==(m.profile.subscriptions&&!m.profile.subscriptions.email),editable:"select",id:"subscription",icon:"notifications","select-type":"subscription"},null,8,["onValueUpdated","website-id","title","value"])):(0,o.createCommentVNode)("",!0)]),_:1},8,["website-id","people-id","loading","title","help"]),(0,o.createVNode)(b,{class:"c-profile-box__card","website-id":i.websiteId,"people-id":i.peopleId,closable:!1,scrollable:!1,title:e.$t("CONTACTS.PROFILE.BOXES.SEGMENTS.NAME")+" "+m.firstName,help:e.$t("TOOLTIPS.CONTACTS_PROFILE_SEGMENTS"),id:"segments"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(g,{class:"c-profile-box__segments","initial-segments":m.profile.segments,"website-id":i.websiteId,"people-id":i.peopleId},null,8,["initial-segments","website-id","people-id"])]),_:1},8,["website-id","people-id","title","help"]),(0,o.createVNode)(b,{class:"c-profile-box__card","website-id":i.websiteId,"people-id":i.peopleId,closable:!1,loading:!m.profile.people_id,title:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.NAME_1")+" "+m.firstName+" "+e.$t("CONTACTS.PROFILE.BOXES.COMPANY.NAME_2"),help:e.$t("TOOLTIPS.CONTACTS_PROFILE_COMPANY"),id:"company"},{items:(0,o.withCtx)(()=>[(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_COMPANY")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_COMPANY"),value:m.profile&&m.profile.company&&m.profile.company.name,editable:"text",id:"company.name",icon:"business",important:""},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_JOB_TITLE")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_JOB_TITLE"),value:m.profile&&m.profile.person&&m.profile.person.employment&&m.profile.person.employment.title,editable:"text",id:"person.employment.title",icon:"school"},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_JOB_ROLE")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_JOB_ROLE"),value:m.profile&&m.profile.person&&m.profile.person.employment&&m.profile.person.employment.role,editable:"text",id:"person.employment.role",icon:"work"},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_WEBSITE")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_WEBSITE"),value:m.profile&&m.profile.company&&m.profile.company.domain,editable:"text",id:"company.domain",icon:"web_asset","value-icon":"open_in_browser","value-type":"website",important:"",link:""},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_CITY")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_CITY"),value:m.profile&&m.profile.company&&m.profile.company.geolocation&&m.profile.company.geolocation.city,editable:"text",id:"company.geolocation.city",icon:"home","value-icon":"map","value-type":"location"},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onTextValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_COUNTRY")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_COUNTRY"),value:m.profile&&m.profile.company&&m.profile.company.geolocation&&m.profile.company.geolocation.country,editable:"select",id:"company.geolocation.country",icon:"flag","select-type":"country"},null,8,["onValueUpdated","website-id","placeholder","title","value"]),(0,o.createVNode)(_,{onValueUpdated:m.onNumberValueUpdated,"website-id":i.websiteId,placeholder:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.ENTER_VALUE")+" "+e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_EMPLOYEES")+"...",title:e.$t("CONTACTS.PROFILE.BOXES.COMPANY.FIELD_EMPLOYEES"),value:m.profile&&m.profile.company&&m.profile.company.metrics&&m.profile.company.metrics.employees,editable:"number",id:"company.metrics.employees",icon:"people"},null,8,["onValueUpdated","website-id","placeholder","title","value"])]),_:1},8,["website-id","people-id","loading","title","help"])]),"default"===i.mode?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(b,{class:"c-profile-box__card",onAdd:m.onAddCustomData,"website-id":i.websiteId,"people-id":i.peopleId,"has-add":!p.customDataOptions.addActivated,"add-label":e.$t("CONTACTS.PROFILE.BOXES.DATA.ACTION"),loading:!m.profile.data,title:e.$t("CONTACTS.PROFILE.BOXES.DATA.NAME")+" "+m.firstName,help:e.$t("TOOLTIPS.CONTACTS_PROFILE_DATA"),overflow:"",id:"customData"},{footer:(0,o.withCtx)(()=>[(0,o.createVNode)(x,{label:e.$t("CONTACTS.PROFILE.BOXES.DATA.HELP_LABEL"),link:{href:e.$CONFIG.CRISP_URL_HELP+"/en/article/1xh7pqk/",learn:e.$t("CONTACTS.PROFILE.BOXES.DATA.HELP_LEARN")}},null,8,["label","link"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(h,{onAdd:m.onAddCustomData,"website-id":i.websiteId,"people-id":i.peopleId,"add-activated":p.customDataOptions.addActivated,data:m.customData},null,8,["onAdd","website-id","people-id","add-activated","data"])]),_:1},8,["onAdd","website-id","people-id","has-add","add-label","loading","title","help"]),(0,o.createVNode)(v,{"website-id":i.websiteId,"people-id":i.peopleId,"first-name":m.firstName},null,8,["website-id","people-id","first-name"]),(0,o.createVNode)(b,{class:"c-profile-box__card","website-id":i.websiteId,"people-id":i.peopleId,"empty-string":e.$t("CONTACTS.PROFILE.BOXES.LOCATION.EMPTY"),loading:!m.profile.people_id,title:e.$t("CONTACTS.PROFILE.BOXES.LOCATION.NAME"),help:e.$t("TOOLTIPS.CONTACTS_PROFILE_LOCATION"),id:"location"},(0,o.createSlots)({_:2},[m.city||m.profile.person&&(m.profile.person.timezone||m.profile.person.locales)?{name:"items",fn:(0,o.withCtx)(()=>[m.city?((0,o.openBlock)(),(0,o.createBlock)(_,{key:0,"website-id":i.websiteId,title:e.$t("CONTACTS.PROFILE.BOXES.LOCATION.LEGEND_CITY"),value:m.city,id:"city"},null,8,["website-id","title","value"])):(0,o.createCommentVNode)("",!0),m.profile.person.timezone?((0,o.openBlock)(),(0,o.createBlock)(_,{key:1,"website-id":i.websiteId,title:e.$t("CONTACTS.PROFILE.BOXES.LOCATION.LEGEND_TIME"),value:e.$filters.date.offsetToLocalTime(m.profile.person.timezone),"value-label":e.$filters.date.utcTimezone(m.profile.person.timezone),id:"city"},null,8,["website-id","title","value","value-label"])):(0,o.createCommentVNode)("",!0),m.profile.person.locales?((0,o.openBlock)(),(0,o.createBlock)(_,{key:2,"website-id":i.websiteId,title:e.$t("CONTACTS.PROFILE.BOXES.LOCATION.LEGEND_LANGUAGES"),languages:m.profile.person.locales,id:"languages"},null,8,["website-id","title","languages"])):(0,o.createCommentVNode)("",!0)])}:void 0]),1032,["website-id","people-id","empty-string","loading","title","help"]),(0,o.createVNode)(b,{class:"c-profile-box__card",onAdd:m.onNewConversation,"website-id":i.websiteId,"people-id":i.peopleId,loading:!m.profile.sessions,title:e.$t("CONTACTS.PROFILE.BOXES.CONVERSATIONS.NAME")+" "+m.firstName,help:e.$t("TOOLTIPS.CONTACTS_PROFILE_CONVERSATIONS"),"add-label":e.$t("CONTACTS.PROFILE.BOXES.CONVERSATIONS.ACTION"),"add-loading":p.conversationsOptions.addLoading,"has-add":"",id:"sessions"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(C,{"website-id":i.websiteId,sessions:m.profile.sessions},null,8,["website-id","sessions"])]),_:1},8,["onAdd","website-id","people-id","loading","title","help","add-label","add-loading"])]),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(b,{class:"c-profile-box__card","website-id":i.websiteId,"people-id":i.peopleId,"empty-string":e.$t("CONTACTS.PROFILE.BOXES.RATINGS.EMPTY"),loading:!m.profile.ratings,title:e.$t("CONTACTS.PROFILE.BOXES.RATINGS.NAME")+" "+m.firstName,help:e.$t("TOOLTIPS.CONTACTS_PROFILE_RATINGS"),id:"ratings"},(0,o.createSlots)({_:2},[m.profile.ratings&&m.profile.ratings.length>0?{name:"items",fn:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(m.profile.ratings,(t,a)=>((0,o.openBlock)(),(0,o.createBlock)(_,{details:[{label:t.comment?e.$t("CONTACTS.PROFILE.BOXES.RATINGS.LEGEND_COMMENT"):e.$t("CONTACTS.PROFILE.BOXES.RATINGS.COMMENT_EMPTY"),value:t.comment}],key:"rating_"+t.session.session_id,id:a,rating:t.stars,"session-id":(t.session||{}).session_id,timestamp:t.created_at,"website-id":i.websiteId,"always-deployed":""},null,8,["details","id","rating","session-id","timestamp","website-id"]))),128))])}:void 0]),1032,["website-id","people-id","empty-string","loading","title","help"]),(0,o.createVNode)(b,{class:"c-profile-box__card","website-id":i.websiteId,"people-id":i.peopleId,"empty-string":e.$t("CONTACTS.PROFILE.BOXES.DEVICES.EMPTY"),loading:!m.profile.sessions,scrollable:!1,title:e.$t("CONTACTS.PROFILE.BOXES.DEVICES.NAME")+" "+m.firstName,help:e.$t("TOOLTIPS.CONTACTS_PROFILE_DEVICES"),id:"devices"},(0,o.createSlots)({_:2},[m.devices&&m.devices.length>0?{name:"default",fn:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(m.devices,(e,t)=>((0,o.openBlock)(),(0,o.createBlock)(k,{"website-id":i.websiteId,availability:e.availability,active:e.active.now,blocked:e.is_blocked,browser:e.meta.device.system.browser.name,"session-id":e.session_id,key:"device_"+e.session_id,ip:e.meta.ip,os:e.meta.device.system.os.name,index:t},null,8,["website-id","availability","active","blocked","browser","session-id","ip","os","index"]))),128))])}:void 0]),1032,["website-id","people-id","empty-string","loading","title","help"]),(0,o.createVNode)(b,{class:"c-profile-box__card","website-id":i.websiteId,"people-id":i.peopleId,loading:!m.profile.pages,title:e.$t("CONTACTS.PROFILE.BOXES.PAGES.NAME_1")+" "+m.firstName+" "+e.$t("CONTACTS.PROFILE.BOXES.PAGES.NAME_2"),help:e.$t("TOOLTIPS.CONTACTS_PROFILE_PAGES"),id:"pages"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(T,{"website-id":i.websiteId,pages:m.profile.pages},(0,o.createSlots)({_:2},[m.profile.pages?{name:"metrics",fn:(0,o.withCtx)(()=>[(0,o.createVNode)(y,{label:e.$t("CONTACTS.PROFILE.BOXES.PAGES.PAGES_VISITED"),metric:m.profile.pages.length},null,8,["label","metric"]),(0,o.createVNode)(y,{label:e.$t("CONTACTS.PROFILE.BOXES.PAGES.TIME_ON_WEBSITE"),metric:e.$filters.date.duration(e.$filters.date.approximateTimeSpent(m.profile.pages,"timestamp"))},null,8,["label","metric"])])}:void 0]),1032,["website-id","pages"])]),_:1},8,["website-id","people-id","loading","title","help"]),(0,o.createVNode)(w,{"website-id":i.websiteId,"people-id":i.peopleId,"first-name":m.firstName},null,8,["website-id","people-id","first-name"]),(0,o.createVNode)(b,{"website-id":i.websiteId,"people-id":i.peopleId,loading:!m.profile.people_id,title:e.$t("CONTACTS.PROFILE.BOXES.NOTEPAD.NAME")+" "+m.firstName,help:e.$t("TOOLTIPS.CONTACTS_PROFILE_NOTEPAD"),color:"yellow",id:"notepad"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(O,{modelValue:p.notepad.current,"onUpdate:modelValue":t[1]||(t[1]=e=>p.notepad.current=e),onSave:m.onSaveNotepad,initial:p.notepad.initial},null,8,["modelValue","onSave","initial"])]),_:1},8,["website-id","people-id","loading","title","help"])])])):(0,o.createCommentVNode)("",!0)]),"sidebar"===i.mode?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createVNode)(E,{class:"c-profile-box__action",onClick:m.onOpenFullProfile,"left-icon":"person",size:"small",color:"black"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.PROFILE.GO_TO_FULL")),1)]),_:1},8,["onClick"])])):(0,o.createCommentVNode)("",!0)],2)}},"84ad":function(e,t,i){"use strict";i.r(t);var o=i("ddb3"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},"84dd":function(e,t,i){"use strict";i.r(t);var o=i("c684"),a=i("5d9b");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("ca9a");a["default"].render=o["render"],t["default"]=a["default"]},"895c":function(e,t,i){var o=i("c8b5b");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("3668c8d1",o,!0,{sourceMap:!1,shadowMode:!1})},"8b30":function(e,t,i){"use strict";i.r(t);var o=i("f878"),a=i("af58");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("5e58");a["default"].render=o["render"],t["default"]=a["default"]},"8d29":function(e,t,i){"use strict";i("fb6f")},"8dc3":function(e,t,i){"use strict";i.r(t);var o=i("a358"),a=i("49bc");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);a["default"].render=o["render"],t["default"]=a["default"]},"910d":function(e,t,i){"use strict";i.r(t);var o=i("4f4b"),a=i("ca9c");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);a["default"].render=o["render"],t["default"]=a["default"]},"91cb":function(e,t,i){"use strict";i("f9d9")},"92cc":function(e,t,i){"use strict";var o=i("c983");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},94209:function(e,t,i){"use strict";i.r(t);var o=i("9528"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},9528:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(i("6a84")),a=c(i("910d")),n=c(i("9ee9"));function c(e){return e&&e.__esModule?e:{default:e}}var r={components:{LimitReached:a.default},emits:["close","upgrade"],data(){return{websiteId:this.$route.params.websiteId,step:"new",email:"",loading:!1,nickname:""}},methods:{onCreateNewContact(e=!1){!0!==this.loading&&!0!==e&&(this.loading=!0,this.$store.dispatch("contacts/createProfile",{email:this.email,nickname:this.nickname,websiteId:this.websiteId}).then(()=>(o.default.success("contacts_generic_contact_created"),this.$emit("close"),Promise.resolve())).catch(e=>{if(e){let t=(e||{}).reason;switch(t){case"too_many_people":this.step="upgrade";break;case"subscription_upgrade_required":n.default.show({pluginName:"CRM",pluginUrn:"urn:crisp.im:people:0",plan:"pro"});break}}return Promise.resolve()}).then(()=>{this.loading=!1}))},onUpgrade(){this.loading=!0,this.$emit("upgrade")}}};t.default=r},"9a54":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={emits:["close","remove"],data(){return{loading:!1}},methods:{onRemove(){!0!==this.loading&&(this.loading=!0,this.$emit("remove",()=>{this.loading=!1}))}}};t.default=o},"9aa8":function(e,t,i){"use strict";i.r(t);var o=i("dfa3"),a=i("045d");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);a["default"].render=o["render"],t["default"]=a["default"]},"9e11":function(e,t,i){"use strict";var o=i("82fe");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},"9f53":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("5562")),a=n(i("ef0e"));function n(e){return e&&e.__esModule?e:{default:e}}var c={components:{ProfileItemEmpty:a.default,ConversationMenuItem:o.default},props:{websiteId:{type:String,required:!0},sessions:{type:Array,default:null}},computed:{conversations(){return this.$store.getters["conversations/getList"](this.websiteId)||[]},filteredConversations(){return this.conversations.filter(e=>this.sessions&&-1!==this.sessions.indexOf(e.session_id))},me(){return this.$store.getters["user/getMe"]}},methods:{onConversationClick(e){this.$router.push({name:"app.website.inbox.conversation",params:{websiteId:this.websiteId,sessionId:e}}).catch(()=>{})}}};t.default=c},a163:function(e,t,i){"use strict";var o=i("d1e8");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},a235:function(e,t,i){"use strict";i("18e8")},a313:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=b;var o=i("7a23");const a={class:"c-profile-item-map"},n={key:0,class:"c-profile-item-map__loading"},c={key:1,class:"c-profile-item-map__loaded"},r={class:"c-profile-item-map__map"},l={class:"c-profile-item-map__map-inner"},s={class:"c-profile-item-map__details"},d={key:0,class:"c-profile-item-map__nickname u-select"},p={key:1,class:(0,o.normalizeClass)(["c-profile-item-map__activity","c-profile-item-map__activity--online","u-bold"])},m={key:2,class:(0,o.normalizeClass)(["c-profile-item-map__activity","c-profile-item-map__activity--offline"])},f={class:"c-profile-item-map__legend"},u={class:"c-profile-item-map__value"},_=["innerHTML"];function b(e,t,i,b,g,h){const x=(0,o.resolveComponent)("profile-item-spinner"),v=(0,o.resolveComponent)("l-tile-layer"),C=(0,o.resolveComponent)("magic-map-marker"),k=(0,o.resolveComponent)("l-icon"),y=(0,o.resolveComponent)("l-marker"),T=(0,o.resolveComponent)("l-map"),w=(0,o.resolveComponent)("base-avatar"),O=(0,o.resolveComponent)("base-button"),E=(0,o.resolveComponent)("social-profiles"),N=(0,o.resolveDirective)("crisp-date");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[i.loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createVNode)(x,{class:"c-profile-item-map__spinner"})])):((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(T,{class:"c-profile-item-map__leaflet",center:h.centerOffsetCoordinates,"max-zoom":6,"min-zoom":6,"zoom-control":!1,options:g.options},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(v,{url:e.$CONFIG.CRISP_MAP_ENDPOINT},null,8,["url"]),h.coordinates?((0,o.openBlock)(),(0,o.createBlock)(y,{key:0,draggable:!1,icon:g.icon,"lat-lng":h.coordinates,"z-index-offset":100},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(k,null,{default:(0,o.withCtx)(()=>[(0,o.createVNode)(C,{"tooltip-visible":!1})]),_:1})]),_:1},8,["icon","lat-lng"])):(0,o.createCommentVNode)("",!0)]),_:1},8,["center","options"])])]),(0,o.createVNode)(w,{class:"c-profile-item-map__avatar","avatar-url":i.avatar,flag:(i.geolocation||{}).country,cursor:"default",size:"huge","parent-color":"#ffffff","has-flag":""},null,8,["avatar-url","flag"]),(0,o.createElementVNode)("div",s,[i.nickname?((0,o.openBlock)(),(0,o.createElementBlock)("span",d,(0,o.toDisplayString)(i.nickname),1)):(0,o.createCommentVNode)("",!0),i.active.now?((0,o.openBlock)(),(0,o.createElementBlock)("span",p,(0,o.toDisplayString)(e.$t("CONTACTS.PROFILE.ACTIVE_NOW")),1)):i.active&&i.active.last?((0,o.openBlock)(),(0,o.createElementBlock)("span",m,[(0,o.createElementVNode)("span",f,(0,o.toDisplayString)(e.$t("CONTACTS.PROFILE.ACTIVE_LAST")),1),(0,o.withDirectives)((0,o.createElementVNode)("span",u,null,512),[[N,{date:i.active.last,maintain:!0}]])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(O,{class:"c-profile-item-map__action",onClick:h.onChatWithProfile,loading:g.actionLoading,"left-icon":"crispy",size:"small"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.PROFILE.MESSAGE")),1)]),_:1},8,["onClick","loading"]),i.description?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:3,class:"c-profile-item-map__description u-select",innerHTML:h.profileDescription},null,8,_)):(0,o.createCommentVNode)("",!0),i.socialProfiles?((0,o.openBlock)(),(0,o.createBlock)(E,{key:4,class:"c-profile-item-map__social-profiles",profiles:i.socialProfiles},null,8,["profiles"])):(0,o.createCommentVNode)("",!0)])]))])}},a358:function(e,t,i){"use strict";var o=i("aa7f");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},a6bd8:function(e,t,i){"use strict";i("0449")},a8fc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=u;var o=i("7a23");const a={class:"c-magic-map-marker__circle"},n={class:"c-magic-map-marker__circle-wrapper"},c={key:0,class:"c-magic-map-marker__count u-bold"},r={key:0,class:"c-magic-map-marker__tooltip-wrapper"},l={class:"c-magic-map-marker__tooltip"},s=(0,o.createElementVNode)("div",{class:"c-magic-map-marker__arrow"},null,-1),d={class:"c-magic-map-marker__content"},p={class:"c-magic-map-marker__content-location"},m={key:1,class:"c-magic-map-marker__name"},f={key:2,class:"c-magic-map-marker__name"};function u(e,t,i,u,_,b){const g=(0,o.resolveComponent)("base-avatar"),h=(0,o.resolveComponent)("base-flag"),x=(0,o.resolveComponent)("base-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["c-magic-map-marker","c-magic-map-marker--"+b.size,{"c-magic-map-marker--loading":i.loading}])},[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",n,[i.count>1?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,(0,o.toDisplayString)(i.count),1)):(0,o.createCommentVNode)("",!0),i.visitor&&i.visitor.session_id?((0,o.openBlock)(),(0,o.createBlock)(g,{key:1,class:"c-magic-map-marker__avatar","avatar-id":i.visitor.session_id,"avatar-url":i.visitor.avatar||i.visitor.email,type:"visitor",size:"medium"},null,8,["avatar-id","avatar-url"])):(0,o.createCommentVNode)("",!0)])]),!i.tooltipVisible||i.visitor&&i.visitor.session_id?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",l,[s,(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",p,[i.country?((0,o.openBlock)(),(0,o.createBlock)(h,{key:0,class:"c-magic-map-marker__flag",code:i.country,height:"15px",width:"21px"},null,8,["code"])):(0,o.createCommentVNode)("",!0),i.city?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,(0,o.toDisplayString)(i.city)+", "+(0,o.toDisplayString)(e.$filters.format.isoCountry(i.country)),1)):i.country?((0,o.openBlock)(),(0,o.createElementBlock)("div",f,(0,o.toDisplayString)(e.$filters.format.isoCountry(e.isoCountry)),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(x,{class:"c-magic-map-marker__content-button js-marker-button","data-index":i.index,size:"small"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("VISITORS.COMMON.SHOW_POINT_DETAILS")),1)]),_:1},8,["data-index"])])])]))],2)}},aa7f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var o=i("7a23");function a(e,t,i,a,n,c){const r=(0,o.resolveComponent)("field-input"),l=(0,o.resolveComponent)("base-button"),s=(0,o.resolveComponent)("base-popup"),d=(0,o.resolveComponent)("validation-observer");return(0,o.openBlock)(),(0,o.createBlock)(d,{as:""},{default:(0,o.withCtx)(({meta:i})=>[(0,o.createVNode)(s,{onClose:t[2]||(t[2]=t=>e.$emit("close")),onEnter:e=>c.onSave(!i.valid),parent:"contacts","max-height":"600px"},{actions:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{onClick:t[1]||(t[1]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,o.createVNode)(l,{onClick:e=>c.onSave(!i.valid),disabled:!i.valid,loading:n.loading,"left-icon":"add_circle"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("INBOX.LIST.POPUPS_EDIT_CUSTOM_FILTER_PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(r,{modelValue:n.currentLabel,"onUpdate:modelValue":t[0]||(t[0]=e=>n.currentLabel=e),disabled:n.loading,label:e.$t("INBOX.LIST.POPUPS_EDIT_CUSTOM_FILTER_LABEL_LABEL"),placeholder:e.$t("INBOX.LIST.POPUPS_EDIT_CUSTOM_FILTER_LABEL_PLACEHOLDER"),name:"label",rules:"required|min:2|max:80",size:"large",autofocus:""},null,8,["modelValue","disabled","label","placeholder"])]),_:2},1032,["onEnter"])]),_:1})}},aaee:function(e,t,i){"use strict";var o=i("6162");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},acad:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-contacts-index .c-contacts-index__segmentation{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-contacts-index .c-contacts-index__banner{-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,.05);box-shadow:0 1px 3px 0 rgba(0,0,0,.05);-webkit-animation-name:deployBanner;animation-name:deployBanner;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-direction:both;animation-direction:both}.c-contacts-index .c-contacts-index__container{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-contacts-index .c-contacts-index__container .c-contacts-index__header{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.c-contacts-index .c-contacts-index__sidebar-close{top:12px;right:392px;-webkit-animation:fadeIn;animation:fadeIn;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-delay:.4s;animation-delay:.4s}.c-contacts-index .c-contacts-index__sidebar{position:fixed;top:0;right:0;bottom:0;z-index:999;overflow:hidden;width:380px;background:#fff;-webkit-box-shadow:-1px 0 8px rgba(0,0,0,.1);box-shadow:-1px 0 8px rgba(0,0,0,.1);-webkit-animation:slideInRight;animation:slideInRight;-webkit-animation-duration:.25s;animation-duration:.25s}@media (max-width:78.75em){.c-contacts-index .c-contacts-index__header .c-contacts-index__action--minimized-early .c-base-button__label{display:none}}@media (max-width:75em){.c-contacts-index .c-contacts-index__segmentation{width:200px}}@media (max-width:67.5em){.c-contacts-index .c-contacts-index__container .c-contacts-index__header .c-contacts-index__action--secondary .c-base-button__label,.c-contacts-index .c-contacts-index__segmentation{display:none}}@media (max-width:62.5em){.c-contacts-index .c-contacts-index__menu{width:170px}.c-contacts-index .c-contacts-index__container .c-contacts-index__header .c-contacts-index__action--minimized .c-base-button__label{display:none}}",""]),e.exports=t},acf7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=k(i("f4c41")),a=k(i("6a84")),n=k(i("ee8d")),c=k(i("776a")),r=k(i("c6e9")),l=k(i("6dc7")),s=k(i("dea1")),d=k(i("b9333")),p=k(i("4d1d")),m=k(i("1317")),f=k(i("515d")),u=k(i("82c7")),_=k(i("cd02")),b=k(i("7bac")),g=k(i("383c")),h=k(i("0bb7")),x=k(i("0315")),v=k(i("9ee9")),C=k(i("1f75"));function k(e){return e&&e.__esModule?e:{default:e}}var y={components:{ProfileCardCampaigns:n.default,ProfileCardConversations:c.default,ProfileCardDefault:r.default,ProfileCardData:l.default,ProfileCardDevice:s.default,ProfileCardEvents:d.default,ProfileCardHistory:p.default,ProfileCardNotepad:m.default,ProfileCardSegments:f.default,ProfileItemDefault:u.default,ProfileItemFooter:g.default,ProfileItemMetric:b.default,ProfileItemMap:_.default},mixins:[C.default],props:{websiteId:{type:String,required:!0},peopleId:{type:String,required:!0},mode:{type:String,default:"default"}},emits:["close"],data(){return{isSubscribeEmailsPending:!1,customDataOptions:{addActivated:!1},conversationsOptions:{addLoading:!1},notepad:{current:"",initial:""}}},computed:{allConversations(){return this.$store.getters["conversations/getList"](this.websiteId)||[]},conversations(){return this.allConversations.filter(e=>this.profile.sessions&&-1!==this.profile.sessions.indexOf(e.session_id))},city(){let e="",t=(this.profile.person.geolocation||{}).city,i=(this.profile.person.geolocation||{}).country;return t&&(e+=t+", "),i&&(e+=this.$filters.format.isoCountry(i)),e},customData(){const e=this.profile.data;if(e){let t=[];for(let i in e)t.push({fieldKey:i,fieldValue:e[i]});return t}},devices(){return(this.conversations||[]).filter(e=>e.meta&&e.meta.device&&e.meta.device.system&&e.meta.device.system.browser&&e.meta.device.system.browser.name&&e.meta.device.system.os&&e.meta.device.system.os.name)},nickname(){let e=this.profile&&this.profile.person&&this.profile.person.nickname||"";return this.$filters.format.cutText(e,32)},firstName(){return this.$filters.format.parseFirstName(this.nickname)},profile(){return this.$store.commit("contacts/assertProfile",{peopleId:this.peopleId}),this.$store.getters["contacts/getProfile"](this.peopleId)}},watch:{"profile.notepad":{immediate:!0,handler(e){this.notepad.current=e||"",this.notepad.initial=e||""}},"profile.person.nickname":{immediate:!0,handler(){this.updateTitle()}}},mounted(){this.$store.dispatch("contacts/initializeProfile",{peopleId:this.peopleId,websiteId:this.websiteId}).then(()=>{this.updateTitle(),x.default.logEvent("Contact profile opened")}).catch(e=>{if(402===e.status)return void v.default.show({pluginName:"CRM",pluginUrn:"urn:crisp.im:people:0",plan:"pro",closable:!1});a.default.error("contacts_profile_error");let t=this.$store.getters["common/getPreviousRoute"];if(t)return this.$router.push(t).catch(()=>{});this.$router.push({name:"app.website.contacts.index",params:{websiteId:this.websiteId}}).catch(()=>{}),this.$store.commit("common/resetPreviousRoute")})},methods:{updateTitle(){this.profile.person.nickname&&"app.website.contacts.profile"===this.$route.name&&h.default.update(this.profile.person.nickname)},updateValue(e,t){const i=(0,o.default)({},e,t);this.$store.dispatch("contacts/updateProfile",{websiteId:this.websiteId,peopleId:this.peopleId,key:e,value:t,updates:i}).then(()=>(a.default.success("contacts_profile_saved"),Promise.resolve()))},onAddCustomData(e){this.customDataOptions.addActivated=e},onNewConversation(){!this.conversationsOptions.addLoading&&this.profile.person.nickname&&this.profile.email&&(this.conversationsOptions.addLoading=!0,this.$store.dispatch("conversations/createConversation",{websiteId:this.websiteId,meta:{nickname:this.profile.person.nickname,email:this.profile.email}}).then(e=>(this.$emit("close"),a.default.success("inbox_conversation_created"),this.$router.push({name:"app.website.inbox.conversation",params:{websiteId:this.websiteId,sessionId:e}}).catch(()=>{}),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.conversationsOptions.addLoading=!1}))},onSubscribeEmails(e=!0){!0!==this.isSubscribeEmailsPending&&(this.isSubscribeEmailsPending=!0,this.$store.dispatch("contacts/updateProfileSubscriptions",{websiteId:this.websiteId,peopleId:this.peopleId,subscriptions:{email:e}}).then(()=>(!0===e?a.default.success("contacts_profile_subscription_email_enabled"):a.default.success("contacts_profile_subscription_email_disabled"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{this.isSubscribeEmailsPending=!1}))},onSaveNotepad(e){this.$store.dispatch("contacts/updateProfileNotepad",{notepad:this.notepad.current,peopleId:this.peopleId,websiteId:this.websiteId}).then(()=>(this.notepad.initial=this.notepad.current,a.default.success("contacts_profile_notepad_saved"),Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{e()})},onTextValueUpdated(e,t){this.updateValue(e,t)},onNumberValueUpdated(e,t){isNaN(t)||this.updateValue(e,t)},onUpdateSubscription(e,t){this.onSubscribeEmails(t)},onOpenFullProfile(){this.$router.push({name:"app.website.contacts.profile",params:{websiteId:this.websiteId,peopleId:this.peopleId}}).catch(()=>{})}}};t.default=y},ad2c:function(e,t,i){"use strict";i.r(t);var o=i("08d3"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},ae58:function(e,t,i){"use strict";i.r(t);var o=i("f887"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},aebc:function(e,t,i){"use strict";i.r(t);var o=i("679f"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},af58:function(e,t,i){"use strict";i.r(t);var o=i("158c"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},af66:function(e,t,i){"use strict";i.r(t);var o=i("6139"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},b235:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=u;var o=i("7a23");const a={class:"c-common-table o-table__table"},n={class:"c-common-table__thead o-table__thead"},c={class:"c-common-table__tr o-table__tr"},r=["onClick"],l={class:"c-common-table__title"},s={class:"c-common-table__loading",key:"loading"},d={class:"c-common-table__tbody o-table__tbody",key:"body"},p={class:"c-common-table__tbody o-table__tbody",key:"bodySection"},m={class:"c-common-table__section o-table__tr"},f={class:"c-common-table__empty",key:"empty"};function u(e,t,i,u,_,b){const g=(0,o.resolveComponent)("base-icon"),h=(0,o.resolveComponent)("base-spinner"),x=(0,o.resolveComponent)("dynamic-scroller-item"),v=(0,o.resolveComponent)("dynamic-scroller");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",c,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.fields,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:t=>b.onSortColumn(e),key:t,class:(0,o.normalizeClass)(["o-table__th","c-common-table__th","c-common-table__th--"+(e.alignment||"left"),{"c-common-table__th--center":"center"===e.alignment,"c-common-table__th--right":"right"===e.alignment,"c-common-table__th--sortable":e.sortable,"o-table__th--no-padding":e.noPadding,"o-table__th--no-padding-left":e.noPaddingLeft}]),style:(0,o.normalizeStyle)({minWidth:e.minWidth||e.width,overflow:i.overflow,width:e.width})},[(0,o.createElementVNode)("div",l,(0,o.toDisplayString)(e.title),1),e.sortable?((0,o.openBlock)(),(0,o.createBlock)(g,{key:0,name:e.sortFieldId===i.sortField?"chevron_up":"unfold_more",class:(0,o.normalizeClass)(["c-common-table__sort",{"c-common-table__sort--ascending":"ascending"===i.sortOrder}]),size:"14px"},null,8,["name","class"])):(0,o.createCommentVNode)("",!0)],14,r))),128))])]),!i.initialized||i.loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createVNode)(h)])):i.data&&i.data.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createVNode)(v,{class:"c-common-table__recycle-scroller",items:i.data,"min-item-size":i.minItemHeight,"key-field":i.keyField,buffer:_.windowHeight,"page-mode":""},{default:(0,o.withCtx)(({item:t,index:i,active:a})=>[(0,o.createVNode)(x,{item:t,active:a,"data-index":i},{default:(0,o.withCtx)(()=>[(0,o.renderSlot)(e.$slots,"item",{index:i,item:t})]),_:2},1032,["item","active","data-index"])]),_:3},8,["items","min-item-size","key-field","buffer"]),(0,o.renderSlot)(e.$slots,"infinite-loading")])):i.dataBySection?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(b.displayedDataBySection,(t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:a},[(0,o.createElementVNode)("div",m,[(0,o.renderSlot)(e.$slots,"section-item",{sectionItem:t.section})]),(0,o.createVNode)(v,{class:"c-common-table__recycle-scroller",items:t.data,"min-item-size":70,"key-field":i.keyField,buffer:_.windowHeight,"page-mode":""},{default:(0,o.withCtx)(({item:t,index:i,active:a})=>[(0,o.createVNode)(x,{item:t,active:a,"data-index":i},{default:(0,o.withCtx)(()=>[(0,o.renderSlot)(e.$slots,"item",{index:i,item:t})]),_:2},1032,["item","active","data-index"])]),_:2},1032,["items","key-field","buffer"])]))),128)),(0,o.renderSlot)(e.$slots,"infinite-loading")])):((0,o.openBlock)(),(0,o.createElementBlock)("div",f,[(0,o.renderSlot)(e.$slots,"empty")]))])}},b26e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=m(i("cd3f")),a=m(i("6a84")),n=m(i("8508")),c=m(i("9ee9")),r=m(i("0315")),l=m(i("8232")),s=m(i("8dc3")),d=m(i("eda1")),p=m(i("4222"));function m(e){return e&&e.__esModule?e:{default:e}}var f={components:{SaveFilter:s.default,RemoveFilter:p.default,SegmentationBox:n.default,UpdateFilter:d.default},mixins:[l.default],props:{websiteId:{type:String,required:!0},display:{type:String,default:"create"},saving:{type:Boolean,default:!1},modelValue:{type:Object,required:!0}},emits:["filterRequest:create","filterRequest:update","filterRequest:updated","filterRequest:filter:updated","filterRequest:filter:reset","filterRequest:label:updated","filterRequest:display:updated"],data(){return{showSavedFilters:!0,overridenWindow:null,popups:{saveFilter:{visible:!1},removeFilter:{visible:!1,filterId:null},updateFilter:{visible:!1}}}},computed:{filter:{get(){return this.modelValue.filter},set(e){this.$emit("filterRequest:filter:updated",e)}},filters(){return this.$store.commit("filters/assertFilters",{websiteId:this.websiteId,type:"people"}),this.$store.getters["filters/getFilters"](this.websiteId,"people")},label:{get(){return this.modelValue.label},set(e){this.$emit("filterRequest:label:updated",e)}}},created(){this.$store.dispatch("filters/acquireFilters",{websiteId:this.websiteId,type:"people"})},mounted(){this.filter&&this.filter.length>0&&(this.showSavedFilters=!1)},methods:{switchBackToMainWindow(){this.overridenWindow="main",this.$nextTick(()=>{this.overridenWindow=null})},onClickFilter(e){this.showSavedFilters=!1,e.filter_id!==this.modelValue.filter_id&&(this.$emit("filterRequest:display:updated","update"),this.$emit("filterRequest:updated",(0,o.default)(e)),this.switchBackToMainWindow())},onNewFilter(){this.showSavedFilters=!1,this.$emit("filterRequest:display:updated","create"),this.$emit("filterRequest:filter:reset")},onRemoveFilter(e,t){this.$store.dispatch("filters/removeFilter",{websiteId:this.websiteId,type:"people",filterId:e}).then(()=>(a.default.success("inbox_custom_filter_removed"),this.popups.removeFilter.visible=!1,this.selectedCriteria=[],this.modelValue.filter_id===e&&(this.$emit("filterRequest:display:updated","create"),this.$emit("filterRequest:filter:reset")),this.showSavedFilters=!0,Promise.resolve())).catch(()=>Promise.resolve()).then(()=>{t()})},onSaveFilter(e,t){this.saving||("create"===this.display?this.$emit("filterRequest:create",e,t,e=>{e||(this.$emit("filterRequest:display:updated","update"),r.default.logEvent("Contact filter created")),this.popups.saveFilter.visible=!1}):"update"===this.display&&this.$emit("filterRequest:update",e,t,e=>{e||(this.$emit("filterRequest:display:updated","update"),r.default.logEvent("Contact filter updated")),this.popups.updateFilter.visible=!1}))},onCreateFilter(){"create"===this.display?this.popups.saveFilter.visible=!0:this.popups.updateFilter.visible=!0},onDeleteFilter(e){this.onPopupRemoveDisplay(this.modelValue.filter_id,e)},onCancelFilter(){this.showSavedFilters=!0,this.$emit("filterRequest:display:updated","create"),this.$emit("filterRequest:filter:reset")},onStartFilter(){this.$pluginExists("urn:crisp.im:people:0")?this.showSavedFilters=!1:(c.default.show({pluginName:"CRM",pluginUrn:"urn:crisp.im:people:0",plan:"pro"}),this.switchBackToMainWindow())},onPopupRemoveDisplay(e,t){t&&t.stopPropagation(),this.popups.removeFilter.filterId=e,this.popups.removeFilter.visible=!0},onPopupRemoveHide(){this.popups.removeFilter.filterId=null,this.popups.removeFilter.visible=!1}}};t.default=f},b281:function(e,t,i){"use strict";i.r(t);var o=i("6b21"),a=i("f2ab3");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("2f12");a["default"].render=o["render"],t["default"]=a["default"]},b382:function(e,t,i){"use strict";var o=i("e093");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},b475:function(e,t,i){"use strict";var o=i("39a6");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},b6ca:function(e,t,i){"use strict";var o=i("be21");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},b768:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-profile-item-data{padding:7px 0 7px 15px;min-height:46px;font-size:14px}.c-profile-item-data,.c-profile-item-data .c-profile-item-data__key,.c-profile-item-data .c-profile-item-data__value{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input,.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__text,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__input,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__text{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid transparent;font-size:14px}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__text,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__text{color:#75869c;padding:0 8px;line-height:18px}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__input{border-color:#fff;color:#1c293b;padding:8px 12px;outline:none;-webkit-transition:all .1s linear;transition:all .1s linear}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input::-webkit-input-placeholder,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__input::-webkit-input-placeholder{color:#75869c}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input::-moz-placeholder,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__input::-moz-placeholder{color:#75869c}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input::-ms-input-placeholder,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__input::-ms-input-placeholder{color:#75869c}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input::placeholder,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__input::placeholder{color:#75869c}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input:hover,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__input:hover{border-color:#eff3f6;background-color:#fafbfc}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input:focus,.c-profile-item-data .c-profile-item-data__value .c-profile-item-data__input:focus{border-color:rgba(168,198,223,.75)}.c-profile-item-data .c-profile-item-data__key{border-right:1px solid #eff3f6;margin-right:10px;padding-right:8px;-webkit-box-flex:0.4;-ms-flex:0.4;flex:0.4}.c-profile-item-data .c-profile-item-data__key .c-profile-item-data__input{color:#1c293b}.c-profile-item-data .c-profile-item-data__value{-webkit-box-flex:0.6;-ms-flex:0.6;flex:0.6}.c-profile-item-data .c-profile-item-data__action{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:65px}.c-profile-item-data .c-profile-item-data__action .c-profile-item-data__remove{visibility:hidden;height:18px}.c-profile-item-data .c-profile-item-data__suggestions{position:absolute;top:100%;left:15px;right:calc(60% + 25px);z-index:22;overflow-x:hidden;overflow-y:auto;margin-top:-8px;padding:6px 0;max-height:150px;border:1px solid rgba(168,198,223,.75);border-bottom-right-radius:2px;border-bottom-left-radius:2px;background-color:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(117,134,156,.1);box-shadow:0 2px 2px 0 rgba(117,134,156,.1);-webkit-animation-name:translateBottomToTop;animation-name:translateBottomToTop;-webkit-animation-duration:.25s;animation-duration:.25s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion{font-size:13px;line-height:19px;padding:4px 10px;background-color:#fff;-webkit-transition:all 25ms linear;transition:all 25ms linear;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion:active,.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion:hover{background-color:#0093ee}.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion:active .c-profile-item-data__suggestion-text,.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion:hover .c-profile-item-data__suggestion-text{color:#fff}.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion:active .c-profile-item-data__suggestion-forget,.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion:hover .c-profile-item-data__suggestion-forget{fill:#fff;display:block}.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion:active{background-color:#008adf;-webkit-transition:background-color 50ms linear;transition:background-color 50ms linear}.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion .c-profile-item-data__suggestion-text{-webkit-box-flex:1;-ms-flex:1;flex:1}.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion .c-profile-item-data__suggestion-forget{fill:#000;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:6px;display:none;cursor:pointer}.c-profile-item-data .c-profile-item-data__suggestions .c-profile-item-data__suggestion .c-profile-item-data__suggestion-forget--pending{pointer-events:none;opacity:.5}.c-profile-item-data--has-submit .c-profile-item-data__key .c-profile-item-data__input,.c-profile-item-data--has-submit .c-profile-item-data__value .c-profile-item-data__input{border-color:#eff3f6;background-color:#fafbfc}.c-profile-item-data:hover .c-profile-item-data__action .c-profile-item-data__remove{visibility:visible}",""]),e.exports=t},b919:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={methods:{getFieldStyle(e){return this.fields[e]?{minWidth:this.fields[e].minWidth,width:this.fields[e].width}:{}}}};t.default=o},bba9:function(e,t,i){var o=i("eeab");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("2143d32a",o,!0,{sourceMap:!1,shadowMode:!1})},bdf4:function(e,t,i){"use strict";var o=i("fdc9");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},be21:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=r;var o=i("7a23");const a={class:"c-profile-card-history"},n={key:0,class:"c-profile-card-history__metrics"},c={key:1,class:"c-profile-card-history__pages"};function r(e,t,i,r,l,s){const d=(0,o.resolveComponent)("base-pages"),p=(0,o.resolveComponent)("profile-item-empty"),m=(0,o.resolveDirective)("crisp-ripple");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[e.$slots.metrics?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.renderSlot)(e.$slots,"metrics")])):(0,o.createCommentVNode)("",!0),i.pages&&i.pages.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createVNode)(d,{"max-pages":l.maxPages,pages:i.pages,"website-id":i.websiteId},null,8,["max-pages","pages","website-id"])])):((0,o.openBlock)(),(0,o.createBlock)(p,{key:2,title:e.$t("CONTACTS.PROFILE.BOXES.PAGES.EMPTY")},null,8,["title"])),i.pages.length>l.maxPages?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:3,class:"c-profile-card-history__more",onClick:t[0]||(t[0]=(...e)=>s.onLoadMorePages&&s.onLoadMorePages(...e))},[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.PROFILE.BOXES.PAGES.MORE")),1)])),[[m]]):(0,o.createCommentVNode)("",!0)])}},c104:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-profile-card-data{position:relative}.c-profile-card-data .c-profile-card-data__items .c-profile-card-data__item{border-bottom:1px solid rgba(168,198,223,.25)}.c-profile-card-data .c-profile-card-data__items .c-profile-card-data__item:last-of-type{border-bottom:none}.c-profile-card-data .c-profile-card-data__items--add{border-top:1px solid rgba(168,198,223,.25)}.c-profile-card-data .c-profile-card-data__items-scroll{overflow-x:hidden;overflow-y:auto;max-height:330px}.c-profile-card-data .c-profile-card-data__empty{padding:14px 0;color:#75869c;text-align:center;font-style:italic;font-size:13.5px}",""]),e.exports=t},c684:function(e,t,i){"use strict";var o=i("d5ff");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},c70c:function(e,t,i){"use strict";var o=i("a313");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},c8b2:function(e,t,i){"use strict";i.r(t);var o=i("db5e"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},c8b5b:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'.c-magic-map-marker{position:relative}.c-magic-map-marker .c-magic-map-marker__circle{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:100%;background-color:hsla(0,0%,100%,.85);cursor:pointer}.c-magic-map-marker .c-magic-map-marker__circle:before{position:absolute;left:0;z-index:3;border-radius:100%;background-color:hsla(0,0%,100%,.85);content:"";-webkit-animation:visitorsRipple 2s linear infinite;animation:visitorsRipple 2s linear infinite;will-change:transform opacity}.c-magic-map-marker .c-magic-map-marker__circle .c-magic-map-marker__count{position:absolute;color:#1c293b;font-size:16px}.c-magic-map-marker .c-magic-map-marker__circle .c-magic-map-marker__avatar,.c-magic-map-marker .c-magic-map-marker__circle .c-magic-map-marker__count{z-index:3;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip{position:absolute;left:50%;display:none;margin-top:calc(100% + 24px);border-radius:2px;background-color:#fff;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.11);box-shadow:0 2px 6px 0 rgba(0,0,0,.11);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation-name:fadeIn;animation-name:fadeIn;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__arrow{position:absolute;top:1px;left:50%;margin-left:9px}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__arrow:after,.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__arrow:before{position:absolute;right:0;width:0;height:12px;border-right:9px solid transparent;border-left:9px solid transparent;content:""}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__arrow:before{bottom:1px;z-index:1;border-bottom:7px solid #fff}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__arrow:after{bottom:0;z-index:2;border-bottom:7px solid #fff}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:14px 18px;color:#1c293b;text-align:center;font-weight:700;font-size:13px}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__content .c-magic-map-marker__content-location{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__content .c-magic-map-marker__flag{display:inline-block;margin-right:6px}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__content .c-magic-map-marker__name{display:inline-block;overflow:hidden;margin-left:6px;white-space:nowrap}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__content .c-magic-map-marker__content-button{margin-top:14px;padding-top:8px;padding-bottom:10px;min-width:180px}.c-magic-map-marker .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip .c-magic-map-marker__users{margin-top:4px;color:#75869c;font-size:12px}.c-magic-map-marker:hover .c-magic-map-marker__tooltip-wrapper .c-magic-map-marker__tooltip{display:block}.c-magic-map-marker--mini .c-magic-map-marker__circle,.c-magic-map-marker--mini .c-magic-map-marker__circle .c-magic-map-marker__circle-wrapper,.c-magic-map-marker--mini .c-magic-map-marker__circle:before{width:16px;height:16px}.c-magic-map-marker--mini .c-magic-map-marker__tooltip-wrapper{padding-top:24px}.c-magic-map-marker--large{margin-top:-8px;margin-left:-8px}.c-magic-map-marker--large .c-magic-map-marker__circle,.c-magic-map-marker--large .c-magic-map-marker__circle .c-magic-map-marker__circle-wrapper,.c-magic-map-marker--large .c-magic-map-marker__circle:before{width:36px;height:36px}.c-magic-map-marker--large .c-magic-map-marker__tooltip-wrapper{padding-top:4px}.c-magic-map-marker--loading .c-magic-map-marker__circle{opacity:.65}',""]),e.exports=t},c983:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var o=i("7a23");const a={class:"c-contacts-profile"};function n(e,t,i,n,c,r){const l=(0,o.resolveComponent)("base-icon"),s=(0,o.resolveComponent)("profile-box");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("a",{class:"c-contacts-profile__back",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},[(0,o.createVNode)(l,{class:"c-contacts-profile__back-icon",name:"arrow_back_ios",size:"20px"})]),(0,o.createVNode)(s,{class:"c-contacts-profile__box","website-id":e.websiteId,"people-id":e.peopleId},null,8,["website-id","people-id"])])}},ca9a:function(e,t,i){"use strict";i("79f0")},ca9c:function(e,t,i){"use strict";i.r(t);var o=i("661a"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},cb35:function(e,t,i){"use strict";i("4023")},cd02:function(e,t,i){"use strict";i.r(t);var o=i("c70c"),a=i("f7be");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("576a");a["default"].render=o["render"],t["default"]=a["default"]},cd0b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{city:{type:String,default:null},count:{type:Number,default:0},index:{type:Number,default:null},mod:{type:Number,default:0},country:{type:String,default:null},tooltipVisible:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},point:{type:Object,default:()=>({})},visitor:{type:Object,default:()=>({})}},data(){return{displayTooltip:!1}},computed:{size(){return this.visitor&&this.visitor.session_id||this.count>1?"large":"mini"}},methods:{onCircleMouseEnter(){this.displayTooltip=!0},onCircleMouseLeave(){this.displayTooltip=!1}}};t.default=o},ce51:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("6a84"));function a(e){return e&&e.__esModule?e:{default:e}}const n=100;var c={props:{hasRemove:{type:Boolean,default:!0},hasSubmit:{type:Boolean,default:!1},fieldKey:{type:String,default:null},fieldValue:{type:[String,Number,Boolean],default:""},websiteId:{type:String,default:""}},emits:["add","update","remove"],data(){return{forgettingSuggestion:!1,lastSavedValue:"",newKey:"",newValue:"",hasFocus:!1}},computed:{value:{get(){return this.lastSavedValue.toString()},set(e){this.lastSavedValue=e.toString()}},suggestions(){return this.hasSubmit?this.$store.getters["data/getKeys"](this.websiteId,"people"):[]},computedSuggestions(){return this.suggestions.map(e=>e.key).filter(e=>e.toLowerCase().startsWith(this.newKey.toLowerCase())&&e.toLowerCase()!==this.newKey.toLowerCase())}},created(){this.value=this.fieldValue},mounted(){this.hasSubmit&&(this.$refs.inputKey.focus(),this.acquireDataKeys())},methods:{acquireDataKeys(){this.$store.dispatch("data/acquireKeys",{websiteId:this.websiteId,type:"people"})},getValue(e=null){let t=e;return null===t&&(t=this.newValue.trim()),t&&"string"===typeof t&&("false"===t?t=!1:"true"===t?t=!0:!1===isNaN(t)&&(t=Number(t))),t},onFocus(){setTimeout(()=>{this.hasFocus=!0},n)},onBlur(){setTimeout(()=>{this.hasFocus=!1},n)},onSuggestionSelect(e){this.newKey=e,this.$refs.inputValue.focus()},onSuggestionForget(e,t){t.stopPropagation(),!0!==this.forgettingSuggestion&&(this.forgettingSuggestion=!0,this.$store.dispatch("data/forgetDataKey",{websiteId:this.websiteId,type:"people",key:e}).catch(()=>(o.default.error("contacts_profile_data_forget_suggest_fail"),Promise.resolve())).then(()=>{this.forgettingSuggestion=!1}))},onSuggestionMousedown(e){e.preventDefault()},onAddData(){const e=this.newKey.trim(),t=this.getValue();e&&t?this.$emit("add",e,t):e?t||this.$refs.inputValue.focus():this.$refs.inputKey.focus()},onFieldValueChange(e){const t=this.fieldKey.trim(),i=this.getValue(e.target.value.trim());if(i&&i!==this.lastSavedValue)this.lastSavedValue=i,this.$emit("update",t,i),"blur"!==e.type&&e.target.blur();else if(!i&&"blur"===e.type){const e=""+this.lastSavedValue;this.value="",this.value=""+e}},onRemoveData(){this.hasRemove&&this.$emit("remove",this.fieldKey)}}};t.default=c},cf66:function(e,t,i){"use strict";i.r(t);var o=i("31dd"),a=i("716a");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("cb35");a["default"].render=o["render"],t["default"]=a["default"]},d1e8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=n;var o=i("7a23");const a={class:"c-profile-card-conversations"};function n(e,t,i,n,c,r){const l=(0,o.resolveComponent)("conversation-menu-item"),s=(0,o.resolveComponent)("profile-item-empty");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[r.conversations&&r.filteredConversations.length>0?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:0},(0,o.renderList)(r.filteredConversations,e=>((0,o.openBlock)(),(0,o.createBlock)(l,{class:"c-profile-card-conversations__conversation",onClick:t=>r.onConversationClick(e.session_id),conversation:e,"conversation-availability":e.availability,"conversation-avatar-url":e.meta.avatar||e.meta.email,"conversation-is-blocked":e.is_blocked,"conversation-is-mentioned":e.mentions&&-1!==e.mentions.indexOf(r.me.user_id),"conversation-last-message":e.last_message,"conversation-nickname":e.meta.nickname,"conversation-state":e.state,key:e.session_id},null,8,["onClick","conversation","conversation-availability","conversation-avatar-url","conversation-is-blocked","conversation-is-mentioned","conversation-last-message","conversation-nickname","conversation-state"]))),128)):((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,title:e.$t("CONTACTS.PROFILE.BOXES.CONVERSATIONS.EMPTY")},null,8,["title"]))])}},d22d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("f7fe")),a=n(i("6a84"));function n(e){return e&&e.__esModule?e:{default:e}}const c=500;var r={data(){return{websiteId:this.$route.params.websiteId,campaignId:this.$route.params.campaignId,initialized:!1,contactsLoading:!1,page:1,searchFilter:null,searchLoading:!1,searchText:"",selectedRows:[],sortField:"active",sortOrder:"descending"}},computed:{profiles(){return this.$store.getters["contacts/getProfiles"]}},methods:{increasePageCount(e){this.page=e?null:this.page+1},loadContacts(e){return this.contactsLoading=!0,e||(this.initialized=!1),this.$store.dispatch("contacts/acquireProfiles",{page:this.page,searchFilter:this.searchFilter,searchText:this.searchText,sortField:this.sortField,sortOrder:this.sortOrder,websiteId:this.websiteId}).then(t=>(this.increasePageCount(t),this.contactsLoading=!1,t&&e?e.complete():e?e.loaded():this.initialized=!0,Promise.resolve())).catch(t=>{425===t.status&&(e&&e.complete(),this.searchFilter&&this.searchFilter.length>0&&a.default.warning("filter_is_too_complex"),this.initialized=!0),this.contactsLoading=!1})},onLoadMoreContacts(e){this.page?!this.contactsLoading&&this.page>1&&this.loadContacts(e):e.complete()},onSearch:(0,o.default)((function(e){this.searchLoading||(this.page=1,this.searchFilter=null,this.searchLoading=!0,this.searchText=e,this.loadContacts().then(()=>{this.searchLoading=!1}),"app.website.contacts.index"===this.$route.name&&(e?this.$router.push({name:"app.website.contacts.index",params:{websiteId:this.websiteId},query:{query:e}}).catch(()=>{}):this.$router.push({name:"app.website.contacts.index",params:{websiteId:this.websiteId}}).catch(()=>{})))}),c),onSortColumn(e,t){this.page=1,this.sortField=e,this.sortOrder=t,this.loadContacts()}}};t.default=r},d38c:function(e,t,i){var o=i("1b57");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("72a8fc74",o,!0,{sourceMap:!1,shadowMode:!1})},d5ff:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=O;var o=i("7a23");const a=(0,o.createElementVNode)("span",{class:"o-table__active"},null,-1),n=(0,o.createElementVNode)("span",{class:"c-contact-table-item__opened"},null,-1),c={class:"c-contact-table-item__custom c-contact-table-item__name"},r={key:0,class:"c-contact-table-item__nickname u-ellipsis"},l={key:1,class:"c-contact-table-item__email u-ellipsis"},s={class:"c-contact-table-item__custom c-contact-table-item__location"},d={key:0,class:"c-contact-table-item__city u-ellipsis"},p={key:1,class:"c-contact-table-item__country u-ellipsis"},m={key:2,class:"c-contact-table-item__unknown u-ellipsis"},f={class:"c-contact-table-item__custom c-contact-table-item__company u-has-tooltip"},u={key:0,class:"c-contact-table-item__details"},_={class:"c-contact-table-item__name u-ellipsis"},b={key:1,class:"c-contact-table-item__unknown u-ellipsis"},g={key:0,class:"c-contact-table-item__custom c-contact-table-item__segments u-has-tooltip"},h=(0,o.createElementVNode)("span",{class:"o-clear"},null,-1),x={key:1,class:"c-contact-table-item__unknown u-ellipsis"},v={class:"c-contact-table-item__custom c-contact-table-item__active u-has-tooltip"},C={key:0,class:"c-contact-table-item__now u-ellipsis"},k={key:1,class:"c-contact-table-item__since u-ellipsis"},y={key:2,class:"c-contact-table-item__last u-ellipsis"},T={key:3,class:"c-contact-table-item__unknown u-ellipsis"},w={class:"c-contact-table-item__custom c-contact-table-item__score"};function O(e,t,i,O,E,N){const S=(0,o.resolveComponent)("field-checkbox"),P=(0,o.resolveComponent)("base-avatar"),I=(0,o.resolveComponent)("base-flag"),A=(0,o.resolveComponent)("base-tooltip"),R=(0,o.resolveComponent)("base-link"),L=(0,o.resolveComponent)("base-tag"),B=(0,o.resolveComponent)("base-availability"),F=(0,o.resolveComponent)("base-rating"),V=(0,o.resolveComponent)("base-button");return(0,o.openBlock)(),(0,o.createElementBlock)("a",{onClick:t[5]||(t[5]=(0,o.withModifiers)((...e)=>N.onGoToProfile&&N.onGoToProfile(...e),["prevent","stop"])),class:(0,o.normalizeClass)(["c-contact-table-item","o-table__tr","o-table__tr--full-height",{"o-table__tr--active":i.active,"c-contact-table-item--opened":i.opened}])},[a,n,(0,o.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td o-table__td--center o-table__td--checkbox o-table__td--no-padding",onClick:t[2]||(t[2]=(0,o.withModifiers)(()=>{},["stop","prevent"])),style:(0,o.normalizeStyle)(e.getFieldStyle("checkbox"))},[(0,o.createVNode)(S,{class:"c-contact-table-item__custom c-contact-table-item__checkbox",modelValue:i.active,"onUpdate:modelValue":t[0]||(t[0]=e=>i.active=e),onChange:N.onCheckboxChange,onClick:t[1]||(t[1]=e=>e.stopPropagation()),name:i.contact.people_id,size:"medium"},null,8,["modelValue","onChange","name"])],4),(0,o.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td o-table__td--no-padding",style:(0,o.normalizeStyle)(e.getFieldStyle("avatar"))},[(0,o.createVNode)(P,{class:"c-contact-table-item__custom c-contact-table-item__avatar","avatar-url":i.contact.person&&i.contact.person.avatar,size:"small"},null,8,["avatar-url"])],4),(0,o.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td",style:(0,o.normalizeStyle)(e.getFieldStyle("name"))},[(0,o.createElementVNode)("div",c,[i.contact.person&&i.contact.person.nickname?((0,o.openBlock)(),(0,o.createElementBlock)("span",r,(0,o.toDisplayString)(i.contact.person.nickname),1)):(0,o.createCommentVNode)("",!0),i.contact.email?((0,o.openBlock)(),(0,o.createElementBlock)("span",l,(0,o.toDisplayString)(i.contact.email),1)):(0,o.createCommentVNode)("",!0)])],4),(0,o.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td",style:(0,o.normalizeStyle)(e.getFieldStyle("location"))},[(0,o.createElementVNode)("div",s,[N.geolocation&&N.geolocation.city?((0,o.openBlock)(),(0,o.createElementBlock)("span",d,(0,o.toDisplayString)(N.geolocation.city),1)):(0,o.createCommentVNode)("",!0),N.geolocation&&N.geolocation.country?((0,o.openBlock)(),(0,o.createElementBlock)("span",p,[(0,o.createVNode)(I,{class:"c-contact-table-item__flag",code:N.geolocation.country,height:"12px",width:"17px"},null,8,["code"]),(0,o.createTextVNode)((0,o.toDisplayString)(e.$filters.format.isoCountry(N.geolocation.country)),1)])):((0,o.openBlock)(),(0,o.createElementBlock)("span",m,(0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")),1))])],4),(0,o.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td",style:(0,o.normalizeStyle)(e.getFieldStyle("company.name"))},[(0,o.createElementVNode)("div",f,[(0,o.createVNode)(A,{direction:"middle",align:"left"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_DEFAULT_COMPANY")),1)]),_:1}),i.contact.company&&i.contact.company.name?((0,o.openBlock)(),(0,o.createElementBlock)("span",u,[(0,o.createElementVNode)("span",_,(0,o.toDisplayString)(i.contact.company.name),1),i.contact.person&&i.contact.person.employment&&i.contact.person.employment.domain?((0,o.openBlock)(),(0,o.createBlock)(R,{key:0,class:"c-contact-table-item__domain u-ellipsis",href:"http://"+i.contact.person.employment.domain},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(i.contact.person.employment.domain),1)]),_:1},8,["href"])):(0,o.createCommentVNode)("",!0)])):((0,o.openBlock)(),(0,o.createElementBlock)("span",b,(0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")),1))])],4),(0,o.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td",style:(0,o.normalizeStyle)(e.getFieldStyle("segments"))},[i.contact.segments&&i.contact.segments.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",g,[(0,o.createVNode)(A,{direction:"middle",align:"left"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_DEFAULT_SEGMENTS")),1)]),_:1}),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(N.displayedSegments,e=>((0,o.openBlock)(),(0,o.createBlock)(L,{class:"c-contact-table-item__tag",key:e,label:e,palette:"segment"},null,8,["label"]))),128)),i.contact.segments.length>E.maxTags?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,class:"c-contact-table-item__more-segments",onClick:t[3]||(t[3]=(0,o.withModifiers)((...e)=>N.onGoToProfile&&N.onGoToProfile(...e),["prevent","stop"]))},(0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_MORE_SEGMENTS")),1)):(0,o.createCommentVNode)("",!0),h])):((0,o.openBlock)(),(0,o.createElementBlock)("div",x,(0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_NO_SEGMENTS")),1))],4),(0,o.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td o-table__td--bold",style:(0,o.normalizeStyle)(e.getFieldStyle("active.last"))},[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(A,{direction:"middle",align:"left"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_DEFAULT_ACTIVE")),1)]),_:1}),i.contact.active.now?((0,o.openBlock)(),(0,o.createElementBlock)("span",C,[(0,o.createVNode)(B,{class:"c-contact-table-item__availability",color:"green",size:"small"}),(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_ACTIVE_ONLINE")),1)])):(0,o.createCommentVNode)("",!0),i.contact.active.now&&i.contact.active.last?((0,o.openBlock)(),(0,o.createElementBlock)("span",k,(0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_ACTIVE_SINCE"))+" "+(0,o.toDisplayString)(e.$filters.date.timeAgo(i.contact.active.last)),1)):i.contact.active.last?((0,o.openBlock)(),(0,o.createElementBlock)("span",y,(0,o.toDisplayString)(e.$filters.date.timeAgo(i.contact.active.last)),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",T,(0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_UNKNOWN")),1))])],4),(0,o.createElementVNode)("div",{class:"c-contact-table-item__td o-table__td o-table__td--center",style:(0,o.normalizeStyle)(e.getFieldStyle("score"))},[(0,o.createElementVNode)("div",w,[(0,o.createVNode)(F,{rating:i.contact.score||0,tooltip:e.$t("TOOLTIPS.CONTACTS_DEFAULT_SCORE"),"tooltip-direction":0!==i.index?"top":"bottom","tooltip-align":"left"},null,8,["rating","tooltip","tooltip-direction"])])],4),(0,o.createElementVNode)("div",{class:"c-contact-table-item__actions c-contact-table-item__td o-table__td o-table__td--right o-table__td--hidden",style:(0,o.normalizeStyle)(e.getFieldStyle("actions"))},[(0,o.createVNode)(V,{class:"c-contact-table-item__action",onClick:t[4]||(t[4]=t=>e.$emit("preview",i.contact.people_id,i.index)),id:i.contact.people_id,loading:E.actionLoading,"left-icon":"open_in_new",size:"small"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.ROW_PREVIEW")),1)]),_:1},8,["id","loading"])],4)],2)}},d7b0:function(e,t,i){var o=i("acad");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("3815c83e",o,!0,{sourceMap:!1,shadowMode:!1})},d80f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={emits:["close","save"],data(){return{currentLabel:"",loading:!1}},methods:{onSave(e=!1){!0!==this.loading&&!0!==e&&(this.loading=!0,this.$emit("save",this.currentLabel,()=>{this.loading=!1}))}}};t.default=o},db5e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{label:{type:String,required:!0},metric:{type:[Number,String],required:!0}}};t.default=o},ddb3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={emits:["close","remove"],data(){return{loading:!1}},methods:{onRemoveSelectedContacts(){!0!==this.loading&&(this.loading=!0,this.$emit("remove",()=>{this.loading=!1}))}}};t.default=o},dddf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("ef0e"));function a(e){return e&&e.__esModule?e:{default:e}}var n={components:{ProfileItemEmpty:o.default},props:{websiteId:{type:String,required:!0},pages:{type:Array,default:null}},data(){return{maxPages:5}},methods:{onLoadMorePages(){this.maxPages=1/0}}};t.default=n},dea1:function(e,t,i){"use strict";i.r(t);var o=i("36f4"),a=i("aebc");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("a6bd8");a["default"].render=o["render"],t["default"]=a["default"]},dfa3:function(e,t,i){"use strict";var o=i("703c");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},e093:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=r;var o=i("7a23");const a={class:"c-profile-item-metric"},n={class:"c-profile-item-metric__metric u-bold"},c={class:"c-profile-item-metric__label"};function r(e,t,i,r,l,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("span",n,(0,o.toDisplayString)(i.metric),1),(0,o.createElementVNode)("span",c,(0,o.toDisplayString)(i.label),1)])}},e389:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-contact-table-item{color:#000;font-size:14px}.c-contact-table-item .c-contact-table-item__unknown{color:#75869c;font-weight:400}.c-contact-table-item .c-contact-table-item__avatar,.c-contact-table-item .c-contact-table-item__checkbox{display:inline-block}.c-contact-table-item .c-contact-table-item__avatar{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.c-contact-table-item .c-contact-table-item__checkbox{width:18px;height:18px}.c-contact-table-item .c-contact-table-item__name{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__name .c-contact-table-item__nickname{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__name .c-contact-table-item__email{color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__location{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__city{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__country{position:relative;padding-left:25px;color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__location .c-contact-table-item__country .c-contact-table-item__flag{position:absolute;left:0;margin-top:-1px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.c-contact-table-item .c-contact-table-item__company,.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details .c-contact-table-item__name{margin-bottom:2px;font-weight:700;font-size:14px}.c-contact-table-item .c-contact-table-item__company .c-contact-table-item__details .c-contact-table-item__domain{color:#75869c;font-size:13px}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__tag{float:left;margin:2px 3px 3px}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__tag:last-of-type{margin-right:0}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__more-segments{display:block;clear:both;margin-left:3px;color:#75869c;font-weight:700;font-size:12px;-webkit-transition:color .1s linear;transition:color .1s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.c-contact-table-item .c-contact-table-item__segments .c-contact-table-item__more-segments:hover{color:#2c405a;text-decoration:underline}.c-contact-table-item .c-contact-table-item__active{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__now{color:#40b630;font-weight:700}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__now .c-contact-table-item__availability{margin-right:5px}.c-contact-table-item .c-contact-table-item__active .c-contact-table-item__since{color:#75869c;font-weight:400;font-size:13px}.c-contact-table-item .c-contact-table-item__actions{opacity:.25;-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.c-contact-table-item:hover .c-contact-table-item__actions{opacity:1}.c-contact-table-item .c-contact-table-item__opened{position:absolute;top:-1px;bottom:-1px;left:0;width:0;background-color:#2c405a;-webkit-transition:width .1s linear;transition:width .1s linear}.c-contact-table-item--opened .c-contact-table-item__opened{width:4px}@media (max-width:90.625em){.c-contact-table-item .c-contact-table-item__actions .c-contact-table-item__action .c-base-button__label{display:none}}",""]),e.exports=t},e65f:function(e,t,i){"use strict";i.r(t);var o=i("fa3a"),a=i("94209");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);a["default"].render=o["render"],t["default"]=a["default"]},e755:function(e,t,i){"use strict";i("6c5a")},ea3f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=b;var o=i("7a23");const a={class:"c-profile-item-data__key"},n={key:0,class:"c-profile-item-data__text u-semibold"},c=["innerHTML"],r=["disabled","placeholder"],l={key:2,class:"c-profile-item-data__suggestions"},s=["onClick"],d=["innerHTML"],p={class:"c-profile-item-data__value"},m=["disabled","placeholder","value"],f=["disabled","placeholder"],u={key:0,class:"c-profile-item-data__action"},_={key:0,class:(0,o.normalizeClass)(["c-profile-item-data__remove","u-has-tooltip"])};function b(e,t,i,b,g,h){const x=(0,o.resolveComponent)("base-icon"),v=(0,o.resolveComponent)("base-tooltip"),C=(0,o.resolveComponent)("base-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["c-profile-item-data","u-select",{"c-profile-item-data--has-submit":i.hasSubmit}])},[(0,o.createElementVNode)("div",a,[i.hasSubmit?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=e=>g.newKey=e),onFocus:t[1]||(t[1]=(...e)=>h.onFocus&&h.onFocus(...e)),onBlur:t[2]||(t[2]=(...e)=>h.onBlur&&h.onBlur(...e)),onKeydown:t[3]||(t[3]=(0,o.withKeys)((...e)=>h.onAddData&&h.onAddData(...e),["enter"])),disabled:g.forgettingSuggestion,placeholder:e.$t("CONTACTS.PROFILE.BOXES.DATA.FORM_KEY_PLACEHOLDER"),class:(0,o.normalizeClass)(["c-profile-item-data__input","c-profile-item-data__input--key","u-semibold"]),ref:"inputKey"},null,40,r)),[[o.vModelText,g.newKey]]):((0,o.openBlock)(),(0,o.createElementBlock)("span",n,[(0,o.createElementVNode)("span",{innerHTML:e.$filters.format.parseText(i.fieldKey)},null,8,c)])),i.hasSubmit&&g.hasFocus&&h.computedSuggestions.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("span",l,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(h.computedSuggestions,i=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"c-profile-item-data__suggestion",onClick:e=>h.onSuggestionSelect(i),onMousedown:t[4]||(t[4]=(...e)=>h.onSuggestionMousedown&&h.onSuggestionMousedown(...e)),key:i},[(0,o.createElementVNode)("div",{class:"c-profile-item-data__suggestion-text u-ellipsis",innerHTML:e.$filters.format.emphasizeWithQuery(i,g.newKey)},null,8,d),(0,o.createVNode)(x,{onClick:h.onSuggestionForget,id:i,class:(0,o.normalizeClass)(["c-profile-item-data__suggestion-forget",{"c-profile-item-data__suggestion-forget--pending":g.forgettingSuggestion}]),name:"clear",size:"14px"},null,8,["onClick","id","class"])],40,s))),128))])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",p,[i.hasSubmit?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,"onUpdate:modelValue":t[7]||(t[7]=e=>g.newValue=e),onKeyup:t[8]||(t[8]=(0,o.withKeys)((...e)=>h.onAddData&&h.onAddData(...e),["enter"])),disabled:g.forgettingSuggestion,placeholder:e.$t("CONTACTS.PROFILE.BOXES.DATA.FORM_VALUE_PLACEHOLDER"),class:(0,o.normalizeClass)(["c-profile-item-data__input","c-profile-item-data__input--value"]),ref:"inputValue"},null,40,f)),[[o.vModelText,g.newValue]]):((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:0,class:"c-profile-item-data__input",onBlur:t[5]||(t[5]=(...e)=>h.onFieldValueChange&&h.onFieldValueChange(...e)),onKeyup:t[6]||(t[6]=(0,o.withKeys)((...e)=>h.onFieldValueChange&&h.onFieldValueChange(...e),["enter"])),disabled:g.forgettingSuggestion,placeholder:e.$t("CONTACTS.PROFILE.BOXES.DATA.FORM_VALUE_PLACEHOLDER"),value:h.value},null,40,m))]),i.hasRemove||i.hasSubmit?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,[i.hasRemove?((0,o.openBlock)(),(0,o.createElementBlock)("span",_,[(0,o.createVNode)(x,{onClick:h.onRemoveData,color:"#e0102b",cursor:"pointer",name:"cancel",size:"18px"},null,8,["onClick"]),t[9]||((0,o.setBlockTracking)(-1),t[9]=(0,o.createVNode)(v,{direction:"middle",align:"left"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("TOOLTIPS.CONTACTS_PROFILE_DATA_REMOVE")),1)]),_:1}),(0,o.setBlockTracking)(1),t[9])])):(0,o.createCommentVNode)("",!0),i.hasSubmit?((0,o.openBlock)(),(0,o.createBlock)(C,{key:1,class:"c-profile-item-data__add",onClick:h.onAddData,"left-icon":"add_circle",size:"small"},null,8,["onClick"])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)],2)}},eda1:function(e,t,i){"use strict";i.r(t);var o=i("463b"),a=i("af66");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);a["default"].render=o["render"],t["default"]=a["default"]},ee8d:function(e,t,i){"use strict";i.r(t);var o=i("42a9"),a=i("ad2c");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("8d29");a["default"].render=o["render"],t["default"]=a["default"]},eeab:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".c-profile-item-metric{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:12px 10px}.c-profile-item-metric .c-profile-item-metric__metric{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-bottom:-3px;color:#2c405a;font-size:24px;line-height:30px}.c-profile-item-metric .c-profile-item-metric__label{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;color:#75869c;font-size:14px}",""]),e.exports=t},eed8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("6a84")),a=n(i("f9db"));function n(e){return e&&e.__esModule?e:{default:e}}var c={components:{ProfileItemData:a.default},props:{websiteId:{type:String,required:!0},peopleId:{type:String,required:!0},addActivated:{type:Boolean,default:!1},data:{type:Array,default:null}},emits:["add"],methods:{updateCustomData(e,t){return this.$store.dispatch("contacts/updateProfileData",{websiteId:this.websiteId,peopleId:this.peopleId,key:e,value:t})},onDatumAdded(e,t){e&&t?(this.updateCustomData(e,t).then(()=>{o.default.success("contacts_profile_data_added")}).catch(()=>{}),this.$emit("add",!1)):e||t||this.$emit("add",!1)},onDatumUpdated(e,t){e&&t&&this.updateCustomData(e,t).then(()=>{o.default.success("contacts_profile_data_added")})},onDatumRemoved(e){this.updateCustomData(e,null).then(()=>{o.default.success("contacts_profile_data_removed")})}}};t.default=c},efbb:function(e,t,i){var o=i("b768");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("26854a31",o,!0,{sourceMap:!1,shadowMode:!1})},f2ab3:function(e,t,i){"use strict";i.r(t);var o=i("cd0b"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},f477:function(e,t,i){"use strict";i.r(t);var o=i("19e6"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},f4c41:function(e,t,i){(function(t){var i="Expected a function",o="__lodash_hash_undefined__",a=1/0,n=9007199254740991,c="[object Function]",r="[object GeneratorFunction]",l="[object Symbol]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,p=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/[\\^$.*+?()[\]{}|]/g,u=/\\(\\)?/g,_=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,g="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,x=g||h||Function("return this")();function v(e,t){return null==e?void 0:e[t]}function C(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(i){}return t}var k=Array.prototype,y=Function.prototype,T=Object.prototype,w=x["__core-js_shared__"],O=function(){var e=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),E=y.toString,N=T.hasOwnProperty,S=T.toString,P=RegExp("^"+E.call(N).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=x.Symbol,A=k.splice,R=le(x,"Map"),L=le(Object,"create"),B=I?I.prototype:void 0,F=B?B.toString:void 0;function V(e){var t=-1,i=e?e.length:0;this.clear();while(++t<i){var o=e[t];this.set(o[0],o[1])}}function $(){this.__data__=L?L(null):{}}function M(e){return this.has(e)&&delete this.__data__[e]}function D(e){var t=this.__data__;if(L){var i=t[e];return i===o?void 0:i}return N.call(t,e)?t[e]:void 0}function U(e){var t=this.__data__;return L?void 0!==t[e]:N.call(t,e)}function z(e,t){var i=this.__data__;return i[e]=L&&void 0===t?o:t,this}function q(e){var t=-1,i=e?e.length:0;this.clear();while(++t<i){var o=e[t];this.set(o[0],o[1])}}function G(){this.__data__=[]}function j(e){var t=this.__data__,i=ie(t,e);if(i<0)return!1;var o=t.length-1;return i==o?t.pop():A.call(t,i,1),!0}function X(e){var t=this.__data__,i=ie(t,e);return i<0?void 0:t[i][1]}function H(e){return ie(this.__data__,e)>-1}function K(e,t){var i=this.__data__,o=ie(i,e);return o<0?i.push([e,t]):i[o][1]=t,this}function Y(e){var t=-1,i=e?e.length:0;this.clear();while(++t<i){var o=e[t];this.set(o[0],o[1])}}function W(){this.__data__={hash:new V,map:new(R||q),string:new V}}function J(e){return re(this,e)["delete"](e)}function Q(e){return re(this,e).get(e)}function Z(e){return re(this,e).has(e)}function ee(e,t){return re(this,e).set(e,t),this}function te(e,t,i){var o=e[t];N.call(e,t)&&ge(o,i)&&(void 0!==i||t in e)||(e[t]=i)}function ie(e,t){var i=e.length;while(i--)if(ge(e[i][0],t))return i;return-1}function oe(e){if(!ve(e)||me(e))return!1;var t=xe(e)||C(e)?P:_;return t.test(_e(e))}function ae(e,t,i,o){if(!ve(e))return e;t=de(t,e)?[t]:ce(t);var a=-1,n=t.length,c=n-1,r=e;while(null!=r&&++a<n){var l=ue(t[a]),s=i;if(a!=c){var d=r[l];s=o?o(d,l,r):void 0,void 0===s&&(s=ve(d)?d:se(t[a+1])?[]:{})}te(r,l,s),r=r[l]}return e}function ne(e){if("string"==typeof e)return e;if(ke(e))return F?F.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}function ce(e){return he(e)?e:fe(e)}function re(e,t){var i=e.__data__;return pe(t)?i["string"==typeof t?"string":"hash"]:i.map}function le(e,t){var i=v(e,t);return oe(i)?i:void 0}function se(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||b.test(e))&&e>-1&&e%1==0&&e<t}function de(e,t){if(he(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!ke(e))||(d.test(e)||!s.test(e)||null!=t&&e in Object(t))}function pe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function me(e){return!!O&&O in e}V.prototype.clear=$,V.prototype["delete"]=M,V.prototype.get=D,V.prototype.has=U,V.prototype.set=z,q.prototype.clear=G,q.prototype["delete"]=j,q.prototype.get=X,q.prototype.has=H,q.prototype.set=K,Y.prototype.clear=W,Y.prototype["delete"]=J,Y.prototype.get=Q,Y.prototype.has=Z,Y.prototype.set=ee;var fe=be((function(e){e=ye(e);var t=[];return p.test(e)&&t.push(""),e.replace(m,(function(e,i,o,a){t.push(o?a.replace(u,"$1"):i||e)})),t}));function ue(e){if("string"==typeof e||ke(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function _e(e){if(null!=e){try{return E.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function be(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var o=function(){var i=arguments,a=t?t.apply(this,i):i[0],n=o.cache;if(n.has(a))return n.get(a);var c=e.apply(this,i);return o.cache=n.set(a,c),c};return o.cache=new(be.Cache||Y),o}function ge(e,t){return e===t||e!==e&&t!==t}be.Cache=Y;var he=Array.isArray;function xe(e){var t=ve(e)?S.call(e):"";return t==c||t==r}function ve(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ce(e){return!!e&&"object"==typeof e}function ke(e){return"symbol"==typeof e||Ce(e)&&S.call(e)==l}function ye(e){return null==e?"":ne(e)}function Te(e,t,i){return null==e?e:ae(e,t,i)}e.exports=Te}).call(this,i("c8ba"))},f7be:function(e,t,i){"use strict";i.r(t);var o=i("22dc"),a=i.n(o);for(var n in i.d(t,"default",(function(){return a.a})),o)["default","default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n)},f7f3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=a;var o=i("7a23");function a(e,t,i,a,n,c){const r=(0,o.resolveComponent)("field-input"),l=(0,o.resolveComponent)("base-button"),s=(0,o.resolveComponent)("base-popup"),d=(0,o.resolveComponent)("limit-reached"),p=(0,o.resolveComponent)("validation-observer");return(0,o.openBlock)(),(0,o.createBlock)(p,{as:""},{default:(0,o.withCtx)(({meta:i})=>["new"===n.step?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,onClose:t[3]||(t[3]=t=>e.$emit("close")),onEnter:e=>c.onCreateNewContact(!i.valid),parent:"contacts"},{actions:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{onClick:t[2]||(t[2]=t=>e.$emit("close")),color:"black",reverse:""},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("BUTTONS.CANCEL")),1)]),_:1}),(0,o.createVNode)(l,{onClick:e=>c.onCreateNewContact(!i.valid),disabled:!i.valid,loading:n.loading,"left-icon":"add_circle"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.GENERIC.POPUPS_NEW_CONTACT_PROCEED")),1)]),_:2},1032,["onClick","disabled","loading"])]),default:(0,o.withCtx)(()=>[(0,o.createVNode)(r,{class:"u-mb20",modelValue:n.nickname,"onUpdate:modelValue":t[0]||(t[0]=e=>n.nickname=e),disabled:n.loading,label:e.$t("CONTACTS.GENERIC.POPUPS_NEW_CONTACT_NAME_LABEL"),placeholder:e.$t("CONTACTS.GENERIC.POPUPS_NEW_CONTACT_NAME_PLACEHOLDER"),name:"nickname",rules:"required|max:100",size:"medium",autofocus:""},null,8,["modelValue","disabled","label","placeholder"]),(0,o.createVNode)(r,{modelValue:n.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e),disabled:n.loading,label:e.$t("CONTACTS.GENERIC.POPUPS_NEW_CONTACT_EMAIL_LABEL"),placeholder:e.$t("CONTACTS.GENERIC.POPUPS_NEW_CONTACT_EMAIL_PLACEHOLDER"),name:"email",rules:"required|email|max:100",size:"medium"},null,8,["modelValue","disabled","label","placeholder"])]),_:2},1032,["onEnter"])):"upgrade"===n.step?((0,o.openBlock)(),(0,o.createBlock)(d,{key:1,onClose:t[4]||(t[4]=t=>e.$emit("close")),onUpgrade:t[5]||(t[5]=e=>c.onUpgrade()),"description-text":e.$t("CONTACTS.GENERIC.POPUPS_NEW_CONTACT_UPGRADE_DESCRIPTION"),"action-label":e.$t("CONTACTS.GENERIC.POPUPS_NEW_CONTACT_UPGRADE_PROCEED"),parent:"contacts"},null,8,["description-text","action-label"])):(0,o.createCommentVNode)("",!0)]),_:1})}},f878:function(e,t,i){"use strict";var o=i("b235");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},f887:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=C(i("cd3f")),a=C(i("6a84")),n=C(i("8b30")),c=C(i("cf66")),r=C(i("84dd")),l=C(i("70bc")),s=C(i("5cc0")),d=C(i("4eea")),p=C(i("e65f")),m=C(i("9aa8")),f=C(i("737d")),u=C(i("9ee9")),_=C(i("fbf6")),b=C(i("0bb7")),g=C(i("09ff")),h=C(i("0315")),x=C(i("d22d")),v=C(i("8232"));function C(e){return e&&e.__esModule?e:{default:e}}const k=5,y=.95;var T={components:{CommonTable:n.default,ContactSegmentation:c.default,ContactTableItem:r.default,ProfileBox:l.default,ExportContacts:s.default,ImportContacts:d.default,NewContact:p.default,RemoveFilteredContacts:m.default,RemoveSelectedContacts:f.default},mixins:[x.default,v.default],data(){return{websiteId:this.$route.params.websiteId,selectedPeopleId:"",selectedPeopleIndex:-1,requestDisplay:"create",requestSaving:!1,limitNavigating:!1,banners:{import:!1,limitAlmostReached:!1,limitReached:!1},popups:{exportContacts:{visible:!1},importContacts:{visible:!1},newContact:{visible:!1},removeFilteredContacts:{visible:!1},removeSelectedContacts:{visible:!1}}}},computed:{filterRequest:{get(){return this.segmentation},set(e){this.$store.commit("contacts/setSegmentation",{value:e})}},hotkeys(){return this.$store.getters["hotkeys/getActiveHotkeys"]("contacts")},buttonItems(){let e=[{icon:"cloud_upload",id:"export_contact_profiles",label:this.$t("CONTACTS.DEFAULT.CONTROLS_ACTIONS_EXPORT")},{icon:"cloud_download",id:"import_contact_profiles",label:this.$t("CONTACTS.DEFAULT.CONTROLS_ACTIONS_IMPORT")}];return this.searchFilter&&this.profiles.length>0&&e.unshift({icon:"close",id:"remove_filtered_profiles",label:this.$t("CONTACTS.DEFAULT.CONTROLS_ACTIONS_REMOVE_FILTERED"),red:!0}),this.selectedRows.length>0&&e.unshift({icon:"close",id:"remove_selected_profiles",label:this.$t("CONTACTS.DEFAULT.CONTROLS_ACTIONS_REMOVE_SELECTED"),red:!0}),e},emptySpotDescription(){return this.searchText||this.filterRequest.filter.length>0?this.$t("CONTACTS.DEFAULT.EMPTY_NO_CONTACT_SEARCH_LABEL"):this.$t("CONTACTS.DEFAULT.EMPTY_NO_CONTACT_DEFAULT_LABEL")},emptySpotTitle(){return this.searchText||this.filterRequest.filter.length>0?this.$t("CONTACTS.DEFAULT.EMPTY_NO_CONTACT_SEARCH_TITLE"):this.$t("CONTACTS.DEFAULT.EMPTY_NO_CONTACT_DEFAULT_TITLE")},fields(){let e=!0;return(this.searchText||this.filterRequest.filter.length>0)&&(e=!1),{checkbox:{alignment:"center",noPadding:!0,width:"65px"},avatar:{noPadding:!0,width:"30px"},name:{sortable:e,sortFieldId:"nickname",title:this.$t("CONTACTS.DEFAULT.HEAD_FIRST_NAME"),minWidth:"100px",width:"15%"},location:{sortable:e,sortFieldId:"country",title:this.$t("CONTACTS.DEFAULT.HEAD_LOCATION"),minWidth:"100px",width:"15%"},"company.name":{sortable:e,sortFieldId:"company_name",title:this.$t("CONTACTS.DEFAULT.HEAD_COMPANY"),minWidth:"100px",width:"10%"},segments:{sortable:!1,sortFieldId:"segment",title:this.$t("CONTACTS.DEFAULT.HEAD_SEGMENTS"),minWidth:"100px",width:"18%"},"active.last":{sortable:e,sortFieldId:"active",title:this.$t("CONTACTS.DEFAULT.HEAD_LAST_ACTIVE"),minWidth:"100px",width:"12%"},score:{alignment:"center",sortable:e,sortFieldId:"score",title:this.$t("CONTACTS.DEFAULT.HEAD_SCORE"),minWidth:"100px",width:"13%"},actions:{alignment:"right",overflow:"hidden",title:this.$t("CONTACTS.DEFAULT.CONTROLS_ACTIONS"),minWidth:"100px",width:"14%"}}},title(){let e="";return this.searchFilter||this.searchText?e+=this.profiles.length+"+ ":this.stats.total&&(this.selectedRows.length>0&&(e+=this.selectedRows.length+" / "),e+=this.stats.total+" "),e+=this.$t("CONTACTS.DEFAULT.TITLE"),e},segmentation(){return this.$store.getters["contacts/getSegmentation"]},stats(){return this.$store.getters["contacts/getStats"]},usageLimits(){return this.$store.getters["websites/getUsageLimits"]}},watch:{$route:{immediate:!0,handler(e){e.name.startsWith("app.website.contacts")&&b.default.update(this.$t("TITLES.CONTACTS")),"app.website.contacts.index"!==e.name&&("app.website.contacts.profile"===e.name?this.segmentation&&0===this.segmentation.filter.length&&this.$store.commit("contacts/resetSegmentation"):this.$store.commit("contacts/resetSegmentation"))}}},created(){this.$store.commit("hotkeys/bindHotkeys",{parent:"contacts",value:{esc:this.onClosePreview,left:this.onPreviousPreview,right:this.onNextPreview}});const e=this.$route.query.query;e&&(this.searchText=e),this.segmentation&&this.segmentation.filter.length>0&&(this.requestDisplay="update"),this.loadContactsForFilter(),this.loadAllDependencies(),h.default.logEvent("Contacts opened")},methods:{loadContactsForFilter(){this.searchFilter=(this.segmentation.filter||[]).length>0?JSON.stringify(this.segmentation.filter):null,this.page=1,this.loadContacts().then(()=>{this.shouldDisplayImportBanner()})},loadAllDependencies(){Promise.resolve().then(()=>this.$store.dispatch("contacts/initializeStats",{websiteId:this.websiteId})).then(()=>this.$store.dispatch("websites/acquireUsageLimits",{websiteId:this.websiteId})).then(()=>{this.shouldDisplayLimitBanner()})},shouldDisplayImportBanner(){0===this.filterRequest.filter.length&&!this.searchText&&this.profiles.length<=k?this.banners.import=!0:this.banners.import=!1},shouldDisplayLimitBanner(){let e=this.usageLimits.find(e=>e.namespace&&"people"===e.namespace.type&&"profiles"===e.namespace.classifier);if(e&&e.limit&&e.limit.total>0&&e.limit.usage>0){if(e.limit.usage>=e.limit.total)return void(this.banners.limitReached=!0);if(e.limit.usage<e.limit.total){let t=e.limit.usage/e.limit.total;if(t>=y)return void(this.banners.limitAlmostReached=!0)}}this.banners.limitAlmostReached=!1,this.banners.limitReached=!1},handleErrorReason(e=null,t=!1){(e&&402===e.status||!0===t)&&u.default.show({pluginName:"CRM",pluginUrn:"urn:crisp.im:people:0",plan:"pro"})},onButtonItemClick(e){switch(e){case"export_contact_profiles":this.popups.exportContacts.visible=!0;break;case"import_contact_profiles":this.$pluginExists("urn:crisp.im:user-import:0")?this.popups.importContacts.visible=!0:u.default.show({pluginName:"User Import",pluginUrn:"urn:crisp.im:user-import:0",plan:"unlimited"});break;case"remove_filtered_profiles":this.popups.removeFilteredContacts.visible=!0;break;case"remove_selected_profiles":this.popups.removeSelectedContacts.visible=!0;break}},onCheckboxChange(e,t){if(e)this.selectedRows.push(t);else{const e=this.selectedRows.findIndex(e=>e===t);this.selectedRows.splice(e,1)}},onClosePreview(){this.selectedPeopleId=null,this.selectedPeopleIndex=-1},onBannerClose(e){this.banners[e]=!1},onBannerAction(e){switch(e){case"limitAlmostReached":case"limitReached":this.limitNavigating=!0,this.$router.push({name:"app.settings.websites.one",params:{websiteId:this.websiteId,usageNamespace:"people:profiles"}}).catch(()=>{});break;case"import":this.popups.importContacts.visible=!0;break}},onFilterRequestCreate(e,t,i){let n=null;this.$store.commit("contacts/setSegmentationLabel",{value:e}),this.requestSaving=!0,this.$store.dispatch("filters/createFilter",{websiteId:this.websiteId,type:"people",value:(0,o.default)(this.filterRequest)}).then(e=>(a.default.success("inbox_custom_filter_saved"),this.$store.commit("contacts/setSegmentationFilterId",{value:e.filter_id}),Promise.resolve())).catch(e=>(n=e,Promise.resolve())).then(()=>{this.requestSaving=!1,t(),i(n)})},onFilterRequestUpdate(e,t,i){let n=null;this.requestSaving=!0,this.$store.dispatch("filters/updateFilter",{websiteId:this.websiteId,type:"people",value:(0,o.default)(this.filterRequest)}).then(()=>(a.default.success("inbox_custom_filter_saved"),Promise.resolve())).catch(e=>(n=e,Promise.resolve())).then(()=>{this.requestSaving=!1,t(),i(n)})},onFilterRequestUpdated(e){this.$store.commit("contacts/setSegmentation",{value:e}),this.$nextTick(()=>{this.loadContactsForFilter()})},onFilterRequestDisplayUpdated(e){this.selectedRows=[],this.requestDisplay=e},onFilterRequestFilterReset(){this.$store.commit("contacts/resetSegmentation"),this.loadContactsForFilter()},onFilterRequestFilterUpdated(e){this.$store.commit("contacts/setSegmentationFilter",{value:e}),this.$nextTick(()=>{this.loadContactsForFilter()})},onFilterRequestLabelUpdated(e){this.$store.commit("contacts/setSegmentationLabel",{value:e})},onImportContactsClose(){this.popups.importContacts.visible=!1},onImportContactsReload(){this.page=1,this.loadContacts()},onNewContact(){this.popups.newContact.visible=!0},onViewDocumentation(){h.default.logEvent("Helpdesk opened",{source:"contacts"}),g.default.openExternal(this.$CONFIG.CRISP_URL_HELP+"/en/category/4e84h7/",!0)},onUpgradeNewContact(){this.$router.push({name:"app.settings.websites.one",params:{websiteId:this.websiteId,usageNamespace:"people:profiles"}}).catch(()=>{})},onRemoveFilteredContacts(e){_.default.batchRemove(this.websiteId).patch({people:{search:{filter:JSON.parse(this.searchFilter),operator:"and"}}}).then(()=>(a.default.success("contacts_index_search_destroyed"),this.popups.removeFilteredContacts.visible=!1,this.onFilterRequestFilterReset(),this.requestDisplay="create",Promise.resolve())).catch(e=>(this.handleErrorReason(e),Promise.resolve())).then(()=>{e()})},onRemoveSelectedContacts(e){this.$store.dispatch("contacts/deleteProfiles",{peopleIds:this.selectedRows,websiteId:this.websiteId}).then(()=>(this.selectedRows=[],a.default.success("factory_datatable_item_deleted"),this.popups.removeSelectedContacts.visible=!1,Promise.resolve())).catch(e=>(this.handleErrorReason(e),Promise.resolve())).then(()=>{e()})},onPreviewContact(e,t){this.$pluginExists("urn:crisp.im:people:0")?(this.selectedPeopleId=e,this.selectedPeopleIndex=t):u.default.show({pluginName:"CRM",pluginUrn:"urn:crisp.im:people:0",plan:"pro"})},onPreviousPreview(){this.onShowPreview(-1)},onNextPreview(){this.onShowPreview(1)},onShowPreview(e=1){if(this.selectedPeopleId&&this.selectedPeopleIndex>-1){let t=this.profiles[this.selectedPeopleIndex+e];t&&(this.selectedPeopleId=t.people_id,this.selectedPeopleIndex+=e)}}}};t.default=T},f9d9:function(e,t,i){var o=i("36a2");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("4b83d338",o,!0,{sourceMap:!1,shadowMode:!1})},f9db:function(e,t,i){"use strict";i.r(t);var o=i("033f"),a=i("7331");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("20ec");a["default"].render=o["render"],t["default"]=a["default"]},fa3a:function(e,t,i){"use strict";var o=i("f7f3");i.o(o,"render")&&i.d(t,"render",(function(){return o["render"]}))},fb6f:function(e,t,i){var o=i("6efe");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("5ccaa550",o,!0,{sourceMap:!1,shadowMode:!1})},fdc9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=l;var o=i("7a23");const a={class:"c-contacts-index o-layout o-layout--flex"},n={class:"c-contacts-index__container o-layout__columns o-table"},c=(0,o.createElementVNode)("div",null,null,-1),r=(0,o.createElementVNode)("div",null,null,-1);function l(e,t,i,l,s,d){const p=(0,o.resolveComponent)("contact-segmentation"),m=(0,o.resolveComponent)("base-banner"),f=(0,o.resolveComponent)("base-button"),u=(0,o.resolveComponent)("base-header"),_=(0,o.resolveComponent)("contact-table-item"),b=(0,o.resolveComponent)("base-spinner"),g=(0,o.resolveComponent)("vue-infinite-loading"),h=(0,o.resolveComponent)("base-empty-spot"),x=(0,o.resolveComponent)("common-table"),v=(0,o.resolveComponent)("profile-box"),C=(0,o.resolveComponent)("base-overlay"),k=(0,o.resolveComponent)("export-contacts"),y=(0,o.resolveComponent)("import-contacts"),T=(0,o.resolveComponent)("new-contact"),w=(0,o.resolveComponent)("remove-filtered-contacts"),O=(0,o.resolveComponent)("remove-selected-contacts"),E=(0,o.resolveDirective)("hotkey");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)(p,{class:"c-contacts-index__segmentation",modelValue:d.filterRequest,"onUpdate:modelValue":t[0]||(t[0]=e=>d.filterRequest=e),"onFilterRequest:create":d.onFilterRequestCreate,"onFilterRequest:update":d.onFilterRequestUpdate,"onFilterRequest:updated":d.onFilterRequestUpdated,"onFilterRequest:display:updated":d.onFilterRequestDisplayUpdated,"onFilterRequest:filter:reset":d.onFilterRequestFilterReset,"onFilterRequest:filter:updated":d.onFilterRequestFilterUpdated,"onFilterRequest:label:updated":d.onFilterRequestLabelUpdated,display:s.requestDisplay,saving:s.requestSaving,"website-id":s.websiteId},null,8,["modelValue","onFilterRequest:create","onFilterRequest:update","onFilterRequest:updated","onFilterRequest:display:updated","onFilterRequest:filter:reset","onFilterRequest:filter:updated","onFilterRequest:label:updated","display","saving","website-id"]),(0,o.createElementVNode)("div",n,[s.banners.limitReached?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,class:"c-contacts-index__banner",onActionClick:t[1]||(t[1]=e=>d.onBannerAction("limitReached")),content:e.$t("CONTACTS.DEFAULT.BANNER_LIMIT_REACHED_TITLE"),action:e.$t("CONTACTS.DEFAULT.BANNER_LIMIT_REACHED_ACTION"),"has-close":!1,"is-action-pending":s.limitNavigating,color:"red",size:"small"},null,8,["content","action","is-action-pending"])):s.banners.limitAlmostReached?((0,o.openBlock)(),(0,o.createBlock)(m,{key:1,class:"c-contacts-index__banner",onClose:t[2]||(t[2]=e=>d.onBannerClose("limitAlmostReached")),onActionClick:t[3]||(t[3]=e=>d.onBannerAction("limitAlmostReached")),content:e.$t("CONTACTS.DEFAULT.BANNER_LIMIT_ALMOST_REACHED_TITLE"),action:e.$t("CONTACTS.DEFAULT.BANNER_LIMIT_ALMOST_REACHED_ACTION"),"is-action-pending":s.limitNavigating,color:"orange",size:"small"},null,8,["content","action","is-action-pending"])):s.banners.import?((0,o.openBlock)(),(0,o.createBlock)(m,{key:2,class:"c-contacts-index__banner",onClose:t[4]||(t[4]=e=>d.onBannerClose("import")),onActionClick:t[5]||(t[5]=e=>d.onBannerAction("import")),content:e.$t("CONTACTS.DEFAULT.BANNER_IMPORT_TITLE"),action:e.$t("CONTACTS.DEFAULT.BANNER_IMPORT_ACTION"),color:"orange",size:"small"},null,8,["content","action"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(u,{class:"c-contacts-index__header",onSearch:e.onSearch,search:!e.searchFilter,"search-loading":e.searchLoading,"search-disabled":e.contactsLoading&&!e.searchLoading,"search-value":e.searchText,title:d.title,icon:"people"},{buttons:(0,o.withCtx)(()=>[(0,o.createVNode)(f,{class:"c-contacts-index__action c-contacts-index__action--minimized c-contacts-index__action--minimized-early",onClick:d.onViewDocumentation,id:"view_helpdesk",color:"blue","left-icon":"help",size:"small"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.COMMON.DOCUMENTATION")),1)]),_:1},8,["onClick"]),(0,o.createVNode)(f,{class:"c-contacts-index__action c-contacts-index__action--minimized",onClick:d.onNewContact,color:"black",id:"new_user","left-icon":"add_circle",size:"small"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.COMMON.NEW_CONTACT")),1)]),_:1},8,["onClick"]),(0,o.createVNode)(f,{onItemClick:d.onButtonItemClick,items:d.buttonItems,color:"white",id:"actions","left-icon":"whatshot",size:"small"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.DEFAULT.CONTROLS_ACTIONS")),1)]),_:1},8,["onItemClick","items"])]),_:1},8,["onSearch","search","search-loading","search-disabled","search-value","title"]),(0,o.createVNode)(x,{onSortColumn:e.onSortColumn,data:e.profiles,fields:d.fields,initialized:e.initialized,"sort-field":e.sortField,"sort-order":e.sortOrder,"key-field":"people_id"},(0,o.createSlots)({item:(0,o.withCtx)(({item:t,index:i})=>[(0,o.createVNode)(_,{onPreview:d.onPreviewContact,onChecked:d.onCheckboxChange,active:-1!==e.selectedRows.indexOf(t.people_id),contact:t,index:i,opened:s.selectedPeopleId===t.people_id,"website-id":s.websiteId,fields:d.fields},null,8,["onPreview","onChecked","active","contact","index","opened","website-id","fields"])]),empty:(0,o.withCtx)(()=>[(0,o.createVNode)(h,{description:d.emptySpotDescription,title:d.emptySpotTitle,illustration:"users_all"},{buttons:(0,o.withCtx)(()=>[e.searchText||0!==d.filterRequest.filter.length?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(f,{key:0,onClick:d.onNewContact,"left-icon":"add_circle"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("CONTACTS.COMMON.NEW_CONTACT")),1)]),_:1},8,["onClick"])),e.searchText||0!==d.filterRequest.filter.length?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(f,{key:1,onClick:t[6]||(t[6]=e=>d.onButtonItemClick("import_contact_profiles")),color:"white","left-icon":"cloud_download"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("POPUPS.IMPORT_CONTACTS.TITLE")),1)]),_:1}))]),_:1},8,["description","title"])]),_:2},[e.page>=1?{name:"infinite-loading",fn:(0,o.withCtx)(()=>[(0,o.createVNode)(g,{class:"o-table__infinite",onInfinite:e.onLoadMoreContacts},{spinner:(0,o.withCtx)(()=>[(0,o.createVNode)(b,{class:"o-table__spinner","border-width":"2px",size:"18px"})]),"no-more":(0,o.withCtx)(()=>[c]),"no-results":(0,o.withCtx)(()=>[r]),_:1},8,["onInfinite"])])}:void 0]),1032,["onSortColumn","data","fields","initialized","sort-field","sort-order"])]),s.selectedPeopleId?((0,o.openBlock)(),(0,o.createBlock)(C,{key:0,onClose:d.onClosePreview,"close-class":"c-contacts-index__sidebar-close","has-close":"",light:""},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(v,{class:"c-contacts-index__sidebar","people-id":s.selectedPeopleId,"website-id":s.websiteId,mode:"sidebar"},null,8,["people-id","website-id"])]),_:1},8,["onClose"])):(0,o.createCommentVNode)("",!0),s.popups.exportContacts.visible?((0,o.openBlock)(),(0,o.createBlock)(k,{key:1,onClose:t[7]||(t[7]=e=>s.popups.exportContacts.visible=!1)})):(0,o.createCommentVNode)("",!0),s.popups.importContacts.visible?((0,o.openBlock)(),(0,o.createBlock)(y,{key:2,onClose:d.onImportContactsClose,onReloadContacts:d.onImportContactsReload},null,8,["onClose","onReloadContacts"])):(0,o.createCommentVNode)("",!0),s.popups.newContact.visible?((0,o.openBlock)(),(0,o.createBlock)(T,{key:3,onClose:t[8]||(t[8]=e=>s.popups.newContact.visible=!1),onUpgrade:d.onUpgradeNewContact},null,8,["onUpgrade"])):(0,o.createCommentVNode)("",!0),s.popups.removeFilteredContacts.visible?((0,o.openBlock)(),(0,o.createBlock)(w,{key:4,onClose:t[9]||(t[9]=e=>s.popups.removeFilteredContacts.visible=!1),onRemove:d.onRemoveFilteredContacts},null,8,["onRemove"])):(0,o.createCommentVNode)("",!0),s.popups.removeSelectedContacts.visible?((0,o.openBlock)(),(0,o.createBlock)(O,{key:5,onClose:t[10]||(t[10]=e=>s.popups.removeSelectedContacts.visible=!1),onRemove:d.onRemoveSelectedContacts},null,8,["onRemove"])):(0,o.createCommentVNode)("",!0)])),[[E,d.hotkeys]])}}}]);